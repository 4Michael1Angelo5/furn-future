{"version":3,"sources":["shared/icons/tree.png","shared/icons/cart.png","courier/config/wooConfig.js","shared/icons/deal.png","shared/icons/conversation.png","shared/icons/chair.png","shared/icons/compass.png","shared/icons/shopping-cart.png","components/cart/CheckOut.js","courier/postOrders.js","components/cart/processPayment.js","components/cart/processPaymentTest.js","components/context/AppContext.js","components/menuComponent.js","components/homeComponent.js","components/aboutComponent.js","courier/config/client-config.js","courier/ApolloClient.js","courier/graphQL-apollo.js","courier/getProducts.js","courier/getCustomProducts.js","courier/getCustomTest.js","courier/getTableLegProducts.js","courier/getMountingHardware.js","courier/getFinishes.js","components/modalComponent.js","components/customOrderComponent.js","components/storeComponent.js","components/contactComponent.js","components/checkoutComponent.js","shared/galleryContent.js","components/slideComponent.js","components/galleryComponent.js","courier/getPosts.js","components/blogComponent.js","components/mainComponent.js","components/stripeWrapperComponent.js","App.js","serviceWorker.js","index.js","components/cart/functions.js","components/cart/addToCart.js"],"names":["module","exports","siteUrl","consumerKey","consumerSecret","orderData","payment_method","payment_method_title","set_paid","billing","first_name","last_name","address_1","address_2","city","state","postcode","country","email","phone","shipping","line_items","ConfirmOrder","props","step2","Fragment","style","display","justifyContent","striped","scope","className","onClick","backStep","PaymentFormHeader","stepTitleDisplay","choice_lineDisplay","paymentMethodDisplay","toggleChoice","paymentMethod","FirstStepOrSecondStep","step1","ShippingForm","updateShippingAddress","updateBillingAdress","nextStep","PaymentForm","getNameOnCard","setBillingAdressToShippingAddress","ConfirmOrderModal","isOpen","modal","toggle","message","color","StepProgress","step3","this","React","Component","handleInputChange","e","form","target","name","value","validateForm","regExTests","shippingOrderData","Object","values","billingOrderData","splice","push","newOrderData","console","log","regExTestResults","map","regEx","index","test","replace","RegExTestResultIndexes","array","val","i","indexes","length","getAllIndexes","setState","first_nameState","last_nameState","address_1State","cityState","stateState","postcodeState","emailState","phoneState","adress1State","formIsValid","validate","bind","input","preventDefault","type","placeholder","onChange","onBlur","valid","invalid","BillingAddressForm","updateBillingAddress","useContext","AppContext","cart","totalPrice","keys","totalProductsPrice","useState","collapse","setCollapse","handleBillingInfo","param","base","fontSize","fontFamily","letterSpacing","check","id","defaultChecked","label","billingAddressSameAsShipping","CartInfo","setCart","productsCount","totalProductsCount","handleRemoveProductClick","product","process","browser","updatedCart","removeItemFromCart","updateOrder","newLine_items","products","productId","qty","position","top","right","item","key","padding","src","image","sourceUrl","width","role","pop","setPop","tabIndex","stockQuantity","existingCart","localStorage","getItem","JSON","parse","updateCart","newCart","addFirstProduct","handleAddToCartClick","placement","trigger","price","TotalPrice","cartIcon","left","CheckOutPage","String","innerHTML","handleSubmit","a","stripe","createToken","name_onCard","token","undefined","getToken_srcId","token_src","postOrder","order","order_id","processPaymentTest","then","res","paymentMessage","paymentProcessing","orientation","handleOrientation","handlePop","assign","blankBillingData","billingData","shippingData","newBillingData","window","innerWidth","innerHeight","toggleOnBlur","newPop","addEventListener","grid","columnOrder","isClickable","injectStripe","WooCommerceAPI","require","wooConfig","WooCommerce","url","wpAPI","version","data","postAsync","response","body","catch","error","token_id","myHeaders","Headers","append","urlencoded","URLSearchParams","fetchedData","fetch","method","headers","redirect","json","result","myHeader","requestOptions","Promise","resolve","reject","createContext","AppProvider","useEffect","cartData","Provider","children","HamburgerMenu","aboutPage","createRef","galleryPage","event","customBurgerIcon","tree","alt","downBtnScroll","Home","isUserInteractingWithBlog","ref","homePage","isUserInteractingWithStore","Navbar","handleView","About","clientConfig","graphqlUrl","client","ApolloClient","uri","PRODUCTS_QUERY","gql","getInitialProps","query","loading","nodes","getProducts","getAsync","getCustomOrderProducts","productCategories","getCustomOrderTestProps","getTableLegProducts","getMountingHardware","getFinishes","edges","GalleryModal","title","galleryImages","activeImg","setImg","Modal","center","ModalHeader","ModalBody","ModalFooter","Button","SelectSeries","testSeries","node","renderSlabs","renderHTML","description","SelectSlab","activeProductsfromSeries","activeSeries","renderProduct","SelectCut","activeProduct","statsGrid","useType","productTags","forEach","element","uses","join","setModal","activeImage","height","renderImage","borderRight","parseInt","transition","transitionProperty","duration","stepPrecision","attributes","options","FormGroup","Label","Input","SelectFinish","useDefaultFinish","defaultFinish","finishTypes","activeFinish","activeFinishImage","defaultFinishImage","defaultFinishDescription","activeFinishDescription","open","setDropdown","handleFinishSelect","backgroundImage","surfaceArea","Math","round","calculateSurfaceArea","Collapse","SelectHardware","tableLegs","mountingHardware","activeHardwareProduct","gallery","viewHardwareProduct","gallery_grid","img","handleNavigation","renderHardwareProduct","CustomOrderStep","selectSeries","series","selectSlab","selectCut","selectFinish","useDefaultFinishImage","renderFinishImage","selectHardware","CustomOrderNav","slabTooltipOpen","setSlabTooltip","toggleSlabTooltip","seriesTooltipOpen","setSeriesTooltip","toggleSeriesTooltip","handleStep","transform","translateAmount","Tooltip","CustomOrderComponent","getNavTargetPostion","handleResize","testSlabs","contentNodes","targets__Xposition","slabs","selectedSlab","cut","destination","navElements","document","getElementsByClassName","sliderWidth","getBoundingClientRect","targetXs","el","x","setStep","step","finish","hardware","removeEventListener","ProductView","conversation","deal","chair","activeFrame","Number","defaultView","collapseDescription","collapseDetails","handleFocus","stockStatus","mediaItemUrl","ShopCatalouge","catLoading","viewProduct","renderProductView","activeItemId","StoreOptions","margin","marginBottom","shoppingCart","alignContent","compass","Store","getCustomProducts","viewCustom","viewCatalouge","swiped","inventory","backToCatalouge","_onTouchStart","_onTouchMove","_onTouchEnd","_swipe","minDistance","productID","handleScrollableFocus","touch","touches","clientX","changedTouches","swiping","absX","onSwiped","revertView","onTouchStart","onTouchMove","onTouchEnd","viewCatalog","Contact","row","Form","for","scroll","CheckOut","GALLERY","Frame","observer","lozad","isClicked","handleClick","observe","activeFrameIsOpen","data-background-image","backgroundColor","ActiveFrame","ActiveFrameDesciption","returnView","Slide","activeItem","checkActiveFrame","newArray","content","findIndex","arg","isActive","items","altText","caption","Slider","cssModule","AwsSliderStyles","Gallery","animating","CarouselItem","onExiting","onExited","getPosts","posts","BlogLandingPage","toggleBlog","BlogHeader","BlogPosts","post","Date","date","toLocaleDateString","featuredImage","togglePost","ViewPost","comments","BlogContent","viewPost","activePost","viewBlog","marginTop","Main","isUserInteractingWithGalery","storeRef","windowHeight","currentIndex","postionOfStore","view","storePage","getElementById","scrollIntoView","behavior","StripeWrapperComponent","App","apiKey","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","getFloatVal","string","floatValue","parseFloat","toFixed","productPrice","newProduct","createNewProduct","setItem","stringify","qtyToBeAdded","newQty","updatedProducts","getUpdatedProducts","addPrice","total","reduce","existingProductsInCart","productExitsIndex","isProductInCart","updatedProduct","filter","indexOf","removeItem","priceToBeDeductedFromTotal","CartSuccess","itemsInCartNumber","show","animate","shake","ViewCartButton","checkoutPage","AddToCartButton","setMessage","checkIfAvailable","setAnimate","toggleAnimate","indexOfProductInCart","setTimeout"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,wCCQ3CD,EAAOC,QARW,CACdC,QAAS,6CACTC,YAAa,8CACbC,eAAgB,gD,oBCHpBJ,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,0C,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,w6BCkB3C,IAAMI,EAAY,CAChBC,eAAgB,SAChBC,qBAAsB,uBACtBC,UAAU,EACVC,QAAS,CACPC,WAAY,GACZC,UAAW,GACXC,UAAW,GACXC,UAAW,GACXC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,QAAS,KACTC,MAAO,GACPC,MAAO,IAETC,SAAU,CACRV,WAAY,GACZC,UAAW,GACXC,UAAW,GACXC,UAAW,GACXC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,QAAS,MAEXI,WAAY,IAQRC,EAAe,SAACC,GAEtB,IAAId,EAAUc,EAAMd,QAIlB,OAAIc,EAAMC,MAGR,kBAAC,IAAMC,SAAP,KAEI,wBAAIC,MAAQ,CACVC,QAAS,OACTC,eAAgB,aAFlB,gBAQJ,kBAAC,IAAD,CAAOC,SAAO,GACZ,+BACE,4BACE,wBAAIC,MAAM,OAAV,aACA,sCAAQrB,EAAQC,WAAhB,QAEF,4BACE,wBAAIoB,MAAM,OAAV,UACA,sCAAQrB,EAAQG,UAAhB,QAEF,4BACE,wBAAIkB,MAAM,OAAV,QACA,sCAAQrB,EAAQK,KAAhB,QAEF,4BACE,wBAAIgB,MAAM,OAAV,SACA,sCAAQrB,EAAQM,MAAhB,QAEF,4BACE,wBAAIe,MAAM,OAAV,OACA,sCAAQrB,EAAQO,SAAhB,UAKJ,yBAAKe,UAAY,QACf,yBAAKA,UAAY,oCACf,yBAAKA,UAAY,yBAAyBC,QAAWT,EAAMU,UAA3D,WAOK,MAGTC,EAAoB,SAACX,GAEzB,IAAIY,EAAmBZ,EAAMC,MAAQ,OAAS,QAC1CY,EAAqBb,EAAMC,MAAQ,SAAW,GAC9Ca,EAAyBd,EAAMC,MAAQ,SAAW,gDACtD,OAED,kBAAC,IAAMC,SAAP,KACK,wBACFC,MAAS,CACPC,QAASQ,EACTP,eAAe,WAHf,WAOJ,yBAAKG,UAAaM,GAChB,yBAAKN,UAAY,sCACf,2BAAOA,UAAY,0CAA0CC,QAAST,EAAMe,cAA5E,eACA,2BAAOP,UAAY,0CAA0CC,QAAST,EAAMe,cAA5E,YAIJ,yBAAKP,UAAS,qBAAmBK,IAC/B,yBAAKL,UAAY,OACf,yBAAKA,UAAS,sBAAmBR,EAAMgB,cAAzB,WASdC,EAAwB,SAACjB,GAO7B,OAAI,IAAUA,EAAMkB,MAEhB,kBAAC,IAAMhB,SAAP,KACE,kBAACiB,EAAD,CACEtB,SAAYG,EAAMH,SAClBX,QAAUc,EAAMd,QAChBkC,sBAAyBpB,EAAMoB,sBAC/BC,oBAAsBrB,EAAMqB,oBAC5BC,SAAYtB,EAAMsB,YAMtB,kBAAC,IAAMpB,SAAP,KAEE,kBAACS,EAAD,CACAV,MAASD,EAAMC,MACfe,cAAiBhB,EAAMgB,cACvBD,aAAgBf,EAAMe,eAEG,WAAxBf,EAAMgB,cACJ,kBAACO,EAAD,CACA1B,SAAYG,EAAMH,SAClBX,QAAWc,EAAMd,QACjBmC,oBAAuBrB,EAAMqB,oBAC7BpB,MAASD,EAAMC,MACfuB,cAAiBxB,EAAMwB,cACvBd,SAAYV,EAAMU,SAClBY,SAAYtB,EAAMsB,SAClBG,kCAAqCzB,EAAMyB,oCAG3C,sDAULC,EAAoB,SAAC1B,GAEzB,OACE,6BACE,kBAAC,IAAD,CAAO2B,OAAQ3B,EAAM4B,MAAOC,OAAQ7B,EAAM6B,QACxC,kBAAC,IAAD,CAAaA,OAAQ7B,EAAM6B,QAA3B,iBACA,kBAAC,IAAD,KACG7B,EAAM8B,SAET,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAQC,MAAM,YAAYtB,QAAST,EAAM6B,QAAS,IAAlD,OAA2D,SAO7DG,E,YACN,WAAYhC,GAAO,IAAD,8BAChB,4CAAMA,KACDR,MAAO,CACV0B,OAAM,EACNjB,OAAM,EACNgC,OAAM,GALQ,E,sEASd,OACE,wBAAIzB,UAAU,cACZ,wBAAIA,UAAS,4BAAwB0B,KAAKlC,MAAMkB,MAAM,iBAAiB,sBACrE,0BAAMV,UAAU,cAAhB,QAGF,wBAAIA,UAAY,eAAQ0B,KAAKlC,MAAMC,MAAQ,mBAAmB,sBAA9C,UACGiC,KAAKlC,MAAMkB,MAAO,eAAiB,KACpD,0BAAMV,UAAU,cAAhB,MAGF,wBAAIA,UAAY,gBAAS0B,KAAKlC,MAAMiC,MAAM,mBAAmB,sBAA7C,UACCC,KAAKlC,MAAMC,MAAO,iBAAmB,KACpD,0BAAMO,UAAU,cAAhB,W,GAvBiB2B,IAAMC,WAgC3BjB,E,YAEJ,WAAYnB,GAAO,IAAD,8BAChB,4CAAMA,KAkBNqC,kBAAoB,SAACC,EAAEC,GAAU,IAAD,EAEND,EAAEE,OAAlBC,EAFsB,EAEtBA,KAAMC,EAFgB,EAEhBA,MAGD,aAATH,EAEF,EAAKvC,MAAMoB,sBAAuBqB,EAAOC,GAGtC,EAAK1C,MAAMqB,oBAAqBoB,EAAMC,IA7B7B,EA2InBC,aAAe,WACd,IAAMzD,EAAU,EAAKc,MAAMd,QAErBW,EAAW,EAAKG,MAAMH,SAoBtB+C,EAAa,CAlBI,iBAED,iBAED,qEAEF,iCAEA,cAEG,2BAEH,wJAEA,uCAUbC,EAAoBC,OAAOC,OAAOlD,GAElCmD,EAAmB,CAAC9D,EAAQS,MAAOT,EAAQU,OAOjDiD,EAAkBI,OAAO,EAAE,GAC3BJ,EAAkBI,OAAO,EAAE,GAC3BJ,EAAkBK,KAAlB,MAAAL,EAA0BG,GAE1B,IAAMG,EAAeN,EAErBO,QAAQC,IAAIF,GAKZ,IAAIG,EAAmB,GAEvBV,EAAWW,KAAI,SAACC,EAAMC,GAEpBH,EAAiBJ,KAAKM,EAAME,KAAKP,EAAaM,GAAOE,QAAQ,SAAU,SAK1E,IAUGC,EAVmB,SAACC,EAAOC,GAC7B,IAAkBC,EAAdC,EAAU,GACd,IAAID,EAAI,EAAGA,EAAIF,EAAMI,OAAQF,IACrBF,EAAME,KAAOD,GACbE,EAAQd,KAAKa,GACrB,OAAOC,EAKoBE,CAAcZ,GAAiB,GAG3D,GAAsC,IAAlCM,EAAuBK,OAG3B,OAAQ,EAAKjE,MAAMsB,WAOlB,IAAI,IAAIyC,EAAI,EAAIA,EAAIH,EAAuBK,OAAQF,IAEf,IAA9BH,EAAuBG,IACzB,EAAKI,SAAS,CAACC,gBAAgB,eAC/BhB,QAAQC,IAAI,qBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACE,eAAe,eAC9BjB,QAAQC,IAAI,0BAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACG,eAAe,eAC9BlB,QAAQC,IAAI,8BAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACI,UAAU,eACzBnB,QAAQC,IAAI,qBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACK,WAAW,eAC1BpB,QAAQC,IAAI,sBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACM,cAAc,eAC7BrB,QAAQC,IAAI,yBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACO,WAAW,eAC1BtB,QAAQC,IAAI,sBAEwB,IAA9BO,EAAuBG,KAC7B,EAAKI,SAAS,CAACQ,WAAW,eAC1BvB,QAAQC,IAAI,sBAIhB,OAAO,GA9PL,EAAK7D,MAAQ,CACXkF,WAAa,GACbC,WAAa,GACbF,cAAe,GACfG,aAAe,GACfL,UAAY,GACZC,WAAY,GACZJ,gBAAiB,GACjBC,eAAgB,GAChBQ,aAAc,GAGhB,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKpC,aAAe,EAAKA,aAAaoC,KAAlB,gBAfJ,E,sEAmCPzC,EAAE0C,GAIT,GAFA1C,EAAE2C,iBAEY,UAAVD,EAAkB,CAEH,wJAEJtB,KAAKpB,EAAEE,OAAOE,OACzBR,KAAKiC,SAAU,CAAEO,WAAa,gBAGhCxC,KAAKiC,SAAU,CAAEO,WAAa,oBAG3B,GAAc,UAAVM,EAAkB,CAER,sCAEJtB,KAAKpB,EAAEE,OAAOE,OACzBR,KAAKiC,SAAS,CAACQ,WAAa,gBAG5BzC,KAAKiC,SAAS,CAACQ,WAAW,oBAIzB,GAAc,aAAVK,EAAqB,CAER,2BAEJtB,KAAKpB,EAAEE,OAAOE,OAC5BR,KAAKiC,SAAS,CAACM,cAAe,gBAG9BvC,KAAKiC,SAAS,CAACM,cAAc,oBAI5B,GAAc,cAAVO,EAAsB,CAER,qEAEJtB,KAAKpB,EAAEE,OAAOE,OAC/BR,KAAKiC,SAAS,CAACG,eAAiB,gBAG9BpC,KAAKiC,SAAS,CAACG,eAAe,oBAI7B,GAAc,SAAVU,EAAiB,CAEL,iCAELtB,KAAKpB,EAAEE,OAAOE,OAC5BR,KAAKiC,SAAS,CAACI,UAAY,gBAGzBrC,KAAKiC,SAAS,CAACI,UAAU,oBAIxB,GAAc,UAAVS,EAAkB,CAEN,cAEJtB,KAAKpB,EAAEE,OAAOE,OAC7BR,KAAKiC,SAAS,CAACK,WAAa,gBAG1BtC,KAAKiC,SAAS,CAACK,WAAW,oBAIzB,GAAc,eAAVQ,EAAuB,CAEP,iBAEJtB,KAAKpB,EAAEE,OAAOE,OAC/BR,KAAKiC,SAAS,CAACC,gBAAkB,gBAGjClC,KAAKiC,SAAS,CAACC,gBAAgB,oBAI9B,GAAc,cAAVY,EAAsB,CAEP,iBAEJtB,KAAKpB,EAAEE,OAAOE,OAChCR,KAAKiC,SAAS,CAACE,eAAiB,gBAG9BnC,KAAKiC,SAAS,CAACE,eAAe,kB,+BAyI7B,IAAD,OAEAnF,EAAUgD,KAAKlC,MAAMd,QAErBW,EAAWqC,KAAKlC,MAAMH,SAE5B,OAEE,kBAAC,IAAMK,SAAP,KAEE,gDAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAWM,UAAY,uBAEvB,yBAAKA,UAAY,uBAEb,kBAAC,IAAD,CAAOA,UAAY,QAAQ0E,KAAK,OAAOzC,KAAK,aAAc0C,YAAY,aACpEzC,MAAS7C,EAASV,WAClBiG,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,eAC7BgD,MAAwC,gBAA/BpD,KAAK1C,MAAM4E,gBACpBmB,QAA0C,eAA/BrD,KAAK1C,MAAM4E,kBAGW,eAA/BlC,KAAK1C,MAAM4E,gBAEX,kBAAC,IAAD,iGAC2F,4BAD3F,oDAKA,KAGJ,kBAAC,IAAD,CAAQ5D,UAAY,QAAQ0E,KAAK,OAAOzC,KAAK,YAAa0C,YAAY,YACpEzC,MAAS7C,EAAST,UAClBgG,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,cAC7BgD,MAAuC,gBAA9BpD,KAAK1C,MAAM6E,eACpBkB,QAAyC,eAA9BrD,KAAK1C,MAAM6E,iBAGU,eAA9BnC,KAAK1C,MAAM6E,eAEX,kBAAC,IAAD,+FACyF,4BADzF,2DAKA,MAKR,kBAAC,IAAD,CAAOa,KAAK,OAAOzC,KAAK,YAAY0C,YAAY,gBAC9CzC,MAAS7C,EAASR,UAClB+F,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,cAC7BgD,MAAuC,gBAA9BpD,KAAK1C,MAAM8E,eACpBiB,QAAyC,eAA9BrD,KAAK1C,MAAM8E,iBAGU,eAA9BpC,KAAK1C,MAAM8E,eAEX,kBAAC,IAAD,sGACgG,4BADhG,4BAKA,KAGJ,kBAAC,IAAD,CAAOY,KAAK,OAAOzC,KAAK,YAAY0C,YAAY,gBAC9CzC,MAAS7C,EAASP,UAClB8F,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,eAG1C,yBAAK9B,UAAY,sBAEb,kBAAC,IAAD,CAAOA,UAAY,SAAS0E,KAAK,OAAOzC,KAAK,OAAQ0C,YAAY,OAC/DzC,MAAS7C,EAASN,KAClB6F,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,SAC7BgD,MAAkC,eAAxBpD,KAAK1C,MAAM+E,UACrBgB,QAAoC,eAAzBrD,KAAK1C,MAAM+E,YAGK,eAAzBrC,KAAK1C,MAAM+E,UAEX,kBAAC,IAAD,gGAC0F,4BAD1F,wCAKA,KAGJ,kBAAC,IAAD,CAAO/D,UAAY,UAAU0E,KAAK,OAAOzC,KAAK,QAAS0C,YAAY,QACjEzC,MAAS7C,EAASL,MAClB4F,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAW,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,UAC9BgD,MAAkC,gBAAzBpD,KAAK1C,MAAMgF,WACpBe,QAAqC,eAA1BrD,KAAK1C,MAAMgF,aAGM,eAA1BtC,KAAK1C,MAAMgF,WAEX,kBAAC,IAAD,kGAC4F,4BAD5F,kCAKA,MAKR,kBAAC,IAAD,CAAOU,KAAK,OAAOzC,KAAK,WAAW0C,YAAY,WAC7CzC,MAAS7C,EAASJ,SAClB2F,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,aACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,aAC7BgD,MAAsC,gBAA7BpD,KAAK1C,MAAMiF,cACpBc,QAAuC,eAA7BrD,KAAK1C,MAAMiF,gBAGU,eAA7BvC,KAAK1C,MAAMiF,cAEX,kBAAC,IAAD,6FACuF,4BADvF,oCAKA,KAIJ,kBAAC,IAAD,CAAOS,KAAK,QAAQzC,KAAK,QAAS0C,YAAY,QAC5CzC,MAASxD,EAAQS,MACjByF,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,YACxC+C,OAAU,SAAA/C,GAAC,OAAI,EAAKwC,SAASxC,EAAE,UAC/BgD,MAAmC,gBAA1BpD,KAAK1C,MAAMkF,WACpBa,QAAoC,eAA1BrD,KAAK1C,MAAMkF,aAGO,eAA1BxC,KAAK1C,MAAMkF,WAEX,kBAAC,IAAD,wFAIA,KAIJ,kBAAC,IAAD,CAAOQ,KAAK,QAAQzC,KAAK,QAAQ0C,YAAY,QAC3CzC,MAASxD,EAAQU,MACjBwF,SAAY,SAAA9C,GAAC,OAAE,EAAKD,kBAAkBC,EAAE,YACxC+C,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,UAC7BgD,MAAmC,gBAA1BpD,KAAK1C,MAAMmF,WACpBY,QAAqC,eAA1BrD,KAAK1C,MAAMmF,aAGM,eAA1BzC,KAAK1C,MAAMmF,WAEX,kBAAC,IAAD,qGAC+F,6BAD/F,0EAKA,MAMP,yBAAKnE,UAAY,OACf,yBAAKA,UAAW,kCAEhB,yBAAKA,UAAY,0BAA0BC,QAAW,kBAAI,EAAKkC,iBAA/D,gB,GAhckBR,IAAMC,WAgd3BoD,E,YACJ,WAAYxF,GAAO,IAAD,8BAChB,4CAAMA,KAiBRqC,kBAAoB,SAACC,GAAO,IAAD,EACDA,EAAEE,OAAlBC,EADiB,EACjBA,KAAMC,EADW,EACXA,MAEd,EAAK1C,MAAMyF,qBAAsBhD,EAAMC,IArBvB,EAoIlBC,aAAe,WAEb,IAAMzD,EAAU,EAAKc,MAAMd,QAoBrB0D,EAAa,CAlBI,iBAED,iBAED,qEAEF,iCAEA,cAEG,2BAEH,wJAEA,uCAQbI,EAAmBF,OAAOC,OAAO7D,GAKvC8D,EAAiBC,OAAO,EAAE,GAC1BD,EAAiBC,OAAO,EAAE,GAE1B,IAAME,EAAeH,EAErBI,QAAQC,IAAIF,GAKZ,IAAIG,EAAmB,GAEvBV,EAAWW,KAAI,SAACC,EAAMC,GAEpBH,EAAiBJ,KAAKM,EAAME,KAAKP,EAAaM,GAAOE,QAAQ,SAAU,SAKzE,IAUIC,EAVkB,SAACC,EAAOC,GAC9B,IAAkBC,EAAdC,EAAU,GACd,IAAID,EAAI,EAAGA,EAAIF,EAAMI,OAAQF,IACrBF,EAAME,KAAOD,GACbE,EAAQd,KAAKa,GACrB,OAAOC,EAKsBE,CAAcZ,GAAiB,GAG5D,GAAsC,IAAlCM,EAAuBK,OAG3B,OAFAb,QAAQC,IAAI,aAEJ,EAAKrD,MAAMsB,WAOnB,IAAI,IAAIyC,EAAI,EAAIA,EAAIH,EAAuBK,OAAQF,IAEf,IAA9BH,EAAuBG,IACzB,EAAKI,SAAS,CAACC,gBAAgB,eAC/BhB,QAAQC,IAAI,qBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACE,eAAe,eAC9BjB,QAAQC,IAAI,0BAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACG,eAAe,eAC9BlB,QAAQC,IAAI,8BAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACI,UAAU,eACzBnB,QAAQC,IAAI,qBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACK,WAAW,eAC1BpB,QAAQC,IAAI,sBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACM,cAAc,eAC7BrB,QAAQC,IAAI,yBAEyB,IAA9BO,EAAuBG,IAC9B,EAAKI,SAAS,CAACO,WAAW,eAC1BtB,QAAQC,IAAI,sBAEwB,IAA9BO,EAAuBG,KAC7B,EAAKI,SAAS,CAACQ,WAAW,eAC1BvB,QAAQC,IAAI,sBAIhB,OAAO,GA/OP,EAAK7D,MAAQ,CACXkF,WAAa,GACbC,WAAa,GACbF,cAAe,GACfG,aAAe,GACfL,UAAY,GACZC,WAAY,GACZJ,gBAAiB,GACjBC,eAAgB,GAChBQ,aAAc,GAEhB,EAAKxC,kBAAoB,EAAKA,kBAAkB0C,KAAvB,gBACzB,EAAKD,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKpC,aAAe,EAAKA,aAAaoC,KAAlB,gBAfJ,E,iFA0BhB7C,KAAKlC,MAAMyB,kCAAkC,U,+BAGtCa,EAAE0C,GAIT,GAFA1C,EAAE2C,iBAEY,UAAVD,EAAkB,CAEH,wJAEJtB,KAAKpB,EAAEE,OAAOE,OACzBR,KAAKiC,SAAU,CAAEO,WAAa,gBAGhCxC,KAAKiC,SAAU,CAAEO,WAAa,oBAG3B,GAAc,UAAVM,EAAkB,CAER,sCAEJtB,KAAKpB,EAAEE,OAAOE,OACzBR,KAAKiC,SAAS,CAACQ,WAAa,gBAG5BzC,KAAKiC,SAAS,CAACQ,WAAW,oBAIzB,GAAc,aAAVK,EAAqB,CAER,2BAEJtB,KAAKpB,EAAEE,OAAOE,OAC5BR,KAAKiC,SAAS,CAACM,cAAe,gBAG9BvC,KAAKiC,SAAS,CAACM,cAAc,oBAI5B,GAAc,cAAVO,EAAsB,CAER,qEAEJtB,KAAKpB,EAAEE,OAAOE,OAC/BR,KAAKiC,SAAS,CAACG,eAAiB,gBAG9BpC,KAAKiC,SAAS,CAACG,eAAe,oBAI7B,GAAc,SAAVU,EAAiB,CAEL,iCAELtB,KAAKpB,EAAEE,OAAOE,OAC5BR,KAAKiC,SAAS,CAACI,UAAY,gBAGzBrC,KAAKiC,SAAS,CAACI,UAAU,oBAIxB,GAAc,UAAVS,EAAkB,CAEN,cAEJtB,KAAKpB,EAAEE,OAAOE,OAC7BR,KAAKiC,SAAS,CAACK,WAAa,gBAG1BtC,KAAKiC,SAAS,CAACK,WAAW,oBAIzB,GAAc,eAAVQ,EAAuB,CAEP,iBAEJtB,KAAKpB,EAAEE,OAAOE,OAC/BR,KAAKiC,SAAS,CAACC,gBAAkB,gBAGjClC,KAAKiC,SAAS,CAACC,gBAAgB,oBAI9B,GAAc,cAAVY,EAAsB,CAEP,iBAEJtB,KAAKpB,EAAEE,OAAOE,OAChCR,KAAKiC,SAAS,CAACE,eAAiB,gBAG9BnC,KAAKiC,SAAS,CAACE,eAAe,kB,+BA0H3B,IAAD,OAEAnF,EAAUgD,KAAKlC,MAAMd,QAE3B,OACE,kBAAC,IAAMgB,SAAP,KAGE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAWM,UAAY,uBAEvB,yBAAKA,UAAY,uBAEb,kBAAC,IAAD,CAAOA,UAAY,QAAQ0E,KAAK,OAAOzC,KAAK,aAAc0C,YAAY,aACpEzC,MAASxD,EAAQC,WACjBiG,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,eAC7BgD,MAAwC,gBAA/BpD,KAAK1C,MAAM4E,gBACpBmB,QAA0C,eAA/BrD,KAAK1C,MAAM4E,kBAGW,eAA/BlC,KAAK1C,MAAM4E,gBAEX,kBAAC,IAAD,iGAC2F,4BAD3F,oDAKA,KAGJ,kBAAC,IAAD,CAAQ5D,UAAY,QAAQ0E,KAAK,OAAOzC,KAAK,YAAa0C,YAAY,YACpEzC,MAASxD,EAAQE,UACjBgG,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,cAC7BgD,MAAuC,gBAA9BpD,KAAK1C,MAAM6E,eACpBkB,QAAyC,eAA9BrD,KAAK1C,MAAM6E,iBAGU,eAA9BnC,KAAK1C,MAAM6E,eAEX,kBAAC,IAAD,+FACyF,4BADzF,2DAKA,MAKR,kBAAC,IAAD,CAAOa,KAAK,OAAOzC,KAAK,YAAY0C,YAAY,gBAC9CzC,MAASxD,EAAQG,UACjB+F,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,cAC7BgD,MAAuC,gBAA9BpD,KAAK1C,MAAM8E,eACpBiB,QAAyC,eAA9BrD,KAAK1C,MAAM8E,iBAGU,eAA9BpC,KAAK1C,MAAM8E,eAEX,kBAAC,IAAD,sGACgG,4BADhG,4BAKA,KAGJ,kBAAC,IAAD,CAAOY,KAAK,OAAOzC,KAAK,YAAY0C,YAAY,gBAC9CzC,MAASxD,EAAQI,UACjB8F,SAAYlD,KAAKG,oBAGnB,yBAAK7B,UAAY,sBAEb,kBAAC,IAAD,CAAOA,UAAY,SAAS0E,KAAK,OAAOzC,KAAK,OAAQ0C,YAAY,OAC/DzC,MAASxD,EAAQK,KACjB6F,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,SAC7BgD,MAAkC,eAAxBpD,KAAK1C,MAAM+E,UACrBgB,QAAoC,eAAzBrD,KAAK1C,MAAM+E,YAGK,eAAzBrC,KAAK1C,MAAM+E,UAEX,kBAAC,IAAD,gGAC0F,4BAD1F,wCAKA,KAGJ,kBAAC,IAAD,CAAO/D,UAAY,UAAU0E,KAAK,OAAOzC,KAAK,QAAS0C,YAAY,QACjEzC,MAASxD,EAAQM,MACjB4F,SAAYlD,KAAKG,kBACjBgD,OAAW,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,UAC9BgD,MAAkC,gBAAzBpD,KAAK1C,MAAMgF,WACpBe,QAAqC,eAA1BrD,KAAK1C,MAAMgF,aAGM,eAA1BtC,KAAK1C,MAAMgF,WAEX,kBAAC,IAAD,kGAC4F,4BAD5F,kCAKA,MAKR,kBAAC,IAAD,CAAOU,KAAK,OAAOzC,KAAK,WAAW0C,YAAY,WAC7CzC,MAASxD,EAAQO,SACjB2F,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,aAC7BgD,MAAsC,gBAA7BpD,KAAK1C,MAAMiF,cACpBc,QAAuC,eAA7BrD,KAAK1C,MAAMiF,gBAGU,eAA7BvC,KAAK1C,MAAMiF,cAEX,kBAAC,IAAD,6FACuF,4BADvF,oCAKA,KAIJ,kBAAC,IAAD,CAAOS,KAAK,QAAQzC,KAAK,QAAS0C,YAAY,QAC5CzC,MAASxD,EAAQS,MACjByF,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAI,EAAKwC,SAASxC,EAAE,UAC/BgD,MAAmC,gBAA1BpD,KAAK1C,MAAMkF,WACpBa,QAAoC,eAA1BrD,KAAK1C,MAAMkF,aAGO,eAA1BxC,KAAK1C,MAAMkF,WAEX,kBAAC,IAAD,wFAIA,KAIJ,kBAAC,IAAD,CAAOQ,KAAK,QAAQzC,KAAK,QAAQ0C,YAAY,QAC3CzC,MAASxD,EAAQU,MACjBwF,SAAYlD,KAAKG,kBACjBgD,OAAU,SAAA/C,GAAC,OAAE,EAAKwC,SAASxC,EAAE,UAC7BgD,MAAmC,gBAA1BpD,KAAK1C,MAAMmF,WACpBY,QAAqC,eAA1BrD,KAAK1C,MAAMmF,aAGM,eAA1BzC,KAAK1C,MAAMmF,WAEX,kBAAC,IAAD,qGAC+F,6BAD/F,0EAKA,OAOV,yBAAKnE,UAAY,OACb,yBAAKA,UAAY,oCACf,yBAAKA,UAAY,yBAAyBC,QAAWyB,KAAKlC,MAAMU,UAAhE,SAIJ,yBAAKF,UAAY,kCAEb,yBAAKA,UAAY,yBAAyBC,QAAWyB,KAAKS,aAAcuC,KAAO,UAA/E,e,GA5auB/C,IAAMC,WA2bjCb,EAAc,SAACvB,GAAU,IAAD,EAEX0F,qBAAYC,KAArBC,EAFoB,oBAGtBC,EAAe,OAASD,GAAQ9C,OAAOgD,KAAMF,GAAO3B,OAAW2B,EAAKG,mBAAqB,GAHnE,EAcIC,oBAAS,GAdb,mBAcrBC,EAdqB,KAcXC,EAdW,KAgBtBC,EAAoB,SAACC,GAEX,SAAVA,GAEFpG,EAAMyB,kCAAkC,QACxCyE,GAAY,KAKZlG,EAAMyB,kCAAkC,SACxCyE,GAAY,KA0BR9F,EAAUJ,EAAMC,MAAQ,OAAS,SAEvC,OAGE,yBAAKE,MAAS,CACZC,QAAQA,IAEN,2BACEI,UAAY,oBACZ0E,KAAK,OACLzC,KAAK,cACL0C,YAAY,OACZC,SAAU,SAAA9C,GAAC,OA7DK,SAACA,GAAO,IAAD,EAEPA,EAAEE,OAAlBC,EAFuB,EAEvBA,KAAMC,EAFiB,EAEjBA,MAEd1C,EAAMwB,cAAgBiB,EAAMC,GAC5B1C,EAAMwB,cAAc,SAAWqE,GAwDVxD,CAAkBC,MAGjC,kBAAC,oBAAD,iBAlCG,CACLnC,MAAO,CACLkG,KAAM,CACJC,SAAU,OACVvE,MAAO,UACPwE,WAAY,wBACZC,cAAe,UACf,gBAAiB,CACfzE,MAAO,YAGXwD,QAAS,CACPxD,MAAO,aAsBT,CAEEvB,UAAW,uBAEb,yBAAKA,UAAY,uBAEjB,kBAAC,oBAAD,CAAmBA,UAAY,4BAE/B,kBAAC,iBAAD,CAAgBA,UAAY,6BAG5B,kBAAC,IAAD,KAEE,yBAAKA,UAAY,qDAEf,kBAAC,IAAD,KAEA,gDAIA,kBAAC,IAAD,CAAWiG,OAAK,GAEZ,kBAAC,IAAD,CAAavB,KAAK,QAAQwB,GAAG,qBAAqBjE,KAAK,cAAekE,gBAAc,EAAEC,MAAM,mBAAmBnG,QAAW,kBAAI0F,EAAkB,WAEhJ,kBAAC,IAAD,CAAajB,KAAK,QAAQwB,GAAG,4BAA4BjE,KAAK,cAAcmE,MAAM,oBAAoBnG,QAAW,kBAAI0F,EAAkB,eAQ/I,kBAAC,IAAD,CAAUxE,OAAUsE,GAChB,kBAACT,EAAD,CACE/D,kCAAqCzB,EAAMyB,kCAC3CgE,qBAAwBzF,EAAMqB,oBAC9BnC,QAAWc,EAAMd,QACjBW,SAAYG,EAAMH,SAClBgH,8BAAiCZ,EACjC3E,SAAYtB,EAAMsB,SAClBZ,SAAYV,EAAMU,YAKxBuF,EAED,KAEA,kBAAC,IAAM/F,SAAP,KACG,yBAAKM,UAAY,OAEb,yBAAKA,UAAY,oCAEf,yBAAKA,UAAY,yBAAyBC,QAAWT,EAAMU,UAA3D,SAKF,yBAAKF,UAAY,kCAEb,yBAAKA,UAAY,yBAAyBC,QAAWT,EAAMsB,UAA3D,aAedwF,EAAW,SAAC9G,GAAU,MAMA0F,qBAAYC,KANZ,mBAMlBC,EANkB,KAMZmB,EANY,KAQpBC,EAAkB,OAASpB,GAAQ9C,OAAOgD,KAAMF,GAAO3B,OAAW2B,EAAKqB,mBAAqB,GAwC1FC,EAA2B,SAAC5E,EAAE6E,GAIlC,GAFC7E,EAAE2C,iBAECmC,EAAQC,QAAQ,CAElB,IAAIC,EAAcC,YAAmBjF,EAAE6E,GAEjCJ,EAASO,GAKTtH,EAAMwH,gBASlB,GAAI,OAAS5B,GAAQ9C,OAAOgD,KAAKF,GAAM3B,OAAQ,CAK7C,IAHA,IAAIwD,EAAgB,GAGX1D,EAAI,EAAIA,EAAIjB,OAAOgD,KAAKF,EAAK8B,UAAUzD,OAASF,IAEvD0D,EAAcvE,KAAM,CAAC,WAAe0C,EAAK8B,SAAS3D,GAAG4D,UAAW,SAAY/B,EAAK8B,SAAS3D,GAAG6D,MAO5F5H,EAAMF,WAAWmE,SAAWwD,EAAcxD,QAE3CjE,EAAMwH,cAMX,OACC,kBAAC,IAAMtH,SAAP,KAEM,yBAAMO,QAAWT,EAAMiG,SAAUzF,UAAWR,EAAM2B,OAAO,4BAA4B,sBACnFxB,MAAS,CACP0H,SAAU,WACVC,IAAI,OACJC,MAAO,SAEP,yBAAKvH,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eAGvB,kBAAC,IAAD,CAAUmB,OAAU3B,EAAM2B,QAGzBqF,EACOpB,EAAK8B,SAASnE,KAAK,SAACyE,EAAKvE,GACrB,OAEI,yBAAKwE,IAAMxE,EAAOjD,UAAY,yCAC5BL,MAAS,CAAC+H,QAAS,YACjB,yBAAK1H,UAAY,SACjB,yBAAK2H,IAAOH,EAAKI,MAAMC,UAAWC,MAAQ,SAC1C,yBAAK9H,UAAY,uEAEf,kBAAC,IAAD,CAAQ+H,KAAO,SAAS/H,UAAY,SAC/BC,QAEWT,EAAMwI,IAAI/E,GAGV,SAAAnB,GAAItC,EAAMyI,OAAOnG,EAAEmB,EAAM,SAAYyD,EAAyB5E,EAAE0F,EAAKL,YAGrE,SAAArF,GAAC,OAAI4E,EAAyB5E,EAAE0F,EAAKL,aAErD,yBAAKnH,UAAY,eAGjB,yBAAMkG,GAAE,WAAQjD,GAASiF,SAAS,IAAIlI,UAAY,8CAEjD,0BAAMA,UAAY,IAAKwH,EAAKJ,MAI7B,kBAAC,IAAD,CAAUW,KAAO,SAAU/H,UAAS,UAAOwH,EAAKW,gBAAkBX,EAAKJ,IAAM,0BAA4B,GAArE,sCAIlCnH,QAAWuH,EAAKW,gBAAkBX,EAAKJ,IAAQ,SAAAtF,GAAC,OAAItC,EAAMyI,OAAOnG,EAAEmB,IAAU,SAACnB,GAAD,OArI9E,SAACA,EAAE6E,GAG5B,GAFF7E,EAAE2C,iBAEImC,EAAQC,QAAS,CAEjB,IAAIuB,EAAeC,aAAaC,QAAQ,2BAGxC,GAAIF,EAAc,CAEdA,EAAeG,KAAKC,MAAMJ,GAE1B,IAEMtB,EAAc2B,YAAYL,EAAazB,EAFxB,GAIrBJ,EAASO,GAETtH,EAAMwH,kBAEJ,CAOF,IAAM0B,EAAUC,YAAgBhC,GAEhCJ,EAASmC,GAITlJ,EAAMwH,gBAoG+F4B,CAAqB9G,EAAE0F,KAE5G,yBAAKxH,UAAY,eAKnB,kBAAC,IAAD,CAAU6I,UAAW,MAAM1H,OAAU3B,EAAMwI,IAAI/E,GAAQ6F,QAAU,eAAezH,OAAU,SAAAS,GAAC,OAAEtC,EAAMyI,OAAOnG,EAAEmB,EAAM,UAAUjB,OAAM,WAAQiB,IACxI,kBAAC,IAAD,KACE,sEAQJ,yBAAKjD,UAAY,SACb,2BACKwH,EAAKvF,OAGd,yBAAKjC,UAAY,QACfL,MAAS,CAAC+H,QAAS,YADrB,IAEMF,EAAKuB,WAS3B,iCAYNC,EAAa,SAACxJ,GAAS,IAAD,EAEP0F,qBAAYC,KAArBC,EAFgB,oBAGlBC,EAAe,OAASD,GAAQ9C,OAAOgD,KAAMF,GAAO3B,OAAW2B,EAAKG,mBAAqB,GAG9F,OACG,kBAAC,IAAM7F,SAAP,KACK2F,EAED,yBAAMrF,UAAY,mEAElB,yBAAK2H,IAAOsB,IAAUnB,MAAQ,OAC9BnI,MAAS,CACP0H,SAAU,WACV6B,KAAM,UALR,UASY7D,GAIZ,OAQN8D,E,YACF,WAAY3J,GAAO,IAAD,8BACd,4CAAMA,KAkCNe,aAAe,SAACuB,GAGd,OAFoBsH,OAAOtH,EAAEE,OAAOqH,YAGhC,IAAK,cAEH,EAAK1F,SAAS,CAACnD,cAAc,WAC7B,MACF,IAAK,SAEH,EAAKmD,SAAS,CAACnD,cAAc,eA7CvB,EAqEd8I,aArEc,uCAqEC,WAAMxH,GAAN,uBAAAyH,EAAA,6DACbzH,EAAE2C,iBACF,EAAKd,SAAS,CAAClC,OAAM,IAFR,kBAMS,EAAKjC,MAAMgK,OAAOC,YAAY,CAAExH,KAAM,EAAKjD,MAAM0K,cAN1D,mBAMNC,EANM,EAMNA,MACL/G,QAAQC,IAAI8G,QAEEC,IAAVD,EATO,kCAYWE,YAAeF,EAAMzD,IAZhC,eAYP4D,EAZO,OAaXlH,QAAQC,IAAIiH,EAAU5D,IAbX,UAgBQ6D,YAAU,EAAK/K,MAAMV,WAhB7B,QAgBP0L,EAhBO,OAiBPC,EAAWD,EAAM9D,GACrBtD,QAAQC,IAAImH,GACZpH,QAAQC,IAAIoH,GAWZC,YAAmBJ,EAAU5D,GAAG+D,GAC/BE,MAAK,SAAAC,GACJxH,QAAQC,IAAIuH,GAEZ,EAAKzG,SAAS,CAACvC,OAAM,IACrB,EAAKuC,SAAS,CAAC0G,eAAeD,EAAI9I,UAClC,EAAKqC,SAAS,CAAC2G,mBAAkB,OApCxB,wBAyCT,EAAK3G,SAAS,CAAE0G,eAAe,wHAC/B,EAAK1G,SAAS,CAACvC,OAAM,IA1CZ,gEA8CXwB,QAAQC,IAAR,MA9CW,+DArED,sDAEV,EAAK7D,MAAM,CACPuL,YAAa,GACbb,YAAa,GACbpL,UAAWA,EACX8C,OAAM,EACNqE,UAAU,EACV/E,OAAO,EACPjB,OAAO,EACPgC,OAAO,EACPjB,cAAe,SACf8J,mBAAkB,EAClBD,eAAe,GACfrC,IAAI,IAGR,EAAK9H,SAAW,EAAKA,SAASqE,KAAd,gBAChB,EAAKiG,kBAAoB,EAAKA,kBAAkBjG,KAAvB,gBACzB,EAAKzD,SAAW,EAAKA,SAASyD,KAAd,gBAChB,EAAKvD,cAAgB,EAAKA,cAAcuD,KAAnB,gBACrB,EAAK3D,sBAAwB,EAAKA,sBAAsB2D,KAA3B,gBAC7B,EAAK1D,oBAAsB,EAAKA,oBAAoB0D,KAAzB,gBAC3B,EAAKtD,kCAAoC,EAAKA,kCAAkCsD,KAAvC,gBACzC,EAAKyC,YAAc,EAAKA,YAAYzC,KAAjB,gBACnB,EAAKlD,OAAS,EAAKA,OAAOkD,KAAZ,gBACd,EAAKkB,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAKhE,aAAe,EAAKA,aAAagE,KAAlB,gBACpB,EAAKkG,UAAY,EAAKA,UAAUlG,KAAf,gBACjB,EAAK0D,OAAS,EAAKA,OAAO1D,KAAZ,gBA7BJ,E,sEAuDZ7C,KAAKiC,SAAS,CAACvC,OAAOM,KAAK1C,MAAMoC,U,iCAOjCM,KAAKiC,SAAS,CACZ8B,UAAU/D,KAAK1C,MAAMyG,a,oCA+DvB,IAAIwB,EAAgB,GAEhBmB,EAAeC,aAAaC,QAAQ,2BAGxC,GAAIF,EAAa,CAEfA,EAAeG,KAAKC,MAAMJ,GAI1B,IAAK,IAAI7E,EAAI,EAAIA,EAAIjB,OAAOgD,KAAK8C,EAAalB,UAAUzD,OAASF,IAC3D0D,EAAcvE,KAAM,CAAC,WAAe0F,EAAalB,SAAS3D,GAAG4D,UAAW,SAAYiB,EAAalB,SAAS3D,GAAG6D,OAG3GzE,EAAY,KAAOjB,KAAK1C,MAAMV,YACrBgB,WAAa2H,EAC1BvF,KAAKiC,SAAS,CAACrF,UAAUqE,QAG1B,CAIH,IAAIA,KAAY,KAAOjB,KAAK1C,MAAMV,YACrBgB,WAAa,GAC1BoC,KAAKiC,SAAS,CAACrF,UAAUqE,O,4CAMP8E,EAAIvF,GACxB,IAAIS,EAAeL,OAAOoI,OAAO,GAAGpM,GACpCqE,EAAatD,SAASoI,GAAOvF,EAE7BR,KAAKiC,SAAS,CACZrF,UAAUqE,M,0CAIM8E,EAAIvF,GAEtB,IAAIS,EAAeL,OAAOoI,OAAO,GAAGpM,GACrCqE,EAAajE,QAAQ+I,GAAKvF,EAEzBR,KAAKiC,SAAS,CAEZrF,UAAYqE,M,wDAKkBiD,GAEhC,IAAI+E,EAAmBrI,OAAOoI,OAAO,GAAGpM,EAAUI,SAGlD,GAAc,SAAVkH,EAAiB,CAEnB,IAAIgF,EAAetI,OAAOoI,OAAO,GAAGhJ,KAAK1C,MAAMV,UAAUI,SACrDmM,EAAcvI,OAAOoI,OAAO,GAAGhJ,KAAK1C,MAAMV,UAAUe,UAElDyL,EAAiBxI,OAAOoI,OAAOE,EAAYC,GAE3ClI,EAAeL,OAAOoI,OAAO,GAAIpM,GAEvCqE,EAAY,QAAcmI,EAG1BlI,QAAQC,IAAI,kCAAkC,kBAAmBvE,GACjEsE,QAAQC,IAAI,kBAAmBF,GAE/BjB,KAAKiC,SAAS,CAACrF,UAAUqE,QAIvB,CAEF,IAAMmI,EAAiBH,EAEjBhI,EAAeL,OAAOoI,OAAO,GAAIpM,GAEvCqE,EAAY,QAAcmI,EAE1BlI,QAAQC,IAAI,kBAAmBF,GAE/BjB,KAAKiC,SAAS,CAACrF,UAAUqE,O,oCASfV,EAAKC,GAEdR,KAAKiC,SAAL,eAAkB1B,EAAQC,M,0CAIvB6I,OAAOC,YAAcD,OAAOE,YAC5BvJ,KAAKiC,SAAS,CAAC4G,YAAY,cAG1B7I,KAAKiC,SAAS,CAAC4G,YAAY,e,iCAMhB,GAAlB7I,KAAK1C,MAAM0B,MAEXgB,KAAKiC,SAAS,CAACjD,OAAO,IAEtBgB,KAAKiC,SAAS,CAAClE,OAAO,M,iCAItBiC,KAAK1C,MAAM0B,OAASgB,KAAK1C,MAAMS,MAE/BiC,KAAKiC,SAAS,CAAClE,OAAM,IAErBiC,KAAKiC,SAAS,CAACjD,OAAM,M,2CAInBgB,KAAK8I,sB,kCAKP,IAAMxC,EAAM,GAELI,EAAeC,aAAaC,QAAQ,2BAGvC,GAAIF,EAAc,CAChBA,EAAeG,KAAKC,MAAMJ,GAE1B,IAAM,IAAI7E,EAAI,EAAGA,EAAI6E,EAAalB,SAASzD,OAASF,IACjDyE,EAAItF,MAAK,GAIXhB,KAAKiC,SAAS,CAACqE,IAAIA,SAGjBtG,KAAKiC,SAAS,CAACqE,IAAI,EAAC,O,6BAIxBlG,EAAEmB,EAAMiI,GACbpJ,EAAE2C,iBACF,IAAMuD,EAAM,GAEZtG,KAAKiC,SAAS,CAACqE,IAAI,KAEnB,IAAII,EAAeC,aAAaC,QAAQ,2BAGxC,GAAIF,EAAc,CACfA,EAAeG,KAAKC,MAAMJ,GAE3B,IAAM,IAAI7E,EAAI,EAAGA,EAAI6E,EAAalB,SAASzD,OAASF,IACjDyE,EAAItF,MAAK,GASZ,GANAhB,KAAKiC,SAAS,CAACqE,IAAIA,IAMfkD,EAAa,CAEfxJ,KAAK+I,YACL,IAAIU,EAASzJ,KAAK1C,MAAMgJ,IACxBmD,EAAO1I,OAAOQ,EAAM,GAAE,GACrBL,QAAQC,IAAI,2BAIZnB,KAAKiC,SAAS,CAACqE,IAAImD,QACf,CAGL,IAAIA,EAASzJ,KAAK1C,MAAMgJ,IACxBmD,EAAO1I,OAAOQ,EAAM,GAAGvB,KAAK1C,MAAMgJ,IAAI/E,IACtCL,QAAQC,IAAI,8BAA8BsI,GAC1CzJ,KAAKiC,SAAS,CAACqE,IAAImD,UAIlBzJ,KAAKiC,SAAS,CAACqE,IAAI,EAAC,O,0CAIvB+C,OAAOK,iBAAiB,SAAS1J,KAAK8I,mBAEtC9I,KAAK+I,c,+BAQX,IAAIF,EAAc7I,KAAK1C,MAAMuL,YACzBc,EAAkC,cAA3B3J,KAAK1C,MAAMuL,YAA8B,UAAW,WAC3De,EAA8B,cAAhBf,EAA8B,SAAW,sBACvDgB,EAAc7J,KAAK1C,MAAMS,MAAQ,cAAc,aAC7Cf,EAAUgD,KAAK1C,MAAMV,UAAUI,QAC/BW,EAAWqC,KAAK1C,MAAMV,UAAUe,SAIpC,OAEA,kBAAC,IAAMK,SAAP,KAIY,yBAAKM,UAAS,cAAYsL,EAAZ,4BAEd,yBAAKtL,UAAS,UAAOqL,IAEnB,kBAAC7J,EAAD,CACAd,MAASgB,KAAK1C,MAAM0B,MACpBjB,MAASiC,KAAK1C,MAAMS,MACpBgC,MAASC,KAAK1C,MAAMyC,QAIpB,kBAAChB,EAAD,CACEpB,SAAYA,EACZX,QAAWA,EACXoC,SAAYY,KAAKZ,SACjBZ,SAAYwB,KAAKxB,SACjBc,cAAiBU,KAAKV,cACtBN,MAASgB,KAAK1C,MAAM0B,MACpBjB,MAASiC,KAAK1C,MAAMS,MACpBmB,sBAAyBc,KAAKd,sBAC9BC,oBAAuBa,KAAKb,oBAC5BL,cAAiBkB,KAAK1C,MAAMwB,cAC5BD,aAAgBmB,KAAKnB,aACrBU,kCAAqCS,KAAKT,oCAG5C,kBAAC1B,EAAD,CACEE,MAASiC,KAAK1C,MAAMS,MACpBf,QAAWA,EACXwB,SAAYwB,KAAKxB,WAI3B,kBAACgB,EAAD,CACEI,QAAWI,KAAK1C,MAAMqL,eACtBjJ,MAASM,KAAK1C,MAAMoC,MACpBC,OAAUK,KAAKL,UAIP,yBAAKrB,UAAS,UAAOqL,EAAP,UAEV,8CACA,kBAAC/E,EAAD,CACChH,WAAcoC,KAAK1C,MAAMV,UAAUgB,WACnC0I,IAAOtG,KAAK1C,MAAMgJ,IAClBC,OAAUvG,KAAKuG,OACfsC,YAAe7I,KAAK1C,MAAMuL,YAC1BvD,YAAetF,KAAKsF,YACpB7F,OAAUO,KAAK1C,MAAMyG,SACrBA,SAAY/D,KAAK+D,WAElB,kBAACuD,EAAD,MACA,yBAAKhJ,UAAY,qCACf,yBAAKA,UAAS,mEAAiEuL,GAAetL,QAASyB,KAAK1C,MAAMS,MAAMiC,KAAK4H,aAAc,MAA3I,oB,GArZH3H,IAAMC,WAsalB4J,2BAAarC,K,gFC74DtBsC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,KAIlBE,EAAa,IAAIH,EAAe,CACpCI,IAAMF,EAAUxN,QAChBC,YAAauN,EAAUvN,YACvBC,eAAgBsN,EAAUtN,eAC1ByN,OAAO,EACPC,QAAS,UAwCLhC,EAAS,uCAAG,WAAMiC,GAAN,SAAAzC,EAAA,+EAAeqC,EAAYK,UAAU,SAAUD,GAEhE7B,MAAK,SAAC+B,GAEL,OAAQ3D,KAAKC,MAAO0D,EAASC,SAG9BC,OAAM,SAACC,GACNzJ,QAAQC,IAAIwJ,EAAMH,SAASF,UARX,2CAAH,sDAYFjC,O,gGC1DCF,EAAc,uCAAG,WAAOyC,GAAP,mBAAA/C,EAAA,6DAE5BgD,EAAY,IAAIC,SACVC,OAAO,eAAgB,sCAE7BC,EAAa,IAAIC,iBACVF,OAAO,OAAQ,QAC1BC,EAAWD,OAAO,QAASH,GAC3BI,EAAWD,OAAO,MAAO,8CASnBG,EAAcC,MAAM,oCAPL,CACnBC,OAAQ,OACRC,QAASR,EACTJ,KAAMO,EACNM,SAAU,WAKX7C,MAAK,SAAA+B,GAAc,OAAQA,EAASe,UACpC9C,MAAK,SAAA+C,GAEL,OADAtK,QAAQC,IAAIqK,GACLA,KAIPd,OAAM,SAAAC,GAAU,OAAQA,KA1BO,UA4BnBO,EA5BmB,qFAAH,uD,gGCHjB1C,EAAkB,uCAAG,WAAOP,EAAMM,GAAb,uBAAAV,EAAA,4DAMZ,0EAEN4D,EAAW,IAAIX,SAEVC,OAAO,eAAgB,sCAE5BC,EAAa,IAAIC,iBACVF,OAAO,WAAWxC,GAC7ByC,EAAWD,OAAO,gBAAgB9C,GAClC+C,EAAWD,OAAO,iBAAiB,UAE/BW,EAAiB,CACjBN,OAAQ,OACRC,QAASI,EACThB,KAAMO,GApBY,UAuBIG,MAjBhB,yEAiB0BO,GAvBd,eAuBhBlB,EAvBgB,iBAyBKA,EAASe,OAzBd,eAyBhBL,EAzBgB,OA2BtBhK,QAAQC,IAAI+J,GA3BU,kBAgCf,IAAIS,SAAU,SAAEC,EAAQC,GAE3BD,EAAQV,GAERW,EAAOrB,EAAS5K,aApCE,4CAAH,yD,yVCAlB6D,EAAaxD,IAAM6L,cAAc,CAC7C,GACA,eAGYC,EAAc,SAAEjO,GAAY,IAAD,EAEVgG,mBAAU,MAFA,mBAE5BJ,EAF4B,KAEtBmB,EAFsB,KAgBvC,OAZAmH,qBAAW,WAEV,GAAK9G,EAAQC,QAAU,CAEtB,IAAI8G,EAAWtF,aAAaC,QAAS,2BACrCqF,EAAW,OAASA,EAAWpF,KAAKC,MAAOmF,GAAa,GACxDpH,EAASoH,MAIR,IAGF,kBAACxI,EAAWyI,SAAZ,CAAqB1L,MAAQ,CAAEkD,EAAMmB,IAClC/G,EAAMqO,a,iXCYQC,E,2MA5BfC,UAAYpM,IAAMqM,Y,EAClBC,YAActM,IAAMqM,Y,4EAJNE,GACVA,EAAMzJ,mB,+BAMC,IAAD,OAEN,OACI,kBAAC,QAAD,CAAM0J,iBAAoB,yBAAKxG,IAAKyG,IAAMC,IAAK,cAE3C,yBAAKpO,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,UAA/C,QAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,WAAjD,SAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,aAAjD,WAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,UAAjD,QAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,WAAjD,SAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,aAAjD,WAEA,yBAAO7B,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,cAAjD,a,GAzBYH,IAAMC,W,kBCqGnB2M,E,iLAvFF,IAAD,OAKJ,OACI7M,KAAKlC,MAAMgP,0BAEX,KAEA,yBAAKtI,GAAK,YAAYuI,IAAM/M,KAAKgN,SAAU1O,UAAY,gBAGnD0B,KAAKlC,MAAMmP,2BACT,KAEF,kBAAC,EAAD,CACAL,cAAiB5M,KAAKlC,MAAM8O,gBAG5B,yBAAKtO,UAAY,oBAEb,kBAAC4O,EAAA,EAAD,CAAQ5O,UAAW,OAEnB,yBAAKA,UAAY,UAOjB,yBAAKA,UAAY,iCAAiCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,UAA5F,QAIA,yBAAK9B,UAAY,iCAAiCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,WAA5F,SAIA,yBAAM9B,UAAY,iCAAiCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,aAA7F,WAIA,yBAAK9B,UAAY,gCAAgCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,aAA3F,WAIA,yBAAK9B,UAAY,gCAAgCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,WAA3F,SAIA,yBAAK9B,UAAY,gCAAgCC,QAAU,SAAA6B,GAAC,OAAI,EAAKtC,MAAM8O,cAAcxM,EAAE,UAA3F,SAMA,yBAAK9B,UAAY,uDACb,wBAAIA,UAAY,iDAAhB,kBAA+E,wBAAIA,UAAW,eAA9F,WAAoH,wBAAIA,UAAW,eAAnI,eAGJ,yBAAKA,UAAY,qCACb,yBAAKA,UAAU,YAAaC,QAAU,SAAC6B,GAAD,OAAO,EAAKtC,MAAM8O,cAAcxM,EAAE,cAMhF,yBAAK9B,UAAY,oCACTC,QAAW,SAAA6B,GAAC,OAAE,EAAKtC,MAAMqP,WAAW/M,EAAE,YAD9C,gBAMA,yBAAK9B,UAAY,qCACTC,QAAW,SAAA6B,GAAC,OAAE,EAAKtC,MAAMqP,WAAW/M,EAAE,aAD9C,2B,GAxFGH,IAAMC,WCqDVkN,E,iLA1CF,IAAD,OAIJ,OAEQpN,KAAKlC,MAAMgP,0BAEX,KAEA,yBAAKC,IAAO/M,KAAKqM,UAAW7H,GAAI,QAAQlG,UAAY,cAChD,yBAAKA,UAAY,WACjB,yBAAKA,UAAY,qBACb,yBAAKA,UAAY,qCACb,sCAGA,yBAAKA,UAAY,iEAGb,uBAAGA,UAAW,wCAAd,y4BAWR,yBAAKA,UAAY,qCACb,yBAAKA,UAAY,aAAaC,QAAU,SAAC6B,GAAD,OAAM,EAAKtC,MAAM8O,cAAcxM,EAAE,qB,GA9CjFH,IAAMC,W,6JCCXmN,EAHM,CACjBC,WAAY,qDCUDC,EANA,I,OAAIC,GAAa,CAC9BC,IAAKJ,EAAaC,a,64BCHpB,IAAMI,EAAgBC,IAAF,KA+DDC,EATE,uCAAG,8BAAA/F,EAAA,sEACe0F,EAAOM,MAAM,CAACA,MAAMH,IADnC,yBACbI,QADa,EACLnD,MAAML,EADD,EACCA,KADD,kBAKZA,EAAK9E,SAASuI,OALF,2CAAH,qDCvDfhE,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,KAGlBE,EAAa,IAAIH,EAAe,CACpCI,IAAMF,EAAUxN,QAChBC,YAAauN,EAAUvN,YACvBC,eAAgBsN,EAAUtN,eAC1ByN,OAAO,EACPC,QAAS,UAaE2D,EAVK,uCAAG,sBAAAnG,EAAA,+EAAYqC,EAAY+D,SAAS,YAEjDxF,MAAK,SAAA+B,GACH,OAAQ3D,KAAKC,MAAM0D,EAASC,SAE9BC,OAAM,SAACC,GACNzJ,QAAQC,IAAIwJ,EAAMH,SAASF,UANZ,2CAAH,qD,g/CCXpB,IAAMoD,EAAgBC,IAAF,KAyEDO,EAVS,uCAAG,8BAAArG,EAAA,sEACQ0F,EAAOM,MAAM,CAACA,MAAMH,IAD5B,yBACpBI,QADoB,EACZnD,MAAML,EADM,EACNA,KAIrBpJ,QAAQC,IAAImJ,GALe,kBAMGA,EAAK6D,mBANR,2CAAH,qD,4kDC/D5B,IAAMT,GAAgBC,IAAF,KA0EDS,GAVU,uCAAG,8BAAAvG,EAAA,sEACO0F,EAAOM,MAAM,CAACA,MAAMH,KAD3B,yBACrBI,QADqB,EACbnD,MAAML,EADO,EACPA,KAIpBpJ,QAAQC,IAAI,sCAAsCmJ,EAAK6D,mBAL5B,kBAMpB7D,EAAK6D,mBANe,2CAAH,qD,8lCChE7B,IAAMT,GAAgBC,IAAF,MAqDDU,GATM,uCAAG,8BAAAxG,EAAA,sEACW0F,EAAOM,MAAM,CAACA,MAAMH,KAD/B,yBACjBI,QADiB,EACTnD,MAAML,EADG,EACHA,KADG,kBAKhBA,EAAK9E,SAASuI,OALE,2CAAH,qD,q6BC5CzB,IAAML,GAAgBC,IAAF,MAqDDW,GATM,uCAAG,8BAAAzG,EAAA,sEACW0F,EAAOM,MAAM,CAACA,MAAMH,KAD/B,yBACjBI,QADiB,EACTnD,MAAML,EADG,EACHA,KADG,kBAKhBA,EAAK9E,SAASuI,OALE,2CAAH,qD,ubC5CzB,IAAML,GAAgBC,IAAF,MAmCDY,GAXF,uCAAG,8BAAA1G,EAAA,sEACmB0F,EAAOM,MAAM,CAACA,MAAMH,KADvC,yBACTI,QADS,EACDnD,MAAML,EADL,EACKA,KADL,kBAMRA,EAAK9E,SAASgJ,OANN,2CAAH,qD,4JCgBFC,GAtCM,SAAC3Q,GAAW,IAAD,EAEUA,EAA/BQ,iBAFqB,MAET,gBAFS,EAIpBoQ,EAAQ5Q,EAAMmH,QAAQ1E,KAEtBoO,EAAgB7Q,EAAMmH,QAAQ0J,cAAcZ,MAE5CpO,EAAS7B,EAAM6B,OARK,EAUGmE,mBAAShG,EAAMmH,QAAQiB,MAAMC,WAVhC,mBAUnByI,EAVmB,KAUPC,EAVO,KAY9B,OACM,kBAACC,GAAA,EAAD,CAAOC,QAAM,EAACtP,OAAQ3B,EAAM4B,MAAOC,OAAQA,EAAQrB,UAAWA,GAC1D,kBAAC0Q,GAAA,EAAD,CAAarP,OAAQA,GAArB,IAAgC+O,EAAhC,KACA,kBAACO,GAAA,EAAD,KAEG,yBAAKhJ,IAAO2I,EAAWxI,MAAQ,SAC9B,yBAAK9H,UAAY,OAEbqQ,EAActN,KAAK,SAACyE,EAAKvE,GACrB,OACI,yBAAKwE,IAAOxE,EAAOjD,UAAY,oBAC3B,yBAAKC,QAAW,kBAAMsQ,EAAOF,EAAcpN,GAAO4E,YAAYF,IAAOH,EAAKK,UAAWC,MAAQ,eAOjH,kBAAC8I,GAAA,EAAD,KACA,kBAACC,GAAA,EAAD,CAAQtP,MAAM,UAAUtB,QAASoB,GAAjC,gBAA+D,IAC/D,kBAACwP,GAAA,EAAD,CAAQtP,MAAM,YAAYtB,QAASoB,GAAnC,aC3BNyP,GAAa,SAACtR,GAOhB,OADEoD,QAAQC,IAAI,sCAAsCrD,EAAMuR,YAEtD,kBAAC,IAAMrR,SAAP,KACA,6CAEH,yBAAKM,UAAY,OAEVR,EAAMuR,WAAWhO,KAAK,SAACyE,EAAKvE,GAC9B,OAEI,yBAAKwE,IAAOxE,EAAOjD,UAAY,+DAC3B,yBAAKA,UAAY,mCAErB,yBAAKA,UAAY,OACjB,yBAAKA,UAAY,wCAEjB,yBAAKA,UAAY,oBACjB,yBAAM2H,IAAOH,EAAKwJ,KAAKpJ,MAAMC,UAAWC,MAAQ,OAAS7H,QAAW,SAAC6B,GAAKtC,EAAMyR,YAAYnP,EAAEmB,QAM9F,yBAAKjD,UAAY,SACjB,yBAAKA,UAAY,gBAAjB,IAAkCwH,EAAKwJ,KAAK/O,MAE5C,yBAAKjC,UAAY,sBACdkR,KAAW1J,EAAKwJ,KAAKG,wBAchCC,GAAa,SAAC5R,GAEhB,IAEI6L,EAAuB,aAFT7L,EAAM+K,YAEgB,QAAU,QAElD3H,QAAQC,IAAI,mBAAmBrD,GAE/B,IAAI0H,EAAW1H,EAAM6R,yBAErBzO,QAAQC,IAAI,gCAAgCqE,GAE5C,IAAIoK,EAAgB9R,EAAM8R,aAG1B,OACI,kBAAC,IAAM5R,SAAP,KAEI,+CACqB4R,EAAarP,MAIlC,yBAAKjC,UAAY,OAGLkH,EAASnE,KAAK,SAACyE,EAAKvE,GACpB,OACI,yBAAKwE,IAAMxE,EAAOjD,UAAaqL,GAC3B,yBAAKrL,UAAY,cACZwH,EAAKwJ,KAAK/O,MAGpB,yBAAKjC,UAAY,cAGjB,yBAAK2H,IAAOH,EAAKwJ,KAAKpJ,MAAMC,UAAWC,MAAO,OAC7C7H,QAAW,SAAA6B,GAAC,OAAEtC,EAAM+R,cAAczP,EAAEmB,OAGrC,6BACMuE,EAAKwJ,KAAKjI,cAarCyI,GAAY,SAAChS,GAEf,IAAI+K,EAAc/K,EAAM+K,YAClB5D,EAAUnH,EAAMiS,cAClBpG,EAAuB,aAAhBd,EAA6B,cAAe,aACnDmH,EAA6B,aAAhBnH,EAA6B,cAAe,kBAGzDoH,EAAU,GAEd/O,QAAQC,IAAI,gBAAiB8D,GAC7BA,EAAQiL,YAAYnC,MAAMoC,SAAQ,SAAAC,GAAO,OAAGH,EAAQjP,KAAKoP,EAAQ7P,SACjE,IAAI8P,EAAOJ,EAAQK,KAAK,MAZA,EAeExM,oBAAS,GAfX,mBAejBpE,EAfiB,KAeV6Q,EAfU,KAiBlB5Q,EAAS,kBAAM4Q,GAAU7Q,IAK/B,OACI,kBAAC,IAAM1B,SAAP,KACI,yBAAKM,UAAY,OAEb,yBAAKA,UAAS,sBAAmBqL,IAE7B,yBAAKrL,UAAY,qCACb,wBAAIA,UAAW,aACV2G,EAAQ1E,OAIjB,yBAAK0F,IAA4B,OAArBnI,EAAM0S,YAAqBvL,EAAQiB,MAAMC,UAAYrI,EAAM0S,YAAapK,MAAQ,OACxF7H,QAAWoB,EACX1B,MAAS,CACLwS,OAAQ,UAIhB,kBAAC,GAAD,CAAexL,QAAWA,EAASvF,MAASA,EAAOC,OAAUA,IAE7D,yBAAKrB,UAAY,aACb,yBAAKA,UAAY,8BAEL2G,EAAQ0J,cAAcZ,MAAM1M,KAAK,SAACyE,EAAKvE,GACnC,OACI,yBAAKwE,IAAOxE,EAAOjD,UAAY,oBAC3B,yBAAKA,UAAW,QAChB,yBAAK2H,IAAOH,EAAKK,UAAWC,MAAQ,OACpC7H,QAAY,SAAA6B,GAAC,OAAItC,EAAM4S,YAAYtQ,EAAEmB,cAczE,yBAAKjD,UAAa0R,GAClB,yBAAK1R,UAAY,qCACb,wBAAIA,UAAY,wBACX2G,EAAQoC,QAGjB,yBAAK/I,UAAY,mBAEV,yBAAKA,UAAY,uBACb,yBAAKA,UAAY,aAAaL,MAAS,CACnC0S,YAAc,sBAEd,0BAAMrS,UAAY,aAAlB,cAEC,yBAAKA,UAAY,8BACV,yBAAKA,UAAY,0BACb,kBAAC,KAAD,CACIA,UAAY,aACZkC,MAAOoQ,SAAS3L,EAAQlD,QACxB9D,MAAO,CACH4S,WAAY,gBACZC,mBACI,oCAERC,SAAU,KACVC,cAAiB,IACf,0BAAM1S,UAAY,oBAAlB,KACF,0BAAMA,UAAY,mBAAlB,QAGR,yBAAKA,UAAY,2BAEjB,kBAAC,KAAD,CACIA,UAAY,aACXkC,MAAOoQ,SAAS3L,EAAQmB,OACzBnI,MAAO,CACH4S,WAAY,gBACZC,mBACI,oCAERC,SAAU,KACVC,cAAiB,IACf,0BAAM1S,UAAY,oBAAlB,KACF,0BAAMA,UAAY,mBAAlB,QAIJ,yBAAKA,UAAY,yBAEjB,kBAAC,KAAD,CACIA,UAAY,aACZkC,MAAOoQ,SAAS3L,EAAQwL,QACxBxS,MAAO,CACH4S,WAAY,gBACZC,mBACI,oCAERC,SAAU,KACVC,cAAiB,IACf,0BAAM1S,UAAY,oBAAlB,KACF,0BAAMA,UAAY,mBAAlB,UAKhB,yBAAKA,UAAY,SACb,0BAAMA,UAAY,aAAlB,OAEQ,yBAAKA,UAAY,aAGb,kBAAC,KAAD,CACIA,UAAY,aACZkC,MAAOoQ,SAAS3L,EAAQgM,WAAWlD,MAAM,GAAGmD,QAAQ,IACpDjT,MAAO,CACH4S,WAAY,gBACZC,mBACI,oCAERC,SAAU,KACVC,cAAiB,IAErB,0BAAM1S,UAAW,mBAAjB,gBAOpB,yBAAKA,UAAY,uBAChB,yBAAKA,UAAY,SACX,0BAAMA,UAAY,aAAlB,WACC,yBAAKA,UAAY,IACX2G,EAAQgM,WAAWlD,MAAM,GAAGmD,UAGtC,yBAAK5S,UAAY,SACjB,0BAAMA,UAAY,aAAlB,OACI,yBAAKA,UAAY,IACX+R,KAKd,yBAAK/R,UAAY,uBAEb,yBAAKA,UAAW,SACZ,kBAAC6S,GAAA,EAAD,CAAW5M,OAAK,GACZ,kBAAC6M,GAAA,EAAD,CAAO7M,OAAK,GACR,kBAAC8M,GAAA,EAAD,CAAOrO,KAAK,aADhB,iBAQZ,kBAAC,KAAD,CAAiBiC,QAAWA,SAezCqM,GAAe,SAACxT,GAElB,IAAI6L,EAA6B,aAAtB7L,EAAM+K,YAA6B,SAAW,QAErD0I,EAAmBzT,EAAM0T,cACzBC,EAAc3T,EAAM2T,YACpBC,EAAeH,EAAmBE,EAAY,GAAK3T,EAAM4T,aAE7DxQ,QAAQC,IAAI,yBAAyBsQ,GAGrC,IAAIE,EAAoBJ,EAAmBE,EAAY,GAAGnC,KAAKpJ,MAAMC,UAAWuL,EAAaxL,MAAMC,UAC/FyL,EAAqB9T,EAAM2T,YAAY,GAAGnC,KAAKpJ,MAAMC,UACrD0L,EAA2B/T,EAAM2T,YAAY,GAAGnC,KAAKG,YACrDqC,EAA0BJ,EAAajC,YAdf,EAmBD3L,oBAAS,GAnBR,mBAmBrBiO,EAnBqB,KAmBhBC,EAnBgB,KAyC5B,OACI,kBAAC,IAAMhU,SAAP,qBAGA,yBAAKM,UAAY,2CACb,yBAAKA,UAAY,OAEb,yBAAKA,UAAaqL,GAEd,wBAAIrL,UAAW,gBACViT,EAAkBE,EAAY,GAAGnC,KAAK/O,KAAOmR,EAAanR,MAG/D,yBAAKjC,UAAY,sCACT,yBAAK2H,IAAOsL,EAAmBK,EAAoBD,KAG3D,yBAAKrT,UAAY,2BAEZmT,EAAYpQ,KAAK,SAACyE,EAAKvE,GACpB,OACI,yBAAKwE,IAAOxE,EAAOjD,UAAY,aAC3BC,QAAY,SAAA6B,GAAC,OAAEtC,EAAMmU,mBAAmB7R,EAAEmB,IAC1CtD,MAAS,CAACiU,gBAAgB,OAAD,OAAUpM,EAAKwJ,KAAKpJ,MAAMC,UAA1B,aAU7C,yBAAK7H,UAAS,UAAOqL,IAEjB,wBAAIrL,UAAY,4BACXoT,EAAarK,OAGlB,kBAAC,KAAD,CAAkB8K,YAvDL,WAEzBjR,QAAQC,IAAIrD,EAAMiS,eAElB,IAAI9K,EAAUnH,EAAMiS,cAEhB3J,EAAQnB,EAAQmB,MAChBqK,EAASxL,EAAQwL,OACjB1O,EAASkD,EAAQlD,OAKrB,OAFkBqQ,KAAKC,OAAUjM,EAAMqK,EAAT,EAAsBrK,EAAMrE,EAAT,EAAqBA,EAAO0O,EAAV,GAAoB,IA4C1C6B,GAAwBrN,QAAWyM,IAGpE,yBAAKpT,UAAY,uDACjB,yBAAMC,QA/DP,WACXyT,GAAaD,IA8DwBzT,UAAWyT,EAAK,4BAA4B,uBACjE,yBAAKzT,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eAJvB,eAUA,kBAACiU,EAAA,EAAD,CAAU9S,OAAUsS,GAGfR,EAAmB/B,KAAWqC,GAA4BrC,KAAWsC,SAmBxFU,GAAiB,SAAC1U,GAGpB,IAAI2U,EAAY3U,EAAM2U,UAClBC,EAAmB5U,EAAM4U,iBACzB7J,EAAc/K,EAAM+K,YAEpB8J,EAAwB7U,EAAM6U,sBAC9BC,EAAU9U,EAAM+U,oBAAsBF,EAAsBhE,cAAcZ,MAAQ,KARxD,EAUHjK,oBAAS,GAVN,mBAUvBiO,EAVuB,KAUlB/N,EAVkB,OAgBDF,qBAAUhG,EAAM+U,qBAAsBF,EAAsBzM,MAAMC,WAhBjE,mBAgBvByI,EAhBuB,KAgBXC,EAhBW,OAkBJ/K,oBAAS,GAlBL,mBAkBvBpE,EAlBuB,KAkBhB6Q,EAlBgB,KAoBxB5Q,EAAS,kBAAM4Q,GAAU7Q,IAEzBiK,EAAuB,aAAhBd,EAA6B,QAAU,QAC9CiK,EAA+B,aAAhBjK,EAA6B,SAAW,QAQ/D,OAJE3H,QAAQC,IAAI,8BAA8BsR,GAOxC3U,EAAM+U,oBAMJ,kBAAC,IAAM7U,SAAP,KAGI,yBAAKM,UAAY,YACb,yBAAKA,UAAcwU,GACnB,wBAAIxU,UAAY,QACfqU,EAAsBpS,MAEvB,yBAAM0F,IAAO2I,GAAwB+D,EAAsBzM,MAAMC,UAAYC,MAAQ,OACpF7H,QAAWoB,IACZ,yBAAKrB,UAAY,aACb,yBAAKA,UAAY,uBACbL,MAAS,CACLwS,OA7BmC,SAiC/BmC,EAAQvR,KAAK,SAAC0R,EAAIxR,GACd,OACI,yBAAKwE,IAAOxE,EAAOjD,UAAY,2BAC3B,yBAAK2H,IAAO8M,EAAI5M,UAAWC,MAAQ,OAAOqK,OAAQ,OAC5ClS,QAAY,kBAAMsQ,EAAOkE,EAAI5M,qBAa/D,yBAAK7H,UAAawU,GACd,wBAAIxU,UAAY,oBAAhB,IAAqCqU,EAAsBtL,OAGvD,kBAAC,KAAD,CAAiBpC,QAAW0N,IAGhC,yBAAKrU,UAAY,uDACjB,yBAAMC,QAtEC,kBAAMyF,GAAa+N,IAsEOzT,UAAWyT,EAAK,4BAA4B,uBACzE,yBAAKzT,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eAJvB,eAUA,kBAACiU,EAAA,EAAD,CAAU9S,OAAUsS,GACnBvC,KAAWmD,EAAsBlD,gBAS1C,kBAAC,GAAD,CACGxK,QAAW0N,EACXhT,OAAUA,EACVD,MAASA,IAIZ,yBAAMpB,UAAU,WAAWC,QAAW,SAAA6B,GAAC,OAAGtC,EAAMkV,iBAAiB5S,EAAE,cAAnE,SAUJ,kBAAC,IAAMpC,SAAP,KACI,wBAAIM,UAAY,qBAAhB,cACA,yBAAKA,UAAY,oCACZmU,EAAUpR,KAAI,SAACyE,EAAKvE,GACb,OACI,kBAAC,IAAMvD,SAAP,CAAgB+H,IAAOxE,GACnB,yBAAKjD,UAAS,6BAA0BqL,IACxC,yBAAKrL,UAAY,sBAAsBwH,EAAKvF,MAC5C,yBAAK0F,IAAOH,EAAKI,MAAMC,UAAWC,MAAQ,OAC1C7H,QAAW,SAAA6B,GAAC,OAAEtC,EAAMmV,sBAAsB7S,EAAEmB,EAAM,iBAElD,yBAAKjD,UAAY,uBAAuBwH,EAAKuB,aAOjE,wBAAI/I,UAAY,oBAAhB,uBACA,yBAAKA,UAAY,mCAChBoU,EAAiBrR,KAAI,SAACyE,EAAKvE,GAChB,OACI,kBAAC,IAAMvD,SAAP,CAAgB+H,IAAOxE,GACnB,yBAAKjD,UAAS,4BAAyBqL,IACvC,yBAAKrL,UAAY,sBAAsBwH,EAAKvF,MAC5C,yBAAK0F,IAAOH,EAAKI,MAAMC,UAAWC,MAAQ,OAC1C7H,QAAW,SAAA6B,GAAC,OAAEtC,EAAMmV,sBAAsB7S,EAAEmB,EAAM,wBAElD,yBAAKjD,UAAY,uBAAuBwH,EAAKuB,eAevE6L,GAAiB,SAACpV,GAEpB,OAAIA,EAAMqV,aAGF,kBAAC,GAAD,CACItK,YAAe/K,EAAM+K,YACrBuK,OAAUtV,EAAMsV,OAChB7D,YAAezR,EAAMyR,YACrBF,WAAcvR,EAAMuR,aAM5BvR,EAAMuV,WAGE,kBAAC,GAAD,CACA1D,yBAA4B7R,EAAM6R,yBAClCC,aAAgB9R,EAAM8R,aACtB/G,YAAe/K,EAAM+K,YACrBgH,cAAiB/R,EAAM+R,gBAK/B/R,EAAMwV,UAGE,kBAAC,GAAD,CACA9C,YAAe1S,EAAM0S,YACrBT,cAAiBjS,EAAMiS,cACvBlH,YAAe/K,EAAM+K,YACrB6H,YAAe5S,EAAM4S,cAK7B5S,EAAMyV,aAGE,kBAAC,GAAD,CACAxD,cAAiBjS,EAAMiS,cACvByD,sBAAyB1V,EAAM0V,sBAC/B7B,kBAAqB7T,EAAM6T,kBAC3B8B,kBAAqB3V,EAAM2V,kBAC3BjC,cAAiB1T,EAAM0T,cACvBS,mBAAsBnU,EAAMmU,mBAC5BP,aAAgB5T,EAAM4T,aACtB7I,YAAe/K,EAAM+K,YACrB4I,YAAe3T,EAAM2T,YACrBU,YAAe,KAKvBrU,EAAM4V,eAEC,kBAAC,GAAD,CACCjB,UAAa3U,EAAM2U,UACnBC,iBAAoB5U,EAAM4U,iBAC1B7J,YAAe/K,EAAM+K,YACrBoK,sBAAyBnV,EAAMmV,sBAC/BJ,oBAAuB/U,EAAM+U,oBAC7BF,sBAAyB7U,EAAM6U,sBAC/BK,iBAAoBlV,EAAMkV,mBAG1B,MAIVW,GAAiB,SAAC7V,GAAW,IAAD,EAEYgG,oBAAS,GAFrB,mBAEvB8P,EAFuB,KAENC,EAFM,KAIvBC,EAAoB,SAAC1T,EAAE+C,GAC1B/C,EAAE2C,iBAED8Q,GADG1Q,IAGiByQ,IATK,EAaiB9P,oBAAS,GAb1B,mBAatBiQ,EAbsB,KAaHC,EAbG,KAexBC,EAAsB,SAAC7T,EAAE+C,GAC3B/C,EAAE2C,iBAEFiR,GADI7Q,IAGmB4Q,IAK3B,OACI,kBAAC,IAAM/V,SAAP,KAEI,yBAAKM,UAAY,sDAGb,yBAAKkG,GAAK,sBAAsBlG,UAAY,wBAAwBC,QAAWT,EAAMoW,YAArF,UAIA,yBAAK1P,GAAK,oBAAoBlG,UAAY,yBAClCC,QAAwC,IAA9BT,EAAM8R,aAAa7N,OAAc,SAAA3B,GAAC,OAAI6T,EAAoB7T,IAAGtC,EAAMoW,YADrF,SAMA,yBAAK5V,UAAY,yBACTC,QAAwC,IAA9BT,EAAMiS,cAAchO,OAAa,SAAA3B,GAAC,OAAE0T,EAAkB1T,IAAItC,EAAMoW,YADlF,OAMA,yBAAK5V,UAAY,yBAAyBC,QAAUT,EAAMoW,YAA1D,UAIA,yBAAK5V,UAAY,yBAAyBC,QAAWT,EAAMoW,YAA3D,aAMJ,yBAAK5V,UAAY,mCAEbL,MAAS,CAACkW,UAAU,aAAD,OAAerW,EAAMsW,gBAArB,QAMnB,kBAACC,GAAA,EAAD,CAASlN,UAAW,SAASC,QAAU,SAAS3H,OAAUmU,EAAmBjU,OAAU,SAAAS,GAAC,OAAE0T,EAAkB1T,EAAE,UAAUE,OAAS,qBAC7H,0DAGJ,kBAAC+T,GAAA,EAAD,CAASlN,UAAW,SAASC,QAAU,SAAU3H,OAAUsU,EAAmBpU,OAAU,SAAAS,GAAC,OAAG6T,EAAoB7T,EAAE,UAAYE,OAAO,uBACjI,8DAsTLgU,G,YA3SX,WAAYxW,GAAO,IAAD,gCACd,4CAAMA,KACDR,OAAL,GAEI8W,gBAAiB,0BAEjB5D,YAAa,KACbT,cAAc,GACdJ,yBAAyB,GACzBC,aAAc,GAEduD,cAAc,EACdG,WAAU,EACVD,YAAY,GAXhB,2BAYc,GAZd,8BAaiB,GAbjB,gCAcmB,GAdnB,uCAgB2B,GAhB3B,kCAiBuB,IAjBvB,6BAkBiB,IAlBjB,+BAmBkB,GAnBlB,sCAqB2B,IArB3B,qCAsByB,GAtBzB,mCAuByB,IAvBzB,GA2BA,EAAKa,WAAY,EAAKA,WAAWrR,KAAhB,gBACjB,EAAK0M,YAAc,EAAKA,YAAY1M,KAAjB,gBACnB,EAAKgN,cAAgB,EAAKA,cAAchN,KAAnB,gBACrB,EAAK6N,YAAc,EAAKA,YAAY7N,KAAjB,gBAEnB,EAAKoP,mBAAqB,EAAKA,mBAAmBpP,KAAxB,gBAC1B,EAAKoQ,sBAAwB,EAAKA,sBAAsBpQ,KAA3B,gBAC7B,EAAKmQ,iBAAmB,EAAKA,iBAAiBnQ,KAAtB,gBAExB,EAAK0R,oBAAsB,EAAKA,oBAAoB1R,KAAzB,gBAC3B,EAAK2R,aAAe,EAAKA,aAAa3R,KAAlB,gBAvCN,E,gFA4CCzC,EAAE2F,GACjB/F,KAAKiC,SAAS,CAACuP,eAAc,IAC7BxR,KAAKiC,SAAS,CAACyP,aAAa1R,KAAKlC,MAAM2T,YAAY1L,O,kCAG3C3F,EAAE2F,GACV/F,KAAKiC,SAAS,CAACuO,YAAYxQ,KAAK1C,MAAMyS,cAAcpB,cAAcZ,MAAMhI,GAAKI,c,kCAGrE/F,EAAE2F,GACV,IAAM0O,EAAYzU,KAAKlC,MAAMuR,WAAWtJ,GAAKuJ,KAAKnD,SAASqC,MAAM,GAAGc,KAAKoF,aAAalG,MACtFtN,QAAQC,IAAI,mBAAmBsT,GAC/BzU,KAAKiC,SAAS,CAACkR,cAAc,IAC7BnT,KAAKiC,SAAS,CAACoR,YAAW,IAC1BrT,KAAKiC,SAAS,CAAC2N,aAAe5P,KAAKlC,MAAMsV,OAAOrN,GAAKuJ,OACrDtP,KAAKiC,SAAS,CAAC0N,yBAAyB8E,IACxCzU,KAAKiC,SAAS,CAACmS,gBAAgB,GAAD,OAAIpU,KAAK1C,MAAMqX,mBAAmBC,MAAlC,kB,oCAIpBxU,EAAE2F,GAEZ/F,KAAKiC,SAAS,CAAEoR,YAAY,IAC5BrT,KAAKiC,SAAS,CAACqR,WAAU,IACzB,IAAMuB,EAAe7U,KAAK1C,MAAMqS,yBAAyB5J,GAAKuJ,KAC9DtP,KAAKiC,SAAS,CAAC8N,cAAgB8E,IAC/B7U,KAAKiC,SAAS,CAACmS,gBAAgB,GAAD,OAAIpU,KAAK1C,MAAMqX,mBAAmBG,IAAlC,gBAE9B5T,QAAQC,IAAI,gBAAgBnB,KAAK1C,MAAMqS,yBAAyB5J,GAAKuJ,Q,4CAInDlP,EAAE2F,EAAI/C,GACxBhD,KAAKiC,SAAS,CAAC4Q,qBAAoB,IACtB,sBAAT7P,GACHhD,KAAKiC,SAAS,CAAC0Q,sBAAwB3S,KAAKlC,MAAM4U,iBAAiB3M,KACnE7E,QAAQC,IAAInB,KAAKlC,MAAM4U,iBAAiB3M,KAExB,eAAT/C,GACPhD,KAAKiC,SAAS,CAAC0Q,sBAAwB3S,KAAKlC,MAAM2U,UAAU1M,KAC5D7E,QAAQC,IAAInB,KAAKlC,MAAM2U,UAAU1M,KAGjC7E,QAAQC,IAAI,W,uCAGAf,EAAE2U,GACf,OAAOA,GACH,IAAK,WACL/U,KAAKiC,SAAS,CAAC4Q,qBAAoB,O,4CAMvC,IAAMmC,EAAcC,SAASC,uBAAuB,yBAI/CC,EAFUF,SAASC,uBAAuB,6BAErB,GAAGE,wBAAwBhP,MAQjDiP,EAAW,GACf,aAAIL,GAAa7E,SAAQ,SAAAmF,GAAE,OAAGD,EAASrU,KAAKsU,EAAGF,wBAAwBG,EAAID,EAAGF,wBAAwBhP,MAAM,EAAI+O,EAAY,EAAG,OAE/H,IAEIR,EAAqB,GAFd,CAAC,SAAW,QAAU,MAAO,SAAW,YAI9CtT,KAAK,SAAC0E,EAAIxE,GAAaoT,EAAmB5O,GAAOsP,EAAS9T,MAE/DL,QAAQC,IAAI,uBAAuBwT,GAGnC3U,KAAKiC,SAAS,CAAC0S,mBAAmBA,M,qCAIlC3U,KAAK1C,MAAM6V,aACXnT,KAAKkU,WAAW,UAChBlU,KAAK1C,MAAM+V,WACXrT,KAAKkU,WAAW,SAChBlU,KAAK1C,MAAMwS,UACX9P,KAAKkU,WAAW,OAChBlU,KAAK1C,MAAMgU,aACXtR,KAAKkU,WAAW,UAChBlU,KAAKkU,WAAW,c,iCAOT9T,GAAG,IAAD,OAEHoV,EAAS,SAACC,GAChB,OAAQA,GACR,IAAK,SACD,EAAKxT,SAAS,CAACkR,cAAa,IAC5B,EAAKlR,SAAS,CAACoR,YAAW,IAC1B,EAAKpR,SAAS,CAACqR,WAAU,IACzB,EAAKrR,SAAS,CAACsR,cAAa,IAC5B,EAAKtR,SAAS,CAACyR,gBAAe,IAE9B,EAAKzR,SAAS,CAACmS,gBAAgB,GAAD,OAAI,EAAK9W,MAAMqX,mBAAmBvB,OAAlC,gBAElC,MACA,IAAK,QACD,EAAKnR,SAAS,CAACkR,cAAa,IAC5B,EAAKlR,SAAS,CAACoR,YAAW,IAC1B,EAAKpR,SAAS,CAACqR,WAAU,IACzB,EAAKrR,SAAS,CAACsR,cAAa,IAC5B,EAAKtR,SAAS,CAACyR,gBAAe,IAC9B,EAAKzR,SAAS,CAACuO,YAAY,OAE3B,EAAKvO,SAAS,CAACmS,gBAAgB,GAAD,OAAI,EAAK9W,MAAMqX,mBAAmBC,MAAlC,gBAClC,MACA,IAAK,MACD,EAAK3S,SAAS,CAACkR,cAAa,IAC5B,EAAKlR,SAAS,CAACoR,YAAW,IAC1B,EAAKpR,SAAS,CAACqR,WAAU,IACzB,EAAKrR,SAAS,CAACsR,cAAa,IAC5B,EAAKtR,SAAS,CAACyR,gBAAe,IAE9B,EAAKzR,SAAS,CAACmS,gBAAgB,GAAD,OAAI,EAAK9W,MAAMqX,mBAAmBG,IAAlC,gBAClC,MACA,IAAK,SACD,EAAK7S,SAAS,CAACkR,cAAa,IAC5B,EAAKlR,SAAS,CAACoR,YAAW,IAC1B,EAAKpR,SAAS,CAACqR,WAAU,IACzB,EAAKrR,SAAS,CAACsR,cAAa,IAC5B,EAAKtR,SAAS,CAACyR,gBAAe,IAE9B,EAAKzR,SAAS,CAACmS,gBAAgB,GAAD,OAAI,EAAK9W,MAAMqX,mBAAmBe,OAAlC,gBAClC,MACA,IAAK,WACD,EAAKzT,SAAS,CAACkR,cAAa,IAC5B,EAAKlR,SAAS,CAACoR,YAAW,IAC1B,EAAKpR,SAAS,CAACqR,WAAU,IACzB,EAAKrR,SAAS,CAACsR,cAAa,IAC5B,EAAKtR,SAAS,CAACyR,gBAAe,IAE9B,EAAKzR,SAAS,CAACmS,gBAAgB,GAAD,OAAI,EAAK9W,MAAMqX,mBAAmBgB,SAAlC,kBAStC,GAFAvV,EAAE2C,iBAEa,UAAX3C,EAAE4C,KAAiB,CACnB,IAAIyS,EAAO/N,OAAOtH,EAAEE,OAAOqH,WAC3BzG,QAAQC,IAAI,wBAAyBsU,GACrCD,EAAQC,QAGRvU,QAAQC,IAAI,sBAAuBf,GACnCoV,EAAQpV,K,0CAORJ,KAAKuU,sBAELlL,OAAOK,iBAAiB,SAAS1J,KAAKuU,qBAEvCrT,QAAQC,IAAInB,KAAKlC,S,6CAIhBuL,OAAOuM,oBAAoB,SAAS5V,KAAKuU,uB,+BAU7C,OACI,yBAAKjW,UAAY,oBAEb,kBAAC,IAAMN,SAAP,KACI,kBAAC,GAAD,CACAkW,WAAclU,KAAKkU,WACnBtE,aAAgB5P,KAAK1C,MAAMsS,aAC3BG,cAAiB/P,KAAK1C,MAAMyS,cAC5BqE,gBAAmBpU,KAAK1C,MAAM8W,kBAIlCpU,KAAKlC,MAAMgQ,QAEX,yBAAKxP,UAAY,qBACT,yBAAKA,UAAW,gBAAe,8BAAW,8BAAW,8BAAW,gCAKpE,kBAAC,GAAD,CACAuK,YAAe7I,KAAKlC,MAAM+K,YAE1BsK,aAAgBnT,KAAK1C,MAAM6V,aAC3BE,WAAcrT,KAAK1C,MAAM+V,WACzBC,UAAatT,KAAK1C,MAAMgW,UACxBC,aAAgBvT,KAAK1C,MAAMiW,aAC3BG,eAAkB1T,KAAK1C,MAAMoW,eAE7BN,OAAUpT,KAAKlC,MAAMsV,OACrB7D,YAAevP,KAAKuP,YACpBK,aAAgB5P,KAAK1C,MAAMsS,aAE3BD,yBAA4B3P,KAAK1C,MAAMqS,yBACvCI,cAAiB/P,KAAK1C,MAAMyS,cAC5BF,cAAiB7P,KAAK6P,cACtBW,YAAexQ,KAAK1C,MAAMkT,YAC1BE,YAAe1Q,KAAK0Q,YAEpBe,YAAezR,KAAKlC,MAAM2T,YAC1BD,cAAiBxR,KAAK1C,MAAMkU,cAC5BE,aAAgB1R,KAAK1C,MAAMoU,aAC3BO,mBAAsBjS,KAAKiS,mBAE3BQ,UAAazS,KAAKlC,MAAM2U,UACxBC,iBAAoB1S,KAAKlC,MAAM4U,iBAC/BO,sBAAyBjT,KAAKiT,sBAC9BJ,oBAAuB7S,KAAK1C,MAAMuV,oBAClCF,sBAAyB3S,KAAK1C,MAAMqV,sBAEpCK,iBAAoBhT,KAAKgT,iBAEzB3D,WAAYrP,KAAKlC,MAAMuR,mB,GA9RJpP,IAAMC,WChjBnC2V,IA1JQC,IAKAC,IAKAC,I,YAiJV,WAAYlY,GAAO,IAAD,8BACd,4CAAMA,KACDR,MAAQ,CACT2Y,YAAaC,OACbC,aAAa,EAEbC,qBAAqB,EACrBC,iBAAgB,GAIpB,EAAK1W,OAAS,EAAKA,OAAOkD,KAAZ,gBACd,EAAKyT,YAAc,EAAKA,YAAYzT,KAAjB,gBAZL,E,oEAcfzC,EAAEE,GAESN,KAAK1C,MAAM8Y,oBAA+B/M,OAAOE,YAMpD,gBAAXjJ,EACAN,KAAKiC,UAAS,SAAA3E,GAAK,MAAK,CAAE8Y,qBAAsB9Y,EAAM8Y,wBAGtDpW,KAAKiC,UAAS,SAAA3E,GAAK,MAAI,CAAE+Y,iBAAkB/Y,EAAM+Y,sB,kCAIzCjW,EAAEmB,GACVvB,KAAKiC,SAAS,CAACkU,aAAY,IAC3BnW,KAAKiC,SAAS,CAACgU,YAAY1U,M,+BAOlB,IAAD,OAEE0D,EAAUjF,KAAKlC,MAAMgI,KAM3B,OAJA5E,QAAQC,IAAI,UAAU8D,IACG,IAAzBjF,KAAK1C,MAAM6Y,YAAoBjV,QAAQC,IAAI8D,EAAQ0J,cAAcH,MAAMxO,KAAK1C,MAAM2Y,aAAa3G,MAAMpO,QAAQC,IAAI,qBAI7G,kBAAC,IAAMnD,SAAP,KACI,yBAAKM,UAAwC,aAA3B0B,KAAKlC,MAAM+K,YAA6B,SAAW,SACjE,wBAAIvK,UAAY,iCAAiC2G,EAAQ1E,MAChC,iBAAxB0E,EAAQsR,YAAgC,yBAAKjY,UAAY,cAAjB,QAA0C,KACnF,yBAAK8H,MAAM,OAAOH,KAAkC,IAA3BjG,KAAK1C,MAAM6Y,YAAsBlR,EAAQiB,MAAMC,UAAWlB,EAAQ0J,cAAcH,MAAMxO,KAAK1C,MAAM2Y,aAAa3G,KAAKkH,aAAe7J,IAAK1H,EAAQ1E,OACxK,yBAAKjC,UAAY,oDAEf2G,EAAQ0J,cAAcH,MAAMnN,KAAI,SAAC6E,EAAM3E,GACnC,OACI,yBAAMwE,IAAOxE,EAAOjD,UAAY,uCAChC,yBAAKC,QAAW,SAAA6B,GAAI,EAAKkW,YAAYlW,EAAEmB,IAASkP,OAAS,OAAOrK,MAAQ,OAAOH,IAAOC,EAAMoJ,KAAKkH,aAAc7J,IAAG,yBAAsBpL,WAYtJ,yBAAKjD,UAAwC,aAA3B0B,KAAKlC,MAAM+K,YAA8B,UAAY,SACnE,wBAAIvK,UAAU,eAAe0B,KAAKlC,MAAMgI,KAAKuB,OAG7C,kBAAC,KAAD,CAAiBpC,QAAWA,IAExB,yBAAK3G,UAAY,uDACb,yBAAMC,QAAW,SAAA6B,GAAC,OAAE,EAAKT,OAAOS,EAAE,gBAAgB9B,UAAW0B,KAAK1C,MAAM8Y,oBAAoB,4BAA4B,uBACpH,yBAAK9X,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eAJ3B,eASA,kBAACiU,EAAA,EAAD,CAAU9S,OAAQO,KAAK1C,MAAM8Y,qBACzB,yBAAK9X,UAAY,qBACZkR,KAAWvK,EAAQwK,eAK5B,yBAAKnR,UAAa,uDACd,yBAAMC,QAAW,SAAA6B,GAAC,OAAE,EAAKT,OAAOS,EAAE,YAAY9B,UAAW0B,KAAK1C,MAAM+Y,gBAAgB,4BAA4B,uBAC5G,yBAAK/X,UAAU,UACX,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eAJ3B,wBASA,kBAACiU,EAAA,EAAD,CAAU9S,OAAQO,KAAK1C,MAAM+Y,iBACzB,yBAAK/X,UAAY,qBACb,yCAGuB,OAAvB2G,EAAQgM,WAERhM,EAAQgM,WAAWlD,MAAM1M,KAAK,SAACyE,EAAKvE,GAEhC,OACI,uBAAGwE,IAAMxE,GACJuE,EAAKvF,KADV,MACmBuF,EAAKoL,YAQhC,KAGA,0CACJ,gCAAMjM,EAAQlD,OAAd,OAA0BkD,EAAQmB,MAAlC,QAA8CnB,EAAQwL,OAAtD,c,GA7HFxQ,IAAMC,YA0I1BuW,G,iLAKO,IAAD,OAEFjR,EAAWxF,KAAKlC,MAAM0H,SACxBmE,EAAkC,aAA3B3J,KAAKlC,MAAM+K,YAA6B,QAAU,QAEzD,OAEJ7I,KAAKlC,MAAM4Y,WAEX,yBAAKpY,UAAY,qBACjB,yBAAKA,UAAW,gBAAe,8BAAW,8BAAW,8BAAW,gCAExD,yBAAMA,UAAY,QAIiB,IAA3B0B,KAAKlC,MAAM6Y,YAEXnR,EAASnE,KAAI,SAACyE,EAAKvE,GACf,OAEI,yBAAKwE,IAAOxE,EAAOhD,QAAW,SAAA6B,GAAC,OAAE,EAAKtC,MAAM8Y,kBAAkBxW,EAAEmB,IAChEjD,UAAaqL,EAAO,mBAGhB,yBAAKrL,UAAY,uBAWS,iBAArBwH,EAAKyQ,YAAgC,yBAAKjY,UAAY,cAAjB,QAA0C,KAChF,yBAAK8H,MAAQ,OAAOH,IAAOH,EAAKI,MAAMC,UAAWwG,IAAG,eAAYpL,KAChE,4BAAKuE,EAAKvF,MACV,4BAAKuF,EAAKuB,YAQ1B,kBAAC,GAAD,CAAawB,YAAe7I,KAAKlC,MAAM+K,YAAa/C,KAAQN,EAASxF,KAAKlC,MAAM+Y,qB,GApDxE5W,IAAMC,WAmG5B4W,IAvCgC7W,IAAMC,U,iLAwC/B,IAAD,OACAyJ,EAAkC,cAA3B3J,KAAKlC,MAAM+K,YAA8B,QAAU,SAC1D4H,EAAoC,cAA3BzQ,KAAKlC,MAAM+K,YAA8B,OAAS,SAC3DkO,EAAoC,cAA3B/W,KAAKlC,MAAM+K,YAA8B,MAAQ,MAC9D,OACI,qCAAKvK,UAAY,iBAAjB,YAA6C,+DACzC,yBAAKA,UAAaqL,GAClB,yBAAMpL,QAAY,SAAA6B,GAAC,OAAE,EAAKtC,MAAMqP,WAAW/M,EAAE,YAAY9B,UAAY,iCAC7DL,MAAS,CAKLwS,OAAOA,EACPuG,aAAcD,IAGN,+CACA,yBAAKzY,UAAY,wDACjB,yBAAKA,UAAY,6BAA6B8H,MAAkC,cAAzBpG,KAAKlC,MAAM+K,YAA0B,MAAO,MAAO5C,IAAOgR,IAActK,IAAM,qBAIzJ,yBAAKrO,UAAaqL,GAClB,yBAAKpL,QAAY,SAAA6B,GAAC,OAAE,EAAKtC,MAAMqP,WAAW/M,EAAE,WAAW9B,UAAY,iCAC3DL,MAAS,CAILiZ,aAAa,SACbzG,OAAOA,EACPuG,aAAcD,IAGN,qDACA,yBAAKzY,UAAY,wDACjB,yBAAKA,UAAY,6BAA6B8H,MAAkC,cAAzBpG,KAAKlC,MAAM+K,YAA0B,MAAM,MAAM5C,IAAOkR,IAASxK,IAAM,oB,GArCvI1M,IAAMC,YA0VlBkX,G,YAjSX,WAAYtZ,GAAO,IAAD,8BACd,4CAAMA,KANV8P,gBAAkBA,EAAgB/K,KAAhB,gBAKA,EAJlBmL,YAAcA,EAAYnL,KAAZ,gBAII,EAHlBwU,kBAAoBA,EAAkBxU,KAAlB,gBAGF,EAFlBuL,wBAA0BA,GAAwBvL,KAAxB,gBAItB,EAAKvF,MAAM,CACPga,YAAY,EACZC,eAAc,EACdZ,aAAY,EACZE,aAAeX,OACfrN,YAAY,GACZ2O,QAAQ,EACRC,UAAW,GACXhF,UAAU,GACVC,iBAAkB,GAClBjB,YAAa,GACb3D,SAAS,EACT4I,YAAW,GAKnB,EAAKE,kBAAmB,EAAKA,kBAAkB/T,KAAvB,gBACxB,EAAK6U,gBAAiB,EAAKA,gBAAgB7U,KAArB,gBAEtB,EAAKiG,kBAAoB,EAAKA,kBAAkBjG,KAAvB,gBAIzB,EAAK8U,cAAgB,EAAKA,cAAc9U,KAAnB,gBACrB,EAAK+U,aAAe,EAAKA,aAAa/U,KAAlB,gBACpB,EAAKgV,YAAc,EAAKA,YAAYhV,KAAjB,gBACnB,EAAKiV,OAAS,GACd,EAAKC,YAAc,IA9BD,E,+EAmCJ3X,EAAE4X,GAChBhY,KAAKlC,MAAMma,wBACXjY,KAAKiC,SAAS,CAAC0U,aAAY,IAC3B3W,KAAKiC,SAAS,CAAC4U,aAAamB,M,wCAK5BhY,KAAKiC,SAAS,CAAC0U,aAAY,M,0CAuBvBtN,OAAOC,YAAcD,OAAOE,YAC5BvJ,KAAKiC,SAAS,CAAC4G,YAAY,cAG1B7I,KAAKiC,SAAS,CAAC4G,YAAY,e,oCAMtBzI,GACV,IAAM8X,EAAQ9X,EAAE+X,QAAQ,GACxBnY,KAAK8X,OAAS,CAAEvC,EAAG2C,EAAME,SACzBpY,KAAKiC,SAAS,CAAEuV,QAAQ,M,mCAGbpX,GACX,GAAIA,EAAEiY,gBAAkBjY,EAAEiY,eAAetW,OAAQ,CACjC3B,EAAEiY,eAAe,GAC/BrY,KAAK8X,OAAOQ,SAAU,K,kCAIdlY,GACV,IACMmY,EADQnY,EAAEiY,eAAe,GACXD,QAAUpY,KAAK8X,OAAOvC,EACtCvV,KAAK8X,OAAOQ,SAAWC,EAAOvY,KAAK+X,cACrC/X,KAAKlC,MAAM0a,UAAYxY,KAAKlC,MAAM0a,WAClCxY,KAAKiC,SAAS,CAAEuV,QAAQ,KAEA,IAAzBxX,KAAK1C,MAAMqZ,YAAmB3W,KAAK0X,kBAAkB1X,KAAKlC,MAAM2a,cAEjEzY,KAAK8X,OAAS,K,2CAId9X,KAAK8I,sB,0CAEW,IAAD,OAGfO,OAAOK,iBAAiB,SAAS1J,KAAK8I,mBAItC8E,IAAkBnF,MAAK,SAAA+C,GAEnBtK,QAAQC,IAAI,gCAAgCqK,GAE5C,EAAKvJ,SAAS,CAACwV,UAAUjM,IACzB,EAAKvJ,SAAS,CAACyU,YAAW,OAO9BW,IAAoB5O,MAAK,SAAA+C,GAErB,IAAM4H,EAAS5H,EAAOgD,MAChBhJ,EAAWgG,EAAOuC,MAExB,EAAK9L,SAAS,CAACmR,OAAOA,IACtB,EAAKnR,SAAS,CAACuD,SAASA,IAExBtE,QAAQC,IAAI,qBAAsBiS,EAAQ,qCAAsC5N,GAChF,EAAKvD,SAAS,CAAC6L,SAAQ,OAM3BM,KAA0B3F,MAAK,SAAA+C,GAE3B,IAAM6D,EAAa7D,EAAOgD,MAG1B,EAAKvM,SAAS,CAACoN,WAAWA,IAG1BnO,QAAQC,IAAI,OAAO,EAAK7D,MAAM+R,eAOlChB,KAAsB5F,MAAK,SAAA+C,GAEvB,IAAMiH,EAAYjH,EAElB,EAAKvJ,SAAS,CAACwQ,UAAYA,OAO/BnE,KAAsB7F,MAAK,SAAA+C,GAEvB,IAAMkH,EAAmBlH,EAEzB,EAAKvJ,SAAS,CAACyQ,iBAAkBA,OAKrCnE,KAAc9F,MAAK,SAAA+C,GAEf,IAAMiG,EAAcjG,EACpBtK,QAAQC,IAAI,2BAA4BsQ,GACxC,EAAKxP,SAAS,CAACwP,YAAYA,S,6CAO/BpI,OAAOuM,oBAAoB,SAAS5V,KAAK8I,qB,+BAEpC,IAAD,OACO9I,KAAK1C,MAAMuL,YACT7I,KAAKlC,MAAMmP,2BACxB,OACIjN,KAAKlC,MAAMgP,0BAEX,KAEA,yBACItI,GAAK,QACLlG,UAAY,kBACZoa,aAAgB1Y,KAAK2X,cACrBgB,YAAgB3Y,KAAK4X,aACrBgB,WAAc5Y,KAAK6X,aAWf7X,KAAKlC,MAAMmP,2BAEXjN,KAAKlC,MAAM+a,YAAc,wBAAIva,UAAW,+BAAf,WAA4D,KAErF,wBAAIA,UAAW,+BAAf,SAKD,yBAAKA,UAAY,oBAIW,IAAzB0B,KAAKlC,MAAM+a,cAA+C,IAAxB7Y,KAAKlC,MAAMwZ,WAI/C,kBAAC,GAAD,CACAnK,WAAcnN,KAAKlC,MAAMqP,WACzBtE,YAAe7I,KAAK1C,MAAMuL,cAK1B7I,KAAKlC,MAAMwZ,WAIX,kBAAC,GAAD,CACIlE,OAAUpT,KAAK1C,MAAM8V,OACrB5N,SAAYxF,KAAK1C,MAAMkI,SACvBqD,YAAe7I,KAAK1C,MAAMuL,YAC1B4J,UAAazS,KAAK1C,MAAMmV,UACxBC,iBAAoB1S,KAAK1C,MAAMoV,iBAC/BjB,YAAezR,KAAK1C,MAAMmU,YAC1B3D,QAAW9N,KAAK1C,MAAMwQ,QACtBuB,WAAcrP,KAAK1C,MAAM+R,aAI7B,kBAAC,GAAD,CACI7J,SAAYxF,KAAK1C,MAAMma,UACvB5O,YAAe7I,KAAK1C,MAAMuL,YAC1B+N,kBAAmB5W,KAAK4W,kBACxBD,YAAe3W,KAAK1C,MAAMqZ,YAC1BE,aAAc7W,KAAK1C,MAAMuZ,aACzBH,WAAc1W,KAAK1C,MAAMoZ,eAMC,IAA1B1W,KAAKlC,MAAM+a,YAGN,yBAAKta,SAAqC,IAA1ByB,KAAK1C,MAAMqZ,YAAsB3W,KAAK0X,gBAAkB1X,KAAKlC,MAAM2a,WAAana,UAAU,yBAC1GL,MAAS+B,KAAKlC,MAAM+a,YAAY,CAACjT,IAAI,QAAU4B,KAAM,sBAAuB,CAAC5B,IAAI,OAAQ4B,KAAM,uBAD/F,QAKT,KAGLxH,KAAKlC,MAAM+a,aAAe7Y,KAAKlC,MAAMwZ,WAEtC,KAEA,yBAAKhZ,UAAY,qCAEf,yBAAKA,UAAY,aAAaC,QAAU,SAAC6B,GAAD,OAAO,EAAKtC,MAAM8O,cAAcxM,EAAE,oB,GA9RlEH,IAAMC,W,UCtWX4Y,G,YAjGX,WAAYhb,GAAO,IAAD,8BACd,4CAAMA,KACDR,MAAQ,CACTuL,YAAc,IAGlB,EAAKC,kBAAoB,EAAKA,kBAAkBjG,KAAvB,gBANX,E,iFAUVwG,OAAOC,YAAcD,OAAOE,YAC5BvJ,KAAKiC,SAAS,CAAC4G,YAAY,cAG1B7I,KAAKiC,SAAS,CAAC4G,YAAY,e,2CAKhC7I,KAAK8I,sB,0CAGLO,OAAOK,iBAAiB,SAAS1J,KAAK8I,qB,+BAIjC,IAAD,OACAa,EAAkC,aAA3B3J,KAAK1C,MAAMuL,YAA6B,cAAgB,QAC/DkQ,EAAkC,aAA3B/Y,KAAK1C,MAAMuL,YAA6B,MAAQ,+BAC3D,OAEI7I,KAAKlC,MAAMmP,4BAA8BjN,KAAKlC,MAAMgP,0BAEpD,KAEA,kBAAC,IAAM9O,SAAP,KAEQ,yBAAKwG,GAAK,UAAUlG,UAAW,gBAC3B,yBAAKA,UAAY,mBAGb,wBAAIA,UAAW,8BAAf,aAEA,yBAAKA,UAAaya,GAClB,yBAAKza,UAAaqL,GACd,oSAKJ,yBAAKrL,UAAaqL,GACd,kBAACqP,GAAA,EAAD,KACI,kBAAC7H,GAAA,EAAD,KACA,kBAACC,GAAA,EAAD,CAAO6H,IAAI,QAAX,QACA,kBAAC5H,GAAA,EAAD,CAAOrO,KAAK,OAAOzC,KAAK,OAAOiE,GAAG,OAAOvB,YAAY,SAErD,kBAACmO,GAAA,EAAD,CAAO6H,IAAI,SAAX,SACA,kBAAC5H,GAAA,EAAD,CAAOrO,KAAK,QAAQzC,KAAK,QAAQiE,GAAG,QAAQvB,YAAY,UAExD,kBAACmO,GAAA,EAAD,CAAO6H,IAAI,SAAX,SACA,kBAAC5H,GAAA,EAAD,CAAOrO,KAAK,QAAQzC,KAAK,QAAQiE,GAAG,QAAQvB,YAAY,WAKxD,kBAACkO,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAO6H,IAAI,WAAX,WACA,kBAAC5H,GAAA,EAAD,CAAOrO,KAAK,WAAWzC,KAAK,UAAUiE,GAAG,aAE7C,yBAAKlG,UAAY,wBAAjB,aAaZ,yBAAKA,UAAY,qCACjB,kBAAC,WAAD,MACK,cAAG4a,OAAH,OACG,yBAAK5a,UAAY,eAAgBC,QAAW,SAAC6B,GAAD,OAAK,EAAKtC,MAAM8O,cAAcxM,EAAE,wB,GAtFtFH,IAAMC,W,mBC0BbiZ,G,iLAvBP,OACInZ,KAAKlC,MAAMgP,0BAEX,KAEA,kBAAC,YAAD,KACI,yBAAKtI,GAAK,WAAWlG,UAAY,iBAC7B,yBAAKA,UAAY,mBAEb,yBAAKA,UAAY,qCACb,0CAGJ,kBAAC,KAAD,a,GAlBD2B,IAAMC,W,yCCJhBkZ,GAAU,CACnB,CACA5U,GAAI,EACJkK,MAAM,aACNxI,MAAO,+BACPuJ,YAAY,yBAEZ,CACAjL,GAAI,EACJkK,MAAM,oBACNxI,MAAO,8BACPuJ,YAAY,+GAEZ,CACAjL,GAAI,EACJkK,MAAM,kBACNxI,MAAO,8BACPuJ,YAAY,yCAEZ,CACAjL,GAAI,EACJkK,MAAM,WACNxI,MAAO,8BACPuJ,YAAY,kGAEZ,CACAjL,GAAI,EACJkK,MAAM,YACNxI,MAAO,8BACPuJ,YAAY,gDAEZ,CACAjL,GAAI,EACJkK,MAAM,kBACNxI,MAAO,8BACPuJ,YAAY,0C,qBChCV4J,G,YACF,WAAYvb,GAAO,IAAD,8BAClB,4CAAMA,KACDwb,SAAWC,OACZ,EAAKjc,MAAO,CACRkc,WAAU,GAGd,EAAKC,YAAc,EAAKA,YAAY5W,KAAjB,gBAPL,E,2EAad7C,KAAKlC,MAAMwY,YAAYtW,KAAKlC,MAAMgI,KAAKtB,M,0CAIvCxE,KAAKsZ,SAASI,Y,+BAId,IAAItT,EAAUpG,KAAKlC,MAAM6b,kBAA8C,cAA3B3Z,KAAKlC,MAAM+K,YAA6B,WAAa,SAAuC,cAA3B7I,KAAKlC,MAAM+K,YAA6B,OAAS,OAC1J4H,EAASzQ,KAAKlC,MAAM6b,kBAA+C,cAA3B3Z,KAAKlC,MAAM+K,YAA6B,OAAS,WAAwC,cAA3B7I,KAAKlC,MAAM+K,YAA6B,OAAS,OACvJc,EAAQ3J,KAAKlC,MAAM6b,mBAAoB3Z,KAAKlC,MAAM+K,YAA6B,oBAAqE,cAA3B7I,KAAKlC,MAAM+K,YAA6B,mBAAqB,mBAC1L,OAEI,yBAAMvK,UAAcqL,GAChB,yBAAMpL,QAAWyB,KAAKyZ,YAAanb,UAAY,wFACzCsb,wBAAwB1U,eAAyBlF,KAAKlC,MAAMgI,KAAKI,MAAOjI,MAAS,CACnEmI,MAAQA,EACRqK,OAASA,EACToJ,gBAAiB,UAG1B7Z,KAAKlC,MAAM6b,kBACZ,KACF,wBAAKrb,UAAY,sDACZ0B,KAAKlC,MAAMgI,KAAK4I,a,GAtCzBzO,IAAMC,WA+CpB4Z,G,iLAGF,IAAI1T,EAAuC,cAA3BpG,KAAKlC,MAAM+K,YAA4B,OAAO,QAC1D4H,EAAuC,cAA3BzQ,KAAKlC,MAAM+K,YAA4B,OAAO,QACxDc,EAAmC,cAA1B3J,KAAKlC,MAAM+K,YAA2B,mBAAmB,oBACxE,OACY,yBAAKvK,UAAaqL,GACd,yBAAMrL,UAAY,mFACdL,MAAS,CACGmI,MAAQA,EACRqK,OAASA,EACToJ,gBAAiB,QACjB3H,gBAAgB,OAAD,OAAUhN,eAAyBlF,KAAKlC,MAAMgI,KAAKI,MAAnD,OAG3B,wBAAK5H,UAAY,sDAChB0B,KAAKlC,MAAMgI,KAAK4I,a,GAjBfzO,IAAMC,WAyB1B6Z,G,iLAKE,IAAMpQ,EAAmC,cAA1B3J,KAAKlC,MAAM+K,YAA2B,SAAS,qBAC9D,OACI,yBAAKvK,UAAS,UAAQqL,IAClB,yBAAKrL,UAAY,oBACb,uBACAL,MAAS,CAAC4B,MAAM,QACRmG,QAAQ,MACRyK,OAAO,SAEVzQ,KAAKlC,MAAMgI,KAAK2J,cAGrB,yBAAKnR,UAAU,UAAUC,QAAWyB,KAAKlC,MAAMkc,YAA/C,a,GAjBgB/Z,IAAMC,WAwH3B+Z,G,YAzFX,WAAYnc,GAAO,IAAD,8BACd,4CAAMA,KACDR,MAAQ,CACTuL,YAAc,GACdqR,WAAa,EAAC,GAAM,GAAM,GAAM,GAAM,GAAM,IAGhD,EAAKpR,kBAAoB,EAAKA,kBAAkBjG,KAAvB,gBACzB,EAAKyT,YAAc,EAAKA,YAAYzT,KAAjB,gBACnB,EAAKmX,WAAa,EAAKA,WAAWnX,KAAhB,gBAClB,EAAKsX,iBAAmB,EAAKA,iBAAiBtX,KAAtB,gBAVV,E,0EAed7C,KAAKiC,SAAS,CAACiY,WAAW,EAAC,GAAM,GAAM,GAAM,GAAM,GAAM,O,kCAGjD1V,GAER,IADA,IAAI4V,EAAW,GACNvY,EAAI,EAAIA,EAAG7B,KAAKlC,MAAMuc,QAAQtY,OAASF,IAE5CuY,EAASpZ,KAAKa,IAAM2C,GAExBxE,KAAKiC,SAAS,CAACiY,WAAWE,M,0CAItB/Q,OAAOC,YAAcD,OAAOE,YAC5BvJ,KAAKiC,SAAS,CAAC4G,YAAY,cAG1B7I,KAAKiC,SAAS,CAAC4G,YAAY,e,uCAInBlH,GAEb,OAA0C,IAAtCA,EAAM2Y,WAAU,SAACC,GAAD,OAAa,IAANA,MAMpB5Y,EAAM2Y,WAAU,SAACC,GAAD,OAAa,IAANA,O,2CAI9Bva,KAAK8I,sB,0CAILO,OAAOK,iBAAiB,SAAS1J,KAAK8I,qB,+BAOrC,IAAD,OAEJ,OACI,kBAAC,IAAM9K,SAAP,KACI,yBAAKwG,GAAK,UAAUlG,UAAY,gCAC5B,wBAAIA,WAA4D,IAA/C0B,KAAKma,iBAAiBna,KAAK1C,MAAM4c,YAAqB,sBAAsB,UAA7F,WACA,yBAAK5b,UAAY,uCACoC,IAAhD0B,KAAKma,iBAAiBna,KAAK1C,MAAM4c,YAAqB,KAAM,kBAAC,GAAD,CAAaF,WAAcha,KAAKga,WAAYnR,YAAe7I,KAAK1C,MAAMuL,YAAa/C,KAAM9F,KAAKlC,MAAMuc,QAAQra,KAAKma,iBAAiBna,KAAK1C,MAAM4c,gBACzJ,IAAhDla,KAAKma,iBAAiBna,KAAK1C,MAAM4c,YAAqB,KACvD,kBAAC,GAAD,CAAuBF,WAAcha,KAAKga,WAAYnR,YAAe7I,KAAK1C,MAAMuL,YAAa/C,KAAM9F,KAAKlC,MAAMuc,QAAQra,KAAKma,iBAAiBna,KAAK1C,MAAM4c,eAGtJla,KAAKlC,MAAMuc,QAAQhZ,KAAI,SAACyE,EAAKvE,GAC1B,OACA,kBAAC,GAAD,CAAQwE,IAAMxE,EAAOuE,KAAQA,EAAM+C,YAAe,EAAKvL,MAAMuL,YAAayN,YAAe,EAAKA,YAAaqD,mBAAmE,IAA/C,EAAKQ,iBAAiB,EAAK7c,MAAM4c,YAAgCM,SAAU,EAAKld,MAAM4c,WAAW3Y,e,GA5EpOtB,IAAMC,WC7FpBua,GAAQ,CACZ,CACExU,IAAK,2pBACLyU,QAAS,UACTC,QAAS,WAEX,CACE1U,IAAK,6pBACLyU,QAAS,UACTC,QAAS,WAEX,CACE1U,IAAK,opBACLyU,QAAS,UACTC,QAAS,YAIPC,G,YACJ,WAAY9c,GAAQ,IAAD,8BACjB,4CAAMA,KACDR,MAAQ,CACR+c,QAAUjB,IAHE,E,sEASjB,OACE,yBAAK5U,GAAK,WACR,kBAAC,KAAD,CAAgBqW,UAAWC,MAC3B,6BACA,kBAAC,GAAD,CAAOT,QAAWra,KAAK1C,MAAM+c,WAE7B,6BACA,kBAAC,GAAD,CAAOA,QAAWra,KAAK1C,MAAM+c,WAE7B,6BACA,kBAAC,GAAD,CAAOA,QAAWra,KAAK1C,MAAM+c,iB,GApBhBpa,IAAMC,WAiFZ6a,G,YAjDb,WAAYjd,GAAQ,IAAD,8BACjB,4CAAMA,KACDR,MAAQ,CACR+c,QAAUjB,IAHE,E,yEAUjBpZ,KAAKgb,WAAY,I,iCAIjBhb,KAAKgb,WAAY,I,+BAIT,IAAD,OAaP,OAXCP,GAAMpZ,KAAI,SAACyE,EAAKvE,GACf,OACE,kBAAC0Z,GAAA,EAAD,CACEC,UAAW,EAAKA,UAChBC,SAAU,EAAKA,SACfpV,IAAKD,EAAKG,KACR,kBAAC,GAAD,CAASoU,QAAW,EAAK/c,MAAM+c,QAAStU,IAAOxE,QAOrDvB,KAAKlC,MAAMgP,0BAEX,KAEE,kBAAC,IAAM9O,SAAP,KACE,kBAAC,GAAD,MACA,yBAAKM,UAAY,qCACb,yBAAKA,UAAY,eAAeC,QAAU,SAAC6B,GAAD,OAAM,EAAKtC,MAAM8O,cAAcxM,EAAE,kB,GAzCnEF,a,qfCxDtB,IAAMwN,GAAgBC,IAAF,MAmCDyN,GATL,uCAAG,8BAAAvT,EAAA,sEACsB0F,EAAOM,MAAM,CAACA,MAAMH,KAD1C,yBACNI,QADM,EACEnD,MAAML,EADR,EACQA,KADR,kBAKLA,EAAK+Q,MAAMtN,OALN,2CAAH,qDCrBRuN,I,OAAkB,SAACxd,GACrB,OAEI,yBAAM0G,GAAK,OAAOlG,UAAY,0BAC1B,wBAAIA,UAAW,cAAf,QAIA,yBAAKA,UAAW,YAAYC,QAAWT,EAAMyd,YAErC,yBAAKjd,UAAW,OAChB,yBAAKA,UAAY,UACjB,oGAC0E,+BAI1E,yBAAKA,UAAY,qCAEjB,8CAFA,KAEwB,yBAAKA,UAAY,mBAOjD,yBAAKA,UAAW,qCAChB,yBAAKA,UAAY,YAAYC,QAAW,SAAA6B,GAAC,OAAItC,EAAM8O,cAAcxM,EAAE,gBAQzEob,GAAa,SAAC1d,GAChB,OACI,kBAAC,IAAME,SAAP,KACQ,yBAAKM,UAAY,eACjB,yBAAKA,UAAY,mBACb,yBAAKA,UAAY,WACjB,yBAAMA,UAAY,kBAAkB2H,IAAOyG,IAAMtG,MAAQ,SACzD,wBAAI9H,UAAY,SAAhB,sBAIR,yBAAKA,UAAY,0DACT,yBAAKA,UAAY,iBAAjB,eAGA,yBAAKA,UAAY,iBAAjB,mBAGA,yBAAKA,UAAY,iBAAjB,UAGA,yBAAKA,UAAY,iBAAjB,WAyBdmd,GAAY,SAAC3d,GAEf,IAAMud,EAAQvd,EAAMud,MACd1R,EAA6B,aAAtB7L,EAAM+K,YAA6B,QAAW,QAGvD,OACI,kBAAC,IAAM7K,SAAP,KAGI,yBAAKM,UAAY,aACb,yBAAKA,UAAW,OAER+c,EAAMha,KAAK,SAACqa,EAAKna,GAEb,OAEI,yBAAKjD,UAAS,UAAMqL,EAAN,6CAAuD5D,IAAOxE,GAE1E,yBAAKjD,UAAY,iBAChBiD,EAAQ,IAAM,EAAG,gCAAMma,EAAKhN,MAAX,KAAyB,KACxCnN,EAAQ,IAAK,EAAG,oCAAa,IAAIoa,KAAKD,EAAKE,MAAMC,sBAAoC,KACtF,yBAAKvd,UAAY,0BACb,yBAAK8H,MAAQ,OAAOH,IAAOyV,EAAKI,cAActF,aAC9CjY,QAAW,SAAA6B,GAAC,OAAItC,EAAMie,WAAW3b,EAAEmB,OAGtCA,EAAQ,IAAM,EAAG,gCAAMma,EAAKhN,MAAX,KAAyB,KAC1CnN,EAAQ,IAAK,EAAG,oCAAa,IAAIoa,KAAKD,EAAKE,MAAMC,sBAAoC,YAY9G,yBAAKtd,QAAWT,EAAMyd,WAAYjd,UAAU,WAA5C,UAUV0d,GAAW,SAACle,GACdoD,QAAQC,IAAIrD,EAAM4d,MAClB,IAAMO,EAAWne,EAAM4d,KAAKO,SAASlO,MACrC,OACI,kBAAC,IAAM/P,SAAP,KAEI,yBAAKM,UAAY,0BACb,gCAAMR,EAAM4d,KAAKhN,MAAjB,KACCc,KAAW1R,EAAM4d,KAAKrB,SAGvB4B,EAASla,OAAS,GAA0B,OAArBka,EAAS5B,QAEhC,kBAAC,IAAMrc,SAAP,KACI,yBAAKM,UAAY,IAAI,IAAIqd,KAAKM,EAAS,GAAGL,MAAMC,sBAChD,yBAAKvd,UAAY,gBAAjB,IAAmCkR,KAAWyM,EAAS,GAAG5B,SAA1D,MAKJ,MAKJ,yBAAK9b,QAAWT,EAAMie,WAAYzd,UAAU,WAA5C,UASN4d,G,YACF,WAAYpe,GAAO,IAAD,8BACd,4CAAMA,KACDR,MAAQ,CACT6e,UAAS,EACTC,WAAW,IAGf,EAAKL,WAAa,EAAKA,WAAWlZ,KAAhB,gBAPJ,E,wEAWPzC,EAAE2F,GACL/F,KAAK1C,MAAM6e,UACXnc,KAAKiC,SAAS,CAACka,UAAS,IACxBnc,KAAKiC,SAAS,CAACma,WAAY,OAE/Bpc,KAAKiC,SAAS,CAACka,UAAS,IACxBnc,KAAKiC,SAAS,CAACma,WAAapc,KAAKlC,MAAMud,MAAMtV,Q,+BAU7C,OACI,yBAAKzH,UAAY,iBACbL,MAAS+B,KAAKlC,MAAMue,SAAU,CAACC,UAAW,OAAS,CAACA,UAAW,SAE3D,kBAAC,GAAD,MAIAtc,KAAK1C,MAAM6e,SAEX,kBAAC,GAAD,CACAT,KAAQ1b,KAAK1C,MAAM8e,WACnBL,WAAc/b,KAAK+b,aAGnB,kBAAC,GAAD,CACAlT,YAAe7I,KAAKlC,MAAM+K,YAC1BwS,MAASrb,KAAKlC,MAAMud,MACpBU,WAAc/b,KAAK+b,WACnBR,WAAcvb,KAAKlC,MAAMyd,kB,GA/CnBtb,IAAMC,WCiCjBqc,ID8BItc,IAAMC,U,iCC3NrB,WAAYpC,GAAO,IAAD,8BACd,4CAAMA,KACDR,MAAQ,CACTkf,6BAA6B,EAC7BvP,4BAA6B,EAC7BH,2BAA4B,EAC5BwK,YAAY,EACZuB,aAAY,EACZ4D,SAAW7b,OACX8b,aAAerT,OAAOE,YACtB8Q,QAAUjB,GACVuD,aAAc,EACdlF,UAAY,GACZmF,eAAiB,GACjB/T,YAAe,WACfgU,MAAK,GAET,EAAK7P,SAAS/M,IAAMqM,UAAU,EAAKU,UACnC,EAAK8P,UAAY7c,IAAMqM,UAAU,EAAKwQ,WACtC,EAAKhU,kBAAoB,EAAKA,kBAAkBjG,KAAvB,gBACzB,EAAKsK,WAAa,EAAKA,WAAWtK,KAAhB,gBAClB,EAAK4V,WAAa,EAAKA,WAAW5V,KAAhB,gBAClB,EAAKoV,sBAAwB,EAAKA,sBAAsBpV,KAA3B,gBAC7B,EAAK0Y,WAAa,EAAKA,WAAW1Y,KAAhB,gBAClB,EAAK+J,cAAgB,EAAKA,cAAc/J,KAAnB,gBAxBP,E,iFA8BV7C,KAAKiC,SAAS,CAACya,aAAarT,OAAOE,cAE/BF,OAAOC,YAAcD,OAAOE,YAC5BvJ,KAAKiC,SAAS,CAAC4G,YAAY,cAI1B7I,KAAKiC,SAAS,CAAC4G,YAAY,e,oCAItBzI,EAAE8D,GAIZ,OAFA9D,EAAE2C,iBAEKmB,GACP,IAAK,OACe+Q,SAAS8H,eAAe,QAC/BC,eAAe,CAACC,SAAS,WAEtC,MACA,IAAK,QACgBhI,SAAS8H,eAAe,SAC/BC,eAAe,CAACC,SAAS,WACvC,MACA,IAAK,QACiBhI,SAAS8H,eAAe,SAChCC,eAAe,CAACC,SAAS,WACvC,MACA,IAAK,OACgBhI,SAAS8H,eAAe,aAChCC,eAAe,CAACC,SAAS,WACtC,MACA,IAAK,WACoBhI,SAAS8H,eAAe,YAChCC,eAAe,CAACC,SAAS,WAC1C,MACA,IAAK,UACmBhI,SAAS8H,eAAe,WAChCC,eAAe,CAACC,SAAS,WACzC,MACA,IAAK,UACmBhI,SAAS8H,eAAe,WAChCC,eAAe,CAACC,SAAS,c,8CAWzBhI,SAAS8H,eAAe,SAG9BC,eAAe,CAACC,SAAS,a,iCAI5B7c,EAAE8D,GAETlE,KAAKiY,wBAEK,WAAV/T,EAEAlE,KAAKiC,SAAS,CAACqV,YAAW,EAAOuB,aAAY,EAAQ5L,4BAA4B,IAEjFjN,KAAKiC,SAAS,CAAC4W,aAAY,EAAOvB,YAAW,EAAQrK,4BAA4B,M,mCAMjFjN,KAAKiC,SAAS,CAAC4W,aAAY,IAC3B7Y,KAAKiC,SAAS,CAACqV,YAAW,IAC1BtX,KAAKiC,SAAS,CAACgL,4BAA2B,M,mCAK1CjN,KAAKiC,SAAS,CAAC6K,2BAA4B9M,KAAK1C,MAAMwP,8B,0CAMtDzD,OAAOK,iBAAiB,SAAS1J,KAAK8I,qB,+BAS9C,OACI,kBAAC,IAAM9K,SAAP,KAEA,kBAAC,EAAD,CACA0e,aAAgB1c,KAAK1C,MAAMof,aAC3BvP,WAAcnN,KAAKmN,WACnBF,2BAA8BjN,KAAK1C,MAAM2P,2BACzCH,0BAA6B9M,KAAK1C,MAAMwP,0BACxCF,cAAiB5M,KAAK4M,gBAGtB,kBAAC,EAAD,CACAK,2BAA8BjN,KAAK1C,MAAM2P,2BACzCH,0BAA6B9M,KAAK1C,MAAMwP,0BACxCF,cAAiB5M,KAAK4M,gBAGtB,kBAAC,GAAD,CACAtO,UAAY,eACZ2O,2BAA8BjN,KAAK1C,MAAM2P,2BACzCuP,4BAA+Bxc,KAAK1C,MAAMkf,4BAC1C1P,0BAA6B9M,KAAK1C,MAAMwP,0BACxCF,cAAiB5M,KAAK4M,gBAWvB,kBAAC,GAAD,CACCG,IAAO/M,KAAK8c,UACZ7P,2BAA8BjN,KAAK1C,MAAM2P,2BAEzCgL,sBAAyBjY,KAAKiY,sBAE9BY,YAAe7Y,KAAK1C,MAAMub,YAC1BvB,WAActX,KAAK1C,MAAMga,WAEzBnK,WAAcnN,KAAKmN,WACnBsL,WAAczY,KAAKyY,WAEnB3L,0BAA6B9M,KAAK1C,MAAMwP,0BACxCF,cAAiB5M,KAAK4M,gBAGtB,kBAAC,GAAD,CACAK,2BAA8BjN,KAAK1C,MAAM2P,2BACzCH,0BAA6B9M,KAAK1C,MAAMwP,0BACxCF,cAAiB5M,KAAK4M,gBAGtB,kBAAC,GAAD,CACAE,0BAA6B9M,KAAK1C,MAAMwP,iC,GAzL7B7M,IAAMC,YCDRgd,GATc,WAAO,IAAD,EAEV1Z,qBAAWC,KAFD,6BAIjC,OACE,kBAAC,GAAD,OCcS0Z,OAdf,WAEE,OACE,yBAAK7e,UAAU,OACb,kBAAC,kBAAD,CAAgB8e,OAAO,8CACrB,kBAAC,IAAD,KACI,kBAAC,GAAD,UCJQC,QACW,cAA7BhU,OAAOiU,SAASC,UAEe,UAA7BlU,OAAOiU,SAASC,UAEhBlU,OAAOiU,SAASC,SAASC,MACvB,2D,OCXNC,IAASC,OAAO,kBAAC,GAAD,MAASzI,SAAS8H,eAAe,SD0H3C,kBAAmBY,WACrBA,UAAUC,cAAcC,MAAMpV,MAAK,SAAAqV,GACjCA,EAAaC,iB,gCEnInB,sGAMO,IAAMC,EAAc,SAAEC,GAG5B,IAAIC,EAAaD,EAAOT,MAAO,qBAAsBlN,KAAK,IAE1D,OAAS,OAAS4N,EAAeC,WAAYA,WAAYD,GAAaE,QAAS,IAAQ,IAU3EnX,EAAkB,SAAEhC,GAEhC,IAAIoZ,EAAeL,EAAa/Y,EAAQoC,OAEpCZ,EAAgBxB,EAAQwB,cAExBO,EAAU,CACbxB,SAAU,GACVT,mBAAoB,EACpBlB,mBAAoBwa,GAMfC,EAAaC,EAAkBtZ,EAASoZ,EAAc,EAAI5X,GAKhE,OAJAO,EAAQxB,SAASxE,KAAMsd,GAEvB3X,aAAa6X,QAAS,0BAA2B3X,KAAK4X,UAAWzX,IAE1DA,GAYKuX,EAAmB,SAAEtZ,EAASoZ,EAAc3Y,EAAKe,GAE7D,MAAQ,CACPhB,UAAWR,EAAQQ,UACnBS,MAAOjB,EAAQiB,MACf3F,KAAM0E,EAAQ1E,KACd8G,MAAOgX,EACP3Y,MACA/B,WAAYwa,YAAcE,EAAe3Y,GAAM0Y,QAAS,IACxD3X,cAAeA,IAcJM,EAAa,SAAEL,EAAczB,EAASyZ,GAAoC,IAAtBC,EAAqB,wDAEjFC,EAAkBC,EAAoBnY,EAAalB,SAAWP,EAASyZ,EAAcC,GAEnFG,EAAW,SAACC,EAAOjZ,GAIxB,OAHAiZ,EAAMpb,YAAcmC,EAAKnC,WACzBob,EAAMrZ,KAAOI,EAAKJ,IAEXqZ,GAIFA,EAAQH,EAAgBI,OAAQF,EAAU,CAAEnb,WAAY,EAAG+B,IAAK,IAEhEN,EAAc,CACnBI,SAAUoZ,EACV7Z,mBAAoB6L,SAAUmO,EAAMrZ,KACpC7B,mBAAoBsa,WAAYY,EAAMpb,aAKvC,OAFAgD,aAAa6X,QAAS,0BAA2B3X,KAAK4X,UAAWrZ,IAE1DA,GAkBKyZ,EAAqB,SAAEI,EAAwBha,EAASyZ,GAAmC,IAArBC,EAAoB,wDAGhGO,EAAoBC,EAAiBF,EAAwBha,EAAQQ,WAG3E,IAAM,EAAIyZ,EAAoB,CAC7B,IAAIN,EAAkBK,EAClBG,EAAiBR,EAAiBM,GAMtC,OAHAE,EAAe1Z,IAAQiZ,EAAW/N,SAAU+N,GAAW/N,SAAUwO,EAAe1Z,IAAMgZ,GACtFU,EAAezb,WAAawa,YAAciB,EAAe/X,MAAQ+X,EAAe1Z,KAAM0Y,QAAS,IAEvFQ,EAIR,IAAInY,EAAgBxB,EAAQwB,cACxB4X,EAAeL,EAAa/Y,EAAQoC,OAClCiX,EAAaC,EAAkBtZ,EAASoZ,EAAcK,EAAejY,GAG3E,OAFAwY,EAAuBje,KAAMsd,GAEtBW,GAWHE,EAAkB,SAAEF,EAAwBxZ,GAEjD,IAOM2U,EAAW6E,EAAuBI,QAPZ,SAAEvZ,EAAMvE,GACnC,GAAKkE,IAAcK,EAAKL,UACvB,OAAOK,KAOT,OAAOmZ,EAAuBK,QAASlF,EAAS,KASpC/U,EAAqB,SAACjF,EAAEqF,GACnCrF,EAAE2C,iBAEH,IAAI2D,EAAeC,aAAaC,QAAS,2BAMzC,GAAK,KALLF,EAAeG,KAAKC,MAAOJ,IAKH3B,mBAGvB,OADA4B,aAAa4Y,WAAY,2BAClB,KAKR,IAAML,EAAoBC,EAAiBzY,EAAalB,SAAUC,GAIlE,IAAM,EAAIyZ,EAAoB,CAE7B,IAIMM,EAJqB9Y,EAAalB,SAAU0Z,GAII7X,MAGlDjC,EAAcsB,EAiBlB,OAVqD,IAAjDA,EAAalB,SAAS0Z,GAAmBxZ,IAE3CN,EAAYI,SAASzE,OAAQme,EAAmB,GAGjD9Z,EAAYI,SAAS0Z,GAAmBxZ,IAAMgB,EAAalB,SAAS0Z,GAAmBxZ,IAAO,EAE/FN,EAAYL,mBAAqBK,EAAYL,mBAnBZ,EAoBjCK,EAAYvB,mBAAqBuB,EAAYvB,mBAAqB2b,EAClE7Y,aAAa6X,QAAS,0BAA2B3X,KAAK4X,UAAWrZ,IAC1DA,EAGP,OAAOsB,I,6HCrNH+Y,EAAc,SAAC3hB,GAIjB,IAAM4hB,EAAoB5hB,EAAM4F,KAAO5F,EAAM4F,KAAKqB,mBAAqB,EAIjE4a,EAAO7hB,EAAM8hB,QAAS,eAAiB,IAEvCC,EAAQ/hB,EAAM8hB,QAAU,mBAAqB,IAEnD,OACI,yBAAKthB,UAAY,qCACb,yBAAKA,UAAS,UAAOqhB,EAAP,iBACV,yBAAKrhB,UAAY,mBACjB,0BAAMA,UAAS,UAAOuhB,EAAP,gBAA6BH,GACxC,yBAAKzZ,IAAOsB,IAAUnB,MAAQ,aAS5C0Z,EAAiB,WAEnB,IAAIC,EAAe9K,SAAS8H,eAAe,YAK3C,OAAI7X,EAAQC,SACWwB,aAAaC,QAAQ,2BAIhC,yBAAKtI,UAAY,4CAA4CC,QARpD,kBAAKwhB,EAAa/C,eAAe,CAACC,SAAU,aAQrD,YAUL,MAmTI+C,IA5SS,SAACliB,GAAW,IAExBmH,EAAYnH,EAAZmH,QAFuB,EAGRzB,qBAAWC,KAHH,mBAGxBC,EAHwB,KAGnBmB,EAHmB,OAKFf,mBAAS,6EALP,mBAKxBlE,EALwB,KAKhBqgB,EALgB,OAMVnc,oBAAS,GANC,mBAMxBwC,EANwB,KAMpBC,EANoB,KASzB5G,EAAS,SAACS,EAAE+C,GAGd/C,EAAE2C,iBAGEwD,GADApD,IAIImD,GAIiC,iBAAjC4Z,EAAiBjb,GAAS,GAE1Bgb,EAAW,6BAGfA,EAAW,eAAD,OAA0C,OAA1Bhb,EAAQwB,cAAyB,EAAGxB,EAAQwB,cAA5D,gBA3Ba,EAgCD3C,oBAAS,GAhCR,mBAgCxB8b,EAhCwB,KAgCfO,EAhCe,KAkCzBC,EAAgB,WAElBD,GAAW,IAKTE,EAAuB,SAACpb,GAIzB,OAAIvB,EACaA,EAAK8B,SAASnE,KAAI,SAAA4D,GAAO,OAAIA,EAAQQ,aAAW6Z,QAAQra,EAAQQ,YAMpE,GAIZya,EAAmB,SAACjb,GAMtB,GAA2B,aAAxBA,EAAQsR,YAA2B,CAElC,IAAI7P,EAAeC,aAAaC,QAAQ,2BAKxC,OAJAF,EAAeG,KAAKC,MAAMJ,GAC1BxF,QAAQC,IAAI,gBAAgBuF,GAGxBA,GAGK2Z,EAAqBpb,IAAY,IAI9ByB,EAAalB,SAAS6a,EAAqBpb,IAAUS,MAAQT,EAAQwB,eAA2C,OAA1BxB,EAAQwB,eAOtF,EAAC,EAAM,OAiBf,EAAC,EAAK,SAOlB,MAAO,EAAC,EAAM,iBA0KtB,OACI,kBAAC,IAAMzI,SAAP,KAEK,yBAAKM,UAAY,qCACjB,yBAAK+H,KAAO,SAAS7B,GAAK,cAAclG,UAAY,8CAA8CC,QAAU2hB,EAAiBjb,GAAS,GAjIlH,WAKzB,GAAIC,EAAQC,QAAS,CAGjB,GAA2B,aAAxBF,EAAQsR,YAyGP,OAAO,KAtGP,IAAI7P,EAAeC,aAAaC,QAAQ,2BACxC,GAAIF,EAkBA,GAhBAA,EAAeG,KAAKC,MAAMJ,GAE1BxF,QAAQC,IAAIuF,GAcP2Z,EAAqBpb,IAAY,EAAG,CAKrC,GAAIyB,EAAalB,SAAS6a,EAAqBpb,IAAUS,MAAQT,EAAQwB,eAA2C,OAA1BxB,EAAQwB,cAO9F,OAAO,KASP,IAEMrB,EAAc2B,YAAWL,EAAazB,EAFvB,GAIrBob,EAAqBpb,GAGrBkb,GAAW,GACXG,WAAWF,EAAc,MAEzBvb,EAASO,OAKb,CAKA,IAEMA,EAAc2B,YAAWL,EAAazB,EAFvB,GAGrB/D,QAAQC,IAAI,yBAAyB8D,GAErCkb,GAAW,GACXG,WAAWF,EAAc,MAEzBvb,EAASO,OAab,CAIA,IAAM4B,EAAUC,YAAgBhC,GAEhCkb,GAAW,GACXG,WAAWF,EAAc,MACzBvb,EAASmC,MA6BmJ,SAAA5G,GAAC,OAAET,EAAOS,KAA7K,iBAEA,yBAAK9B,UAAY,qCAClB,kBAACwhB,EAAD,OAGC,kBAAC,IAAD,CAAS3Y,UAAY,SAAS1H,OAAU6G,EAAKc,QAAU,eAAe9G,OAAS,cAAcX,OAAU,SAAAS,GAAC,OAAET,EAAOS,EAAE,WAC/G,kBAAC,IAAD,KACA,+BAAKR,EAAL,OAIJ,kBAAC6f,EAAD,CAAcG,QAAWA,EAASlc,KAAQA,Q","file":"static/js/main.751bd7bb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tree.e15c5526.png\";","module.exports = __webpack_public_path__ + \"static/media/cart.46ea0b0a.png\";","const wooConfig = {\r\n    siteUrl: 'https://4michael1angelo5.wpcomstaging.com/',\r\n    consumerKey: 'ck_bea7891cbdf78968209bfd1a1d71a81b8dbcfe9d',\r\n    consumerSecret: 'cs_7da2b616178b684a8181c77abd11750d0c45b453'\r\n     \r\n\r\n};\r\n\r\nmodule.exports = wooConfig;","module.exports = __webpack_public_path__ + \"static/media/deal.ace149c1.png\";","module.exports = __webpack_public_path__ + \"static/media/conversation.20555920.png\";","module.exports = __webpack_public_path__ + \"static/media/chair.4d82827b.png\";","module.exports = __webpack_public_path__ + \"static/media/compass.31a1c94a.png\";","module.exports = __webpack_public_path__ + \"static/media/shopping-cart.e9656904.png\";","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { useContext } from 'react';\r\nimport { AppContext } from \"../context/AppContext\";\r\nimport {injectStripe, CardNumberElement, CardExpiryElement, CardCvcElement} from 'react-stripe-elements';\r\nimport {Form, FormGroup, Input, Modal , ModalBody , ModalHeader ,\r\n        ModalFooter , Button ,Label, CustomInput, Collapse , Table, Popover, PopoverBody,\r\n        FormFeedback} from 'reactstrap';\r\nimport postOrder from '../../courier/postOrders' ; \r\nimport {getToken_srcId,processOrder} from './processPayment'\r\nimport { processPaymentTest } from './processPaymentTest';\r\nimport {addFirstProduct, updateCart , removeItemFromCart } from './functions'\r\nimport cartIcon from '../../shared/icons/cart.png'\r\nimport '../../step_progress_theme.css';\r\nimport  '../../styles/paymentMethodSelection.scss'\r\nimport '../../buttons.scss'\r\n\r\n\r\n\r\nconst orderData = {\r\n  payment_method: \"stripe\",\r\n  payment_method_title: \"Direct Bank Transfer\",\r\n  set_paid: false,\r\n  billing: {\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    address_1: \"\",\r\n    address_2: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    postcode: \"\",\r\n    country: \"US\",\r\n    email: \"\",\r\n    phone: \"\"\r\n  },\r\n  shipping: {\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    address_1: \"\",\r\n    address_2: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    postcode: \"\",\r\n    country: \"US\"\r\n  },\r\n  line_items: [\r\n    // {\r\n    //   // product_id: 175,\r\n    //   // quantity: 1\r\n    // }\r\n  ]\r\n};\r\n\r\nconst ConfirmOrder = (props) =>{\r\n\r\nlet billing = props.billing ;\r\n\r\n  // console.log(props)\r\n\r\n  if (props.step2 ){\r\n\r\n  return (\r\n    <React.Fragment>\r\n   \r\n        <h3 style ={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\"\r\n        }}>\r\n          Review Order\r\n        </h3>\r\n\r\n      \r\n    <Table striped>\r\n      <tbody>\r\n        <tr>\r\n          <th scope=\"row\">Recipient</th>\r\n          <td>{`${billing.first_name}  `  }</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Adress</th>\r\n          <td>{`${billing.address_1}  `  }</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">City</th>\r\n          <td>{`${billing.city}  `  }</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">State</th>\r\n          <td>{`${billing.state}  `  }</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Zip</th>\r\n          <td>{`${billing.postcode}  `  }</td>\r\n        </tr>\r\n      </tbody>\r\n    </Table>\r\n\r\n      <div className = \"row \">\r\n        <div className = \"col d-flex justify-content-start\">\r\n          <div className = 'brk-btn store-back-btn' onClick = {props.backStep}>\r\n            BACK\r\n          </div> \r\n        </div>\r\n      </div>  \r\n    </React.Fragment>\r\n  );}\r\n  else  return null\r\n}\r\n\r\nconst PaymentFormHeader = (props) => {\r\n   \r\n  var stepTitleDisplay = props.step2 ? 'none' : ' flex'\r\n  var choice_lineDisplay = props.step2 ? 'd-none' : '' ; \r\n  var paymentMethodDisplay  =  props.step2 ? 'd-none' : ' container payment_method_selection_container'\r\n  return(\r\n\r\n <React.Fragment>\r\n      <h3 \r\n    style = {{\r\n      display: stepTitleDisplay ,\r\n      justifyContent:\"center\"\r\n      }}>\r\n        Payment\r\n  </h3>\r\n  <div className = {paymentMethodDisplay}>\r\n    <div className = \"row d-flex justify-content-between\">\r\n      <label className = 'col-6 text-center payment_method_choice' onClick={props.toggleChoice}>Credit Card</label>\r\n      <label className = \"col-6 text-center payment_method_choice\" onClick={props.toggleChoice}>PayPal</label>\r\n    </div>\r\n\r\n  </div>\r\n  <div className = {` container ${ choice_lineDisplay}`}>\r\n    <div className = 'row'>\r\n      <div className = {`choice_line ${props.paymentMethod } `} />\r\n    </div>\r\n  </div>\r\n </React.Fragment>\r\n    \r\n  )\r\n}\r\n\r\n\r\nconst FirstStepOrSecondStep = (props) =>{\r\n\r\n \r\n  // var stepTitleDisplay = props.step2 ? 'none' : ' flex'\r\n  // var choice_lineDisplay = props.step2 ? 'd-none' : '' ; \r\n  // var paymentMethodDisplay  =  props.step2 ? 'd-none' : ' container payment_method_selection_container'\r\n  \r\n  if (false === props.step1){ \r\n    return( \r\n      <React.Fragment>\r\n        <ShippingForm\r\n          shipping = {props.shipping}\r\n          billing= {props.billing}\r\n          updateShippingAddress = {props.updateShippingAddress}\r\n          updateBillingAdress= {props.updateBillingAdress} \r\n          nextStep = {props.nextStep}/>\r\n      </React.Fragment> \r\n    );\r\n  }\r\n  else\r\n    return(\r\n      <React.Fragment>\r\n\r\n        <PaymentFormHeader\r\n        step2 = {props.step2}\r\n        paymentMethod = {props.paymentMethod }\r\n        toggleChoice = {props.toggleChoice}\r\n        />\r\n        {props.paymentMethod === 'isCard'?\r\n           <PaymentForm \r\n           shipping = {props.shipping}\r\n           billing = {props.billing}\r\n           updateBillingAdress = {props.updateBillingAdress}\r\n           step2 = {props.step2}\r\n           getNameOnCard = {props.getNameOnCard }\r\n           backStep = {props.backStep}\r\n           nextStep = {props.nextStep}\r\n           setBillingAdressToShippingAddress = {props.setBillingAdressToShippingAddress}\r\n           />\r\n           :\r\n           <div>\r\n             PayPal Coming Soon!\r\n           </div>\r\n        }\r\n     \r\n        \r\n      </React.Fragment> \r\n  );\r\n}\r\n\r\nconst ConfirmOrderModal = (props) =>{\r\n\r\n  return (\r\n    <div>\r\n      <Modal isOpen={props.modal} toggle={props.toggle} >\r\n        <ModalHeader toggle={props.toggle}>Confirm Order</ModalHeader>\r\n        <ModalBody>\r\n          {props.message}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n        <Button color=\"secondary\" onClick={props.toggle}>{' '} Ok {' '}</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass StepProgress extends React.Component{\r\nconstructor(props){\r\n  super(props);\r\n  this.state ={ \r\n    step1:false,\r\n    step2:false,\r\n    step3:false\r\n    }\r\n  }\r\n  render(){\r\n    return (\r\n      <ul className=\"steps mt-2\">\r\n        <li className= {`step step--active ${this.props.step1?\"step--complete\":\"step--incomplete \"}`}>\r\n          <span className=\"step__icon\"> 1 </span>\r\n          {/* <span class=\"step__label\">Step 1</span> */}\r\n        </li>\r\n        <li className= {`step ${this.props.step2?  \" step--complete \":\" step--incomplete \" }`\r\n                      + `${this.props.step1? \"step--active\" : ''}` }>\r\n          <span className=\"step__icon\">2</span>\r\n          {/* <span className=\"step__label\">Step 2</span> */}\r\n        </li>\r\n        <li className= {`step  ${this.props.step3?\" step--complete \":\" step--incomplete \"}`\r\n                    + `${this.props.step2? \" step--active \" : ''}` }>\r\n          <span className=\"step__icon\">3</span>\r\n          {/* <span className=\"step__label\">Step 3</span> */}\r\n        </li>\r\n      </ul>\r\n\r\n    );\r\n  }  \r\n}\r\n\r\nclass ShippingForm extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      emailState : '',\r\n      phoneState : '',\r\n      postcodeState: '',\r\n      adress1State : '',\r\n      cityState : '',\r\n      stateState: '',\r\n      first_nameState: '',\r\n      last_nameState: '',\r\n      formIsValid : false\r\n    }\r\n    \r\n    this.validate = this.validate.bind(this);  \r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n      \r\n    handleInputChange = (e,form) => {\r\n      \r\n      const { name, value } = e.target;\r\n        \r\n         \r\n      if (form === 'shipping'){\r\n\r\n        this.props.updateShippingAddress( name , value)\r\n\r\n      }\r\n      else this.props.updateBillingAdress( name, value )\r\n\r\n    }\r\n\r\n    // validate input fields onBlur\r\n\r\n    validate(e,input) {\r\n\r\n      e.preventDefault()\r\n\r\n      if (input === 'email'){\r\n\r\n        const emailRex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n   \r\n        if (emailRex.test(e.target.value)) {\r\n          this.setState( { emailState : 'has-success'} )\r\n        } \r\n        else {\r\n        this.setState( { emailState : 'has-danger'} )\r\n        }\r\n      }\r\n      else if (input === 'phone'){\r\n\r\n        const phoneRex = /^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4})$/ ; \r\n        \r\n        if (phoneRex.test(e.target.value)){\r\n          this.setState({phoneState : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({phoneState:'has-danger'})\r\n        }\r\n\r\n      }\r\n      else if (input === 'postcode'){\r\n\r\n        const postcodeRex = /^[0-9]{5}(?:-[0-9]{4})?$/;\r\n\r\n        if (postcodeRex.test(e.target.value)){\r\n          this.setState({postcodeState: 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({postcodeState:'has-danger'})\r\n        } \r\n\r\n      }\r\n      else if (input === 'address_1'){\r\n\r\n        const adress1RegEx = /^(?:[Pp][Oo]\\s[Bb][Oo][Xx]|[0-9]+)\\s(?:[0-9A-Za-z\\.'#]|[^\\S\\r\\n])+/ ;\r\n\r\n        if (adress1RegEx.test(e.target.value)){\r\n        this.setState({address_1State : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({address_1State:'has-danger'})\r\n        }\r\n\r\n      }\r\n      else if (input === 'city'){\r\n\r\n        const cityRegEx =  /^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/ ;\r\n\r\n        if (cityRegEx.test(e.target.value)){\r\n        this.setState({cityState : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({cityState:'has-danger'})\r\n        }\r\n\r\n      }  \r\n      else if (input === 'state'){\r\n\r\n        const stateRegEx = /^[A-Za-z]+$/ ; \r\n\r\n        if (stateRegEx.test(e.target.value)){\r\n        this.setState({stateState : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({stateState:'has-danger'})\r\n        }\r\n\r\n      }\r\n      else if (input === 'first_name'){\r\n\r\n        const firstNameRegEx = /^[a-z ,.'-]+$/i;\r\n\r\n        if (firstNameRegEx.test(e.target.value)){\r\n          this.setState({first_nameState : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({first_nameState:'has-danger'})\r\n        }\r\n\r\n      }\r\n      else if (input === 'last_name'){\r\n        \r\n        const lastNameRegEx = /^[a-z ,.'-]+$/i;\r\n\r\n        if (lastNameRegEx.test(e.target.value)){\r\n        this.setState({last_nameState : 'has-success'})\r\n        }\r\n        else{\r\n          this.setState({last_nameState:'has-danger'})\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n// validate form when user clicks next button \r\n\r\n validateForm = () =>{\r\n  const billing = this.props.billing ; \r\n\r\n  const shipping = this.props.shipping ; \r\n\r\n  const firstNameRegEx = /^[a-z ,.'-]+$/i;\r\n\r\n  const lastNameRegEx = /^[a-z ,.'-]+$/i ;\r\n\r\n  const adress1RegEx = /^(?:[Pp][Oo]\\s[Bb][Oo][Xx]|[0-9]+)\\s(?:[0-9A-Za-z\\.'#]|[^\\S\\r\\n])+/ ; \r\n\r\n  const cityRegEx =  /^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/ ;\r\n\r\n  const stateRegEx = /^[A-Za-z]+$/ ; \r\n\r\n  const postCodeRegEx = /^[0-9]{5}(?:-[0-9]{4})?$/ ; \r\n\r\n  const emailRegEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n  const phoneRegEx = /^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4})$/ ; \r\n\r\n\r\n\r\n  const regExTests = [firstNameRegEx , lastNameRegEx , adress1RegEx , cityRegEx , stateRegEx , postCodeRegEx , emailRegEx , phoneRegEx ]\r\n\r\n  // const newOrderData = Object.values(billing)\r\n\r\n \r\n\r\n  const shippingOrderData = Object.values(shipping); \r\n\r\n  const billingOrderData = [billing.email, billing.phone]\r\n\r\n\r\n\r\n  // remove address line 2 and country from test\r\n  // only supports shipments made in US atm\r\n\r\n  shippingOrderData.splice(3,1)\r\n  shippingOrderData.splice(6,1)\r\n  shippingOrderData.push(...billingOrderData)\r\n\r\n  const newOrderData = shippingOrderData\r\n\r\n  console.log(newOrderData)\r\n\r\n  \r\n  // create an array of boolean values containing the results of each regex test\r\n\r\n  let regExTestResults = []\r\n\r\n  regExTests.map((regEx,index)=>{\r\n\r\n    regExTestResults.push(regEx.test(newOrderData[index].replace(/['\"]+/g, '')))\r\n\r\n  })\r\n\r\n  //  function that gets all indexes of matching values in an array\r\n const getAllIndexes = (array, val) => {\r\n  var indexes = [], i;\r\n  for(i = 0; i < array.length; i++)\r\n      if (array[i] === val)\r\n          indexes.push(i);\r\n  return indexes;\r\n}\r\n\r\n//  retrieve all indexes where regex tests fail\r\n\r\nlet RegExTestResultIndexes = getAllIndexes(regExTestResults,false)\r\n\r\n//  if the regex test results contain no false items\r\n if (RegExTestResultIndexes.length === 0 ){\r\n   \r\n  //  allow user to move to next step\r\n return  this.props.nextStep()\r\n}\r\nelse{\r\n\r\n  //  loop through all regex test results and set the apporpriate state \r\n  //  to notify user of errors\r\n\r\n  for(var i = 0 ; i < RegExTestResultIndexes.length; i++){\r\n\r\n    if (RegExTestResultIndexes[i] === 0){\r\n      this.setState({first_nameState:'has-danger'})\r\n      console.log('name test failed') \r\n    }\r\n    else if (RegExTestResultIndexes[i] === 1){\r\n      this.setState({last_nameState:'has-danger'})\r\n      console.log('last name test failed')\r\n    }\r\n    else if (RegExTestResultIndexes[i] === 2){\r\n      this.setState({address_1State:'has-danger'})\r\n      console.log('adress line 1 test failed')\r\n    }\r\n    else if (RegExTestResultIndexes[i] === 3){\r\n      this.setState({cityState:'has-danger'})\r\n      console.log('city test failed')\r\n    }\r\n    else if (RegExTestResultIndexes[i] === 4){\r\n      this.setState({stateState:'has-danger'})\r\n      console.log('state test failed')\r\n    }\r\n    else if (RegExTestResultIndexes[i] === 5){\r\n      this.setState({postcodeState:'has-danger'})\r\n      console.log('postcode test failed')\r\n    }\r\n    else if (RegExTestResultIndexes[i] === 6){\r\n      this.setState({emailState:'has-danger'})\r\n      console.log('email test failed')\r\n    }\r\n    else if(RegExTestResultIndexes[i] === 7){\r\n      this.setState({phoneState:'has-danger'})\r\n      console.log('phone test failed')\r\n    }\r\n    \r\n  }\r\n  return false\r\n}\r\n\r\n\r\n\r\n\r\n }\r\n\r\n\r\n\r\n  \r\n  render(){\r\n    \r\n    const billing = this.props.billing ; \r\n\r\n    const shipping = this.props.shipping ; \r\n\r\n    return(\r\n\r\n      <React.Fragment>\r\n\r\n        <h3>Shipping Address</h3>\r\n        \r\n        <Form>\r\n          <FormGroup className = \"billing-adress-form\">\r\n        \r\n          <div className = \"form-row ml-0 mr-0 \">\r\n\r\n              <Input className = \"col-6\" type=\"name\" name=\"first_name\"  placeholder=\"First Name\"\r\n                value = {shipping.first_name}\r\n                onChange = {e=>this.handleInputChange(e,'shipping')} \r\n                onBlur = {e=>this.validate(e,'first_name')}\r\n                valid = {this.state.first_nameState === 'has-success'}\r\n                invalid = {this.state.first_nameState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.first_nameState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops! Looks like there's a problem with your First Name. Please enter a valid first name.<b/>\r\n                    For example: The Most Awesomest Guy in the World\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n              <Input  className = \"col-6\" type=\"name\" name=\"last_name\"  placeholder=\"Last Name\"\r\n                value = {shipping.last_name}\r\n                onChange = {e=>this.handleInputChange(e,'shipping')} \r\n                onBlur = {e=>this.validate(e,'last_name')}\r\n                valid = {this.state.last_nameState === 'has-success'}\r\n                invalid = {this.state.last_nameState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.last_nameState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops! Looks like there's a problem with your Last Name. Please enter a valid last name.<b/>\r\n                    For example: Dr. Martin Luther King Jr. Sir Bob Crudite\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n          </div>\r\n\r\n          <Input type=\"text\" name=\"address_1\" placeholder=\"Adress Line 1\"\r\n            value = {shipping.address_1}\r\n            onChange = {e=>this.handleInputChange(e,'shipping')} \r\n            onBlur = {e=>this.validate(e,'address_1')}\r\n            valid = {this.state.address_1State === 'has-success'}\r\n            invalid = {this.state.address_1State === 'has-danger'}\r\n          />\r\n             {\r\n              this.state.address_1State === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops Looks like there's a problem with the Address you entered. Please enter a valid Address. <b/>\r\n                For Example: 123 Fake ST\r\n              </FormFeedback>\r\n              :\r\n              null\r\n              }\r\n\r\n          <Input type=\"text\" name=\"address_2\" placeholder=\"Adress Line 2\" \r\n            value = {shipping.address_2}\r\n            onChange = {e=>this.handleInputChange(e,'shipping')} \r\n          />\r\n\r\n          <div className = \"form-row mr-0 ml-0\">\r\n            \r\n              <Input className = \"col-10\" type=\"text\" name=\"city\"  placeholder=\"City\"\r\n                value = {shipping.city} \r\n                onChange = {e=>this.handleInputChange(e,'shipping')} \r\n                onBlur = {e=>this.validate(e,'city')}\r\n                valid = { this.state.cityState == 'has-success'}\r\n                invalid = {this.state.cityState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.cityState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops Looks like there's a problem with the City you entered. Please enter a valid City. <b/>\r\n                    For Example: San Francisco or Tacoma\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n              <Input className = \" col-2 \" type=\"text\" name=\"state\"  placeholder=\"State\" \r\n                value = {shipping.state}\r\n                onChange = {e=>this.handleInputChange(e,'shipping')}  \r\n                onBlur = { e=>this.validate(e,'state')}\r\n                valid = {this.state.stateState=== 'has-success'}\r\n                invalid = {this.state.stateState === 'has-danger'}\r\n              />   \r\n                {\r\n                  this.state.stateState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops Looks like there's a problem with the State you entered. Please enter a valid State. <b/>\r\n                    For Example : WA or Washington\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n          </div>  \r\n\r\n          <Input type=\"text\" name=\"postcode\" placeholder=\"ZIP Code\" \r\n            value = {shipping.postcode}\r\n            onChange = {e=>this.handleInputChange(e,'shipping')}  \r\n            onBlur = {e=>this.validate(e,'postcode')}\r\n            valid = {this.state.postcodeState === 'has-success'}\r\n            invalid={ this.state.postcodeState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.postcodeState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your zip code. Please enter a valid zip code.<b/>\r\n                For example: 12345 or 12345-6789\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n                \r\n          <Input type=\"email\" name=\"email\"  placeholder=\"Email\" \r\n            value = {billing.email}\r\n            onChange = {e=>this.handleInputChange(e,'billing')} \r\n            onBlur = {e => this.validate(e,'email')}\r\n            valid = {this.state.emailState === 'has-success'}\r\n            invalid={ this.state.emailState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.emailState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your email. Please enter a valid email.\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n        \r\n          <Input type=\"phone\" name=\"phone\" placeholder=\"Phone\"\r\n            value = {billing.phone}\r\n            onChange = {e=>this.handleInputChange(e,'billing')}  \r\n            onBlur = {e=>this.validate(e,'phone') }\r\n            valid = {this.state.phoneState === 'has-success'}\r\n            invalid = {this.state.phoneState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.phoneState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your phone number. Please enter a valid phone number.<br/>\r\n                For example: 1234567890, 123 456 7890, 123-456-7890, or (123)-456-7890\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n          </FormGroup>\r\n\r\n        \r\n       <div className = \"row\">\r\n         <div className =\"col d-flex justify-content-end\">\r\n           {/* if form is valid allow user to move to next step otherwise dissallow */}\r\n         <div className = \" brk-btn store-back-btn\" onClick = {()=>this.validateForm()}>\r\n            NEXT\r\n        </div>\r\n         </div>\r\n       </div>\r\n       \r\n    </Form>\r\n\r\n      </React.Fragment>\r\n    \r\n);\r\n\r\n  }\r\n\r\n}\r\n\r\nclass BillingAddressForm extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      emailState : '',\r\n      phoneState : '',\r\n      postcodeState: '',\r\n      adress1State : '',\r\n      cityState : '',\r\n      stateState: '',\r\n      first_nameState: '',\r\n      last_nameState: '',\r\n      formIsValid : false\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.validate = this.validate.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.props.updateBillingAddress( name, value )\r\n\r\n  }\r\n\r\n  componentDidMount(){ \r\n    this.props.setBillingAdressToShippingAddress('true');  \r\n  }\r\n\r\n  validate(e,input) {\r\n\r\n    e.preventDefault()\r\n\r\n    if (input === 'email'){\r\n\r\n      const emailRex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n \r\n      if (emailRex.test(e.target.value)) {\r\n        this.setState( { emailState : 'has-success'} )\r\n      } \r\n      else {\r\n      this.setState( { emailState : 'has-danger'} )\r\n      }\r\n    }\r\n    else if (input === 'phone'){\r\n\r\n      const phoneRex = /^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4})$/ ; \r\n      \r\n      if (phoneRex.test(e.target.value)){\r\n        this.setState({phoneState : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({phoneState:'has-danger'})\r\n      }\r\n\r\n    }\r\n    else if (input === 'postcode'){\r\n\r\n      const postcodeRex = /^[0-9]{5}(?:-[0-9]{4})?$/;\r\n\r\n      if (postcodeRex.test(e.target.value)){\r\n        this.setState({postcodeState: 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({postcodeState:'has-danger'})\r\n      } \r\n\r\n    }\r\n    else if (input === 'address_1'){\r\n\r\n      const adress1RegEx = /^(?:[Pp][Oo]\\s[Bb][Oo][Xx]|[0-9]+)\\s(?:[0-9A-Za-z\\.'#]|[^\\S\\r\\n])+/ ;\r\n\r\n      if (adress1RegEx.test(e.target.value)){\r\n      this.setState({address_1State : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({address_1State:'has-danger'})\r\n      }\r\n\r\n    }\r\n    else if (input === 'city'){\r\n\r\n      const cityRegEx =  /^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/ ;\r\n\r\n      if (cityRegEx.test(e.target.value)){\r\n      this.setState({cityState : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({cityState:'has-danger'})\r\n      }\r\n\r\n    }  \r\n    else if (input === 'state'){\r\n\r\n      const stateRegEx = /^[A-Za-z]+$/ ; \r\n\r\n      if (stateRegEx.test(e.target.value)){\r\n      this.setState({stateState : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({stateState:'has-danger'})\r\n      }\r\n\r\n    }\r\n    else if (input === 'first_name'){\r\n\r\n      const firstNameRegEx = /^[a-z ,.'-]+$/i;\r\n\r\n      if (firstNameRegEx.test(e.target.value)){\r\n        this.setState({first_nameState : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({first_nameState:'has-danger'})\r\n      }\r\n\r\n    }\r\n    else if (input === 'last_name'){\r\n      \r\n      const lastNameRegEx = /^[a-z ,.'-]+$/i;\r\n\r\n      if (lastNameRegEx.test(e.target.value)){\r\n      this.setState({last_nameState : 'has-success'})\r\n      }\r\n      else{\r\n        this.setState({last_nameState:'has-danger'})\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  validateForm = () =>{\r\n\r\n    const billing = this.props.billing ; \r\n    \r\n    const firstNameRegEx = /^[a-z ,.'-]+$/i;\r\n    \r\n    const lastNameRegEx = /^[a-z ,.'-]+$/i ;\r\n    \r\n    const adress1RegEx = /^(?:[Pp][Oo]\\s[Bb][Oo][Xx]|[0-9]+)\\s(?:[0-9A-Za-z\\.'#]|[^\\S\\r\\n])+/ ; \r\n    \r\n    const cityRegEx =  /^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/ ;\r\n    \r\n    const stateRegEx = /^[A-Za-z]+$/ ; \r\n    \r\n    const postCodeRegEx = /^[0-9]{5}(?:-[0-9]{4})?$/ ; \r\n    \r\n    const emailRegEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    \r\n    const phoneRegEx = /^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4})$/ ; \r\n    \r\n    \r\n    \r\n    const regExTests = [firstNameRegEx , lastNameRegEx , adress1RegEx , cityRegEx , stateRegEx , postCodeRegEx , emailRegEx , phoneRegEx ]\r\n    \r\n    // const newOrderData = Object.values(billing)\r\n    \r\n    const billingOrderData = Object.values(billing)\r\n    \r\n    // remove address line 2 and country from test\r\n    // only supports shipments made in US at the moment\r\n    \r\n    billingOrderData.splice(3,1);\r\n    billingOrderData.splice(6,1);\r\n    \r\n    const newOrderData = billingOrderData;\r\n    \r\n    console.log(newOrderData);\r\n    \r\n    \r\n    // create an array of boolean values containing the results of each regex test\r\n    \r\n    let regExTestResults = []\r\n    \r\n    regExTests.map((regEx,index)=>{\r\n    \r\n      regExTestResults.push(regEx.test(newOrderData[index].replace(/['\"]+/g, '')))\r\n    \r\n    })\r\n    \r\n    //  function that gets all indexes of matching values in an array\r\n    const getAllIndexes = (array, val) => {\r\n    var indexes = [], i;\r\n    for(i = 0; i < array.length; i++)\r\n        if (array[i] === val)\r\n            indexes.push(i);\r\n    return indexes;\r\n    }\r\n    \r\n    //  retrieve all indexes where regex tests fail\r\n    \r\n    let RegExTestResultIndexes = getAllIndexes(regExTestResults,false)\r\n    \r\n    //  if the regex test results contain no false items\r\n    if (RegExTestResultIndexes.length === 0 ){\r\n    console.log('no erroes')\r\n    //  allow user to move to next step\r\n    return  this.props.nextStep()\r\n    }\r\n    else{\r\n    \r\n    //  loop through all regex test results and set the apporpriate state \r\n    //  to notify user of errors\r\n    \r\n    for(var i = 0 ; i < RegExTestResultIndexes.length; i++){\r\n    \r\n      if (RegExTestResultIndexes[i] === 0){\r\n        this.setState({first_nameState:'has-danger'})\r\n        console.log('name test failed') \r\n      }\r\n      else if (RegExTestResultIndexes[i] === 1){\r\n        this.setState({last_nameState:'has-danger'})\r\n        console.log('last name test failed')\r\n      }\r\n      else if (RegExTestResultIndexes[i] === 2){\r\n        this.setState({address_1State:'has-danger'})\r\n        console.log('adress line 1 test failed')\r\n      }\r\n      else if (RegExTestResultIndexes[i] === 3){\r\n        this.setState({cityState:'has-danger'})\r\n        console.log('city test failed')\r\n      }\r\n      else if (RegExTestResultIndexes[i] === 4){\r\n        this.setState({stateState:'has-danger'})\r\n        console.log('state test failed')\r\n      }\r\n      else if (RegExTestResultIndexes[i] === 5){\r\n        this.setState({postcodeState:'has-danger'})\r\n        console.log('postcode test failed')\r\n      }\r\n      else if (RegExTestResultIndexes[i] === 6){\r\n        this.setState({emailState:'has-danger'})\r\n        console.log('email test failed')\r\n      }\r\n      else if(RegExTestResultIndexes[i] === 7){\r\n        this.setState({phoneState:'has-danger'})\r\n        console.log('phone test failed')\r\n      }\r\n      \r\n    }\r\n    return false\r\n    }\r\n    }\r\n\r\n\r\n  render(){\r\n\r\n    const billing = this.props.billing\r\n\r\n    return(\r\n      <React.Fragment>\r\n          \r\n        \r\n        <Form>\r\n          <FormGroup className = \"billing-adress-form\">\r\n        \r\n          <div className = \"form-row ml-0 mr-0 \">\r\n\r\n              <Input className = \"col-6\" type=\"name\" name=\"first_name\"  placeholder=\"First Name\"\r\n                value = {billing.first_name}\r\n                onChange = {this.handleInputChange} \r\n                onBlur = {e=>this.validate(e,'first_name')}\r\n                valid = {this.state.first_nameState === 'has-success'}\r\n                invalid = {this.state.first_nameState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.first_nameState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops! Looks like there's a problem with your First Name. Please enter a valid first name.<b/>\r\n                    For example: The Most Awesomest Guy in the World\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n              <Input  className = \"col-6\" type=\"name\" name=\"last_name\"  placeholder=\"Last Name\"\r\n                value = {billing.last_name}\r\n                onChange = {this.handleInputChange}\r\n                onBlur = {e=>this.validate(e,'last_name')}\r\n                valid = {this.state.last_nameState === 'has-success'}\r\n                invalid = {this.state.last_nameState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.last_nameState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops! Looks like there's a problem with your Last Name. Please enter a valid last name.<b/>\r\n                    For example: Dr. Martin Luther King Jr. Sir Bob Crudite\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n          </div>\r\n\r\n          <Input type=\"text\" name=\"address_1\" placeholder=\"Adress Line 1\"\r\n            value = {billing.address_1}\r\n            onChange = {this.handleInputChange}\r\n            onBlur = {e=>this.validate(e,'address_1')}\r\n            valid = {this.state.address_1State === 'has-success'}\r\n            invalid = {this.state.address_1State === 'has-danger'}\r\n          />\r\n             {\r\n              this.state.address_1State === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops Looks like there's a problem with the Address you entered. Please enter a valid Address. <b/>\r\n                For Example: 123 Fake ST\r\n              </FormFeedback>\r\n              :\r\n              null\r\n              }\r\n\r\n          <Input type=\"text\" name=\"address_2\" placeholder=\"Adress Line 2\" \r\n            value = {billing.address_2}\r\n            onChange = {this.handleInputChange} \r\n          />\r\n\r\n          <div className = \"form-row mr-0 ml-0\">\r\n            \r\n              <Input className = \"col-10\" type=\"text\" name=\"city\"  placeholder=\"City\"\r\n                value = {billing.city} \r\n                onChange = {this.handleInputChange} \r\n                onBlur = {e=>this.validate(e,'city')}\r\n                valid = { this.state.cityState == 'has-success'}\r\n                invalid = {this.state.cityState === 'has-danger'}\r\n              />\r\n                {\r\n                  this.state.cityState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops Looks like there's a problem with the City you entered. Please enter a valid City. <b/>\r\n                    For Example: San Francisco or Tacoma\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n              <Input className = \" col-2 \" type=\"text\" name=\"state\"  placeholder=\"State\" \r\n                value = {billing.state}\r\n                onChange = {this.handleInputChange} \r\n                onBlur = { e=>this.validate(e,'state')}\r\n                valid = {this.state.stateState=== 'has-success'}\r\n                invalid = {this.state.stateState === 'has-danger'}\r\n              />   \r\n                {\r\n                  this.state.stateState === 'has-danger'\r\n                  ?\r\n                  <FormFeedback>\r\n                    Oops Looks like there's a problem with the State you entered. Please enter a valid State. <b/>\r\n                    For Example : WA or Washington\r\n                  </FormFeedback>\r\n                  :\r\n                  null\r\n                }\r\n\r\n          </div>  \r\n\r\n          <Input type=\"text\" name=\"postcode\" placeholder=\"ZIP Code\" \r\n            value = {billing.postcode}\r\n            onChange = {this.handleInputChange} \r\n            onBlur = {e=>this.validate(e,'postcode')}\r\n            valid = {this.state.postcodeState === 'has-success'}\r\n            invalid={ this.state.postcodeState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.postcodeState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your zip code. Please enter a valid zip code.<b/>\r\n                For example: 12345 or 12345-6789\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n                \r\n          <Input type=\"email\" name=\"email\"  placeholder=\"Email\" \r\n            value = {billing.email}\r\n            onChange = {this.handleInputChange} \r\n            onBlur = {e => this.validate(e,'email')}\r\n            valid = {this.state.emailState === 'has-success'}\r\n            invalid={ this.state.emailState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.emailState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your email. Please enter a valid email.\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n        \r\n          <Input type=\"phone\" name=\"phone\" placeholder=\"Phone\"\r\n            value = {billing.phone}\r\n            onChange = {this.handleInputChange} \r\n            onBlur = {e=>this.validate(e,'phone') }\r\n            valid = {this.state.phoneState === 'has-success'}\r\n            invalid = {this.state.phoneState === 'has-danger'}\r\n          />\r\n            {\r\n              this.state.phoneState === 'has-danger'\r\n              ?\r\n              <FormFeedback>\r\n                Oops! Looks like there's a problem with your phone number. Please enter a valid phone number.<br/>\r\n                For example: 1234567890, 123 456 7890, 123-456-7890, or (123)-456-7890\r\n              </FormFeedback>\r\n              :\r\n              null\r\n            }\r\n\r\n          </FormGroup>\r\n       \r\n    </Form>\r\n\r\n    <div className = \"row\">\r\n        <div className = \"col d-flex justify-content-start\">\r\n          <div className = 'brk-btn store-back-btn' onClick = {this.props.backStep}>\r\n            BACK\r\n          </div> \r\n        </div>\r\n      <div className = \"col d-flex justify-content-end\">\r\n    \r\n          <div className = 'brk-btn store-back-btn' onClick = {this.validateForm} type = \"submit\"> \r\n            NEXT\r\n          </div>                             \r\n      </div>\r\n    </div>  \r\n\r\n     \r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nconst PaymentForm = (props) =>{\r\n  \r\n  const [ cart ] = useContext( AppContext );\r\n  const totalPrice = ( null !== cart && Object.keys( cart ).length ) ? cart.totalProductsPrice : '';\r\n      \r\n  const handleInputChange = (e) => {\r\n   \r\n    const { name, value } = e.target;\r\n\r\n    props.getNameOnCard(  name, value )\r\n    props.getNameOnCard(\"amount\" , totalPrice)    \r\n\r\n  }\r\n\r\n  const [collapse, setCollapse] = useState(false);\r\n\r\n  const handleBillingInfo = (param) => {\r\n\r\n    if (param === 'true'){\r\n\r\n      props.setBillingAdressToShippingAddress('true')\r\n      setCollapse(false)\r\n\r\n    }\r\n    else{\r\n\r\n      props.setBillingAdressToShippingAddress('false')\r\n      setCollapse(true)\r\n\r\n    }\r\n\r\n  }\r\n \r\n\r\n    const createOptions = () => {\r\n      return {\r\n        style: {\r\n          base: {\r\n            fontSize: '16px',\r\n            color: '#424770',\r\n            fontFamily: 'Open Sans, sans-serif',\r\n            letterSpacing: '0.025em',\r\n            '::placeholder': {\r\n              color: '#aab7c4',\r\n            },\r\n          },\r\n          invalid: {\r\n            color: '#c23d4b',\r\n          },\r\n        }\r\n      }\r\n    };\r\n    \r\n    const display = props.step2 ? 'none' : ' block'\r\n \r\n    return (\r\n    \r\n      \r\n      <div style = {{\r\n        display:display\r\n      }}>\r\n          <input\r\n            className = \"form-control mb-2\"\r\n            type=\"text\"\r\n            name=\"name_onCard\"\r\n            placeholder=\"Name\"\r\n            onChange={e=>handleInputChange(e)}\r\n            />\r\n\r\n          <CardNumberElement \r\n            {...createOptions()}\r\n            className= \"form-control mb-2\"/>\r\n\r\n          <div className = \"form-row ml-0 mr-0 \">\r\n\r\n          <CardExpiryElement className = \"col-6 form-control mb-2\"/>\r\n\r\n          <CardCvcElement className = \"col-6 form-control mb-2\"/>\r\n          </div>\r\n\r\n          <FormGroup>\r\n          \r\n            <div className = \"form-row d-flex justify-content-between mr-1 ml-1\" >\r\n\r\n              <FormGroup>\r\n            \r\n              <h3>Billing Address</h3>\r\n              \r\n              </FormGroup>\r\n\r\n              <FormGroup check>\r\n\r\n                  <CustomInput type=\"radio\" id=\"exampleCustomRadio\" name=\"customRadio\"  defaultChecked  label=\"Same as Shipping\" onClick = {()=>handleBillingInfo('true')}/>\r\n                \r\n                  <CustomInput type=\"radio\" id=\"different-billing-address\" name=\"customRadio\" label=\"Different Address\" onClick = {()=>handleBillingInfo('false')}/>          \r\n              \r\n              </FormGroup> \r\n\r\n            </div>\r\n\r\n        </FormGroup>\r\n\r\n          <Collapse isOpen = {collapse}>\r\n              <BillingAddressForm \r\n                setBillingAdressToShippingAddress = {props.setBillingAdressToShippingAddress}\r\n                updateBillingAddress = {props.updateBillingAdress}\r\n                billing = {props.billing}\r\n                shipping = {props.shipping}\r\n                billingAddressSameAsShipping = {!collapse}\r\n                nextStep = {props.nextStep}\r\n                backStep = {props.backStep}\r\n                />\r\n          </Collapse>\r\n\r\n       \r\n       {  collapse\r\n         ?\r\n         null\r\n         :\r\n         <React.Fragment>\r\n            <div className = \"row\">\r\n\r\n                <div className = \"col d-flex justify-content-start\">\r\n                  \r\n                  <div className = 'brk-btn store-back-btn' onClick = {props.backStep}>\r\n                    BACK\r\n                  </div> \r\n                </div>\r\n\r\n                <div className = \"col d-flex justify-content-end\">\r\n\r\n                    <div className = 'brk-btn store-back-btn' onClick = {props.nextStep}> \r\n                      NEXT\r\n                    </div>                             \r\n                </div>\r\n\r\n            </div> \r\n         </React.Fragment>\r\n       }\r\n\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\n\r\nconst CartInfo = (props) => {\r\n\r\n\r\n\r\n  // const {orientation}  = props ; \r\n  \r\n  const [ cart, setCart ] = useContext( AppContext );\r\n  \r\n  const productsCount = ( null !== cart && Object.keys( cart ).length ) ? cart.totalProductsCount : '';\r\n  \r\n  const handleAddToCartClick = (e,product) => {\r\n    e.preventDefault()\r\n    \r\n      if (process.browser) {\r\n\r\n          let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n\r\n          // if cart has item(s) already, then update the exisiting cart\r\n          if (existingCart) {\r\n\r\n              existingCart = JSON.parse(existingCart);\r\n              \r\n              const qtyToBeAdded = 1;\r\n              \r\n              const updatedCart = updateCart( existingCart,product,qtyToBeAdded) ;\r\n              \r\n              setCart( updatedCart)\r\n\r\n              props.updateOrder() \r\n\r\n          } else{\r\n\r\n              //  I dont think this else statement in neccessary becuase \r\n              // cart will always exist by the time this function is available\r\n\r\n              // if no item in the cart, then create an empty array and add item.\r\n              \r\n              const newCart = addFirstProduct(product);\r\n\r\n              setCart( newCart)\r\n\r\n              // update order data when user adds item to cart \r\n\r\n              props.updateOrder() \r\n          }\r\n      }\r\n    }\r\n\r\n    const handleRemoveProductClick = (e,product) =>{\r\n\r\n       e.preventDefault()\r\n      \r\n      if (process.browser){\r\n\r\n        let updatedCart = removeItemFromCart(e,product)\r\n              \r\n              setCart( updatedCart)\r\n\r\n              // update order data line items when \r\n              // user removes item from cart\r\n\r\n              props.updateOrder()\r\n\r\n        \r\n        \r\n      }\r\n    }\r\n \r\n  // this section runs everytime when component updates \r\n  //  if the cart exisits \r\n  if (null !== cart && Object.keys(cart).length ){\r\n\r\n    let newLine_items = [] ; \r\n\r\n    // create line items in to add to Order Data from cart \r\n    for (var i = 0 ; i < Object.keys(cart.products).length ; i++ ){\r\n\r\n      newLine_items.push( {\"product_id\" : cart.products[i].productId, \"quantity\": cart.products[i].qty })  \r\n      \r\n    } \r\n\r\n    // if the products in the orderData does not reflect \r\n    // what is currrently in the users cart then update the order. \r\n\r\n    if(props.line_items.length !== newLine_items.length){\r\n   \r\n      props.updateOrder()\r\n       \r\n    } \r\n \r\n  } \r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\r\n        <div  onClick = {props.collapse} className={props.isOpen?\"circle-plus closed opened\":\"circle-plus closed \" }\r\n          style = {{\r\n            position: 'absolute',\r\n            top:'-6px',\r\n            right: '15px'\r\n          }}>\r\n            <div className=\"circle\">\r\n                <div className=\"horizontal\"></div>\r\n                <div className=\"vertical\"></div>\r\n            </div>\r\n        </div>\r\n        <Collapse isOpen = {props.isOpen}>\r\n\r\n          \r\n        {productsCount?   \r\n                cart.products.map( (item,index) => {\r\n                    return(\r\n                    \r\n                        <div key ={index} className = \"row mr-0 ml-0 cart-inventory-container\"\r\n                          style = {{padding: \"0px 0px\"}}>\r\n                            <div className = \"col-5\">\r\n                            <img src = {item.image.sourceUrl} width = \"100%\"/>\r\n                            <div className = \"cart-controls row d-flex justify-content-between align-items-center\">                             \r\n                              \r\n                              <Button role = 'button' className = \"col-4 \"  \r\n                                   onClick = { \r\n                                              // if popover is open \r\n                                              props.pop[index]                                              \r\n                                              ? \r\n                                              // then close popover and remove item\r\n                                              e=>{props.setPop(e,index,'focus') ;  handleRemoveProductClick(e,item.productId) }                                              \r\n                                              :\r\n                                              // otherwise just remove item\r\n                                              e => handleRemoveProductClick(e,item.productId)\r\n                                              }>                                                \r\n                              <div className = 'minus-btn'/> \r\n                              </Button>\r\n\r\n                              <div  id = {`k${index}`} tabIndex=\"0\" className = \"col-4 text-center align-content-center p-0\">\r\n\r\n                               <span className = \"\">{ item.qty }</span> \r\n\r\n                              </div>\r\n                              \r\n                              <Button   role = 'button'  className = {`${item.stockQuantity === item.qty ? 'add-to-cart-not-allowed' : ''}  col-4 d-flex justify-content-end`}\r\n                              // if the qty of the product in the cart is equal to the max quantity in stock or if the amount is null (sterling forgot to set qty)\r\n                              // dissalow adding it to cart and toggle a popover message\r\n                              // onClick = {item.stockQuantity === item.qty || item.stockQuantity === null  ? e => props.setPop(e,index) :  (e) =>handleAddToCartClick(e,item)}   \r\n                                onClick = {item.stockQuantity === item.qty   ? e => props.setPop(e,index) :  (e) =>handleAddToCartClick(e,item)}   \r\n                                >\r\n                              <div className = \"plus-btn\"/>                                 \r\n                              </Button>                            \r\n                           \r\n                            </div>\r\n\r\n                            <Popover  placement= \"top\" isOpen = {props.pop[index]} trigger = 'legacy click' toggle = {e=>props.setPop(e,index,'focus')} target = {`k${index}`}>\r\n                              <PopoverBody>\r\n                                <p>\r\n                                  this is the maximum amount available\r\n                                </p>\r\n                              </PopoverBody>\r\n                            </Popover>                                       \r\n\r\n                            \r\n                            </div>\r\n                            <div className = \"col-5\">\r\n                                <p>\r\n                                    {item.name}\r\n                                </p>\r\n                            </div>\r\n                            <div className = \"col-2\"\r\n                              style = {{padding: \"0px 0px\"}}>\r\n                                ${item.price}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    );\r\n                  \r\n                })\r\n                \r\n            :\r\n            <div></div>\r\n        }\r\n        </Collapse>\r\n          \r\n          \r\n           \r\n\t\t</React.Fragment>\r\n\r\n\t)\r\n};\r\n\r\n\r\nconst TotalPrice = (props)=>{\r\n\r\n    const [ cart ] = useContext( AppContext );\r\n    const totalPrice = ( null !== cart && Object.keys( cart ).length ) ? cart.totalProductsPrice : '';\r\n        \r\n        \r\n     return(\r\n        <React.Fragment>\r\n            {totalPrice?\r\n                   \r\n            <div  className = \"row justify-content-end mr-0 ml-0 pr-3 cart-inventory-container\">\r\n\r\n            <img src = {cartIcon} width = \"25px\"\r\n            style = {{ \r\n              position: 'absolute',\r\n              left: '25px'\r\n              }}\r\n            \r\n            ></img>   \r\n                Total ${totalPrice}\r\n            </div>\r\n\r\n            :\r\n            null\r\n         }\r\n        </React.Fragment>\r\n     );\r\n      \r\n    \r\n};\r\n\r\nclass CheckOutPage extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n            this.state={\r\n                orientation: '',\r\n                name_onCard: '',\r\n                orderData: orderData,\r\n                modal:false,\r\n                collapse: false , \r\n                step1: false,\r\n                step2: false,\r\n                step3: false,\r\n                paymentMethod: 'isCard',\r\n                paymentProcessing:true,\r\n                paymentMessage:'',\r\n                pop:[]\r\n                                    \r\n            }\r\n            this.backStep = this.backStep.bind(this);\r\n            this.handleOrientation = this.handleOrientation.bind(this);\r\n            this.nextStep = this.nextStep.bind(this);\r\n            this.getNameOnCard = this.getNameOnCard.bind(this);\r\n            this.updateShippingAddress = this.updateShippingAddress.bind(this);\r\n            this.updateBillingAdress = this.updateBillingAdress.bind(this);\r\n            this.setBillingAdressToShippingAddress = this.setBillingAdressToShippingAddress.bind(this);\r\n            this.updateOrder = this.updateOrder.bind(this);\r\n            this.toggle = this.toggle.bind(this);\r\n            this.collapse = this.collapse.bind(this);\r\n            this.toggleChoice = this.toggleChoice.bind(this);\r\n            this.handlePop = this.handlePop.bind(this);\r\n            this.setPop = this.setPop.bind(this);\r\n    \r\n        }\r\n\r\n        // switches payment method to either Card or PayPal\r\n\r\n        toggleChoice = (e) => {\r\n          let paymentMethod = String(e.target.innerHTML ) \r\n    \r\n          switch (paymentMethod){\r\n              case 'Credit Card' :\r\n              \r\n                this.setState({paymentMethod:'isCard'});\r\n                break\r\n              case 'PayPal' :\r\n               \r\n                this.setState({paymentMethod:'isPaypal'});\r\n                break\r\n\r\n          }\r\n                 \r\n        }\r\n\r\n        // open and closes confirm order Modal\r\n\r\n        toggle(){\r\n          this.setState({modal:!this.state.modal})\r\n          \r\n        }\r\n\r\n        // opens or collapses order summary \r\n\r\n        collapse(){\r\n          this.setState({\r\n            collapse:!this.state.collapse\r\n          })\r\n        }\r\n\r\n        // when user clicks purchase button\r\n\r\n        handleSubmit = async(e) =>{\r\n          e.preventDefault();\r\n          this.setState({step3:true})\r\n\r\n          try {\r\n            // create stripe payment token\r\n            let {token} = await this.props.stripe.createToken({ name: this.state.name_onCard});\r\n            console.log(token)\r\n\r\n            if (token !== undefined ){\r\n              \r\n            // create stripe payment source and retrive source id\r\n            let token_src = await getToken_srcId(token.id)\r\n            console.log(token_src.id)\r\n\r\n            // create new order in woocommerse\r\n            let order =  await postOrder(this.state.orderData);\r\n            let order_id = order.id\r\n            console.log(order)\r\n            console.log(order_id)\r\n             \r\n            // send token and orderId to cedarcreek server and process payment\r\n            // processOrder(token_src.id,order_id)\r\n            // .then(res=>{\r\n            //   console.log(res)\r\n            //   this.setState({paymentMessage:res})\r\n            //   this.setState({paymentProcessing:false});\r\n            //   this.setState({modal:true})\r\n            // }); \r\n\r\n            processPaymentTest(token_src.id,order_id)\r\n            .then(res=>{\r\n              console.log(res)\r\n              \r\n              this.setState({modal:true})\r\n              this.setState({paymentMessage:res.message})\r\n              this.setState({paymentProcessing:false});\r\n              \r\n            }); \r\n            \r\n            }else{\r\n              this.setState({ paymentMessage:'looks like there was a problem with the card information you entered. Please insure the card information is correct'});\r\n              this.setState({modal:true});\r\n            }\r\n          } catch (e) {\r\n\r\n            console.log(e)\r\n            throw e ; \r\n          }\r\n          \r\n        }  \r\n        \r\n        \r\n        updateOrder(){\r\n\r\n          // console.log('state of order data before updateOrder invoked', this.state.orderData) \r\n\r\n          let newLine_items = [] ; \r\n\r\n          let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n           \r\n\r\n          if (existingCart){\r\n             \r\n            existingCart = JSON.parse(existingCart);\r\n\r\n            // cart exists update order to reflect products in cart\r\n\r\n            for (var i = 0 ; i < Object.keys(existingCart.products).length ; i++ ){ \r\n                  newLine_items.push( {\"product_id\" : existingCart.products[i].productId, \"quantity\": existingCart.products[i].qty })  \r\n                } \r\n\r\n                var newOrderData = {...this.state.orderData}\r\n                newOrderData.line_items = newLine_items\r\n                this.setState({orderData:newOrderData})\r\n\r\n          }\r\n          else {\r\n\r\n            // cart does not exist remove line ittems from order data\r\n\r\n            var newOrderData = {...this.state.orderData}\r\n            newOrderData.line_items = [] ; \r\n            this.setState({orderData:newOrderData}) \r\n\r\n          } \r\n\r\n        }\r\n\r\n        updateShippingAddress(key,value){\r\n          let newOrderData = Object.assign({},orderData)\r\n          newOrderData.shipping[key] = value\r\n\r\n          this.setState({\r\n            orderData:newOrderData\r\n          })\r\n        } \r\n\r\n        updateBillingAdress(key,value){\r\n\r\n          let newOrderData = Object.assign({},orderData)\r\n         newOrderData.billing[key]=value\r\n         \r\n          this.setState({\r\n          \r\n            orderData : newOrderData\r\n\r\n          })\r\n        }\r\n\r\n        setBillingAdressToShippingAddress(param){\r\n\r\n          let blankBillingData = Object.assign({},orderData.billing)\r\n \r\n          \r\n          if (param === 'true'){\r\n\r\n            let billingData  = Object.assign({},this.state.orderData.billing) ; \r\n            let shippingData= Object.assign({},this.state.orderData.shipping)\r\n            \r\n            const newBillingData = Object.assign(billingData,shippingData) ; \r\n\r\n            const newOrderData = Object.assign({}, orderData)\r\n\r\n            newOrderData['billing'] = newBillingData\r\n  \r\n      \r\n            console.log('setted billing same as shipping','og order Data: ', orderData)\r\n            console.log('new OrderData: ', newOrderData)\r\n\r\n            this.setState({orderData:newOrderData})\r\n \r\n          }\r\n\r\n          else{\r\n\r\n            const newBillingData = blankBillingData\r\n\r\n            const newOrderData = Object.assign({}, orderData)\r\n\r\n            newOrderData['billing'] = newBillingData\r\n\r\n            console.log('new OrderData: ', newOrderData)\r\n\r\n            this.setState({orderData:newOrderData})\r\n\r\n             \r\n\r\n          }\r\n\r\n\r\n        }\r\n\r\n        getNameOnCard(name,value){\r\n\r\n             this.setState( { [name] : value} )\r\n  \r\n        }\r\n        handleOrientation(){\r\n            if (window.innerWidth >= window.innerHeight) {\r\n                this.setState({orientation:\"landscape\"})  \r\n            }\r\n             else  {\r\n                 this.setState({orientation:\"portrait\"})\r\n            }\r\n        }\r\n       \r\n\r\n        nextStep(){\r\n          this.state.step1==false\r\n          ?\r\n          this.setState({step1: true})\r\n          :\r\n          this.setState({step2: true})\r\n        }\r\n\r\n        backStep(){\r\n          this.state.step1 && this.state.step2\r\n          ?\r\n          this.setState({step2:false})\r\n          :\r\n          this.setState({step1:false})\r\n        }\r\n\r\n        componentWillMount(){\r\n            this.handleOrientation()\r\n        }\r\n     \r\n\r\n        handlePop(){\r\n          const pop = []; \r\n          \r\n             let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n\r\n               \r\n              if (existingCart) {\r\n                existingCart = JSON.parse(existingCart)\r\n                \r\n                for ( var i = 0; i < existingCart.products.length ; i++ ){\r\n                   pop.push(false);\r\n                                                         \r\n                }\r\n\r\n                 this.setState({pop:pop})\r\n\r\n            }       \r\n            else   this.setState({pop:[false]}) ;  \r\n             \r\n        }\r\n\r\n        setPop(e,index,toggleOnBlur){\r\n          e.preventDefault()\r\n          const pop = [];  \r\n\r\n          this.setState({pop:[]})\r\n\r\n          let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n \r\n\r\n          if (existingCart) {\r\n             existingCart = JSON.parse(existingCart)\r\n            \r\n            for ( var i = 0; i < existingCart.products.length ; i++ ){\r\n               pop.push(false);                          \r\n            }\r\n\r\n            this.setState({pop:pop})\r\n\r\n            \r\n\r\n            //  if (arguments[2]){\r\n            \r\n            if (toggleOnBlur){\r\n\r\n              this.handlePop()\r\n              let newPop = this.state.pop;\r\n              newPop.splice(index,1,false)\r\n               console.log('third parameter present')\r\n                \r\n               \r\n\r\n               this.setState({pop:newPop})\r\n             }else {\r\n               \r\n              \r\n              let newPop = this.state.pop;\r\n              newPop.splice(index,1,!this.state.pop[index])\r\n              console.log('third parameter not present',newPop)\r\n              this.setState({pop:newPop})\r\n             }\r\n\r\n        }       \r\n        else   this.setState({pop:[false]}) ;   \r\n        }\r\n\r\n        componentDidMount(){ \r\n            window.addEventListener(\"resize\",this.handleOrientation)\r\n\r\n            this.handlePop() \r\n\r\n        }\r\n        \r\n \r\n    \r\n    render(){\r\n     \r\n      var orientation = this.state.orientation; \r\n      var grid = this.state.orientation === \"landscape\" ? \" col-6 \": \" col-12 \" ; \r\n      var columnOrder = orientation === \"landscape\" ? \"d-flex\" : \"flex-column-reverse\" ; \r\n      var isClickable = this.state.step2 ? 'ready_state':'void_state' ; \r\n      const billing = this.state.orderData.billing ; \r\n      const shipping = this.state.orderData.shipping\r\n\r\n\r\n\r\n        return(\r\n\r\n        <React.Fragment>\r\n\r\n\t\r\n                \r\n                    <div className = {`row ${ columnOrder } justify-content-center`}>\r\n                    \r\n                    <div className = {`${grid}`}>\r\n\r\n                      <StepProgress \r\n                      step1 = {this.state.step1}\r\n                      step2 = {this.state.step2}\r\n                      step3 = {this.state.step3}\r\n                      />  \r\n\r\n                     \r\n                      <FirstStepOrSecondStep\r\n                        shipping = {shipping}\r\n                        billing = {billing}\r\n                        nextStep = {this.nextStep}\r\n                        backStep = {this.backStep}\r\n                        getNameOnCard = {this.getNameOnCard}\r\n                        step1 = {this.state.step1}\r\n                        step2 = {this.state.step2}\r\n                        updateShippingAddress = {this.updateShippingAddress}\r\n                        updateBillingAdress = {this.updateBillingAdress}\r\n                        paymentMethod = {this.state.paymentMethod}\r\n                        toggleChoice = {this.toggleChoice}\r\n                        setBillingAdressToShippingAddress = {this.setBillingAdressToShippingAddress}\r\n                      />\r\n                  \r\n                      <ConfirmOrder\r\n                        step2 = {this.state.step2}\r\n                        billing = {billing}\r\n                        backStep = {this.backStep}\r\n                        />\r\n                 \r\n\r\n              <ConfirmOrderModal \r\n                message = {this.state.paymentMessage}\r\n                modal = {this.state.modal}\r\n                toggle = {this.toggle}\r\n                />\r\n                    </div>  \r\n\r\n                        <div className = {`${grid} mt-3`}>\r\n                            \r\n                            <h3> Order Summary</h3>\r\n                            <CartInfo  \r\n                             line_items = {this.state.orderData.line_items}\r\n                             pop = {this.state.pop}\r\n                             setPop = {this.setPop}\r\n                             orientation = {this.state.orientation}\r\n                             updateOrder = {this.updateOrder}\r\n                             isOpen = {this.state.collapse}\r\n                             collapse = {this.collapse} \r\n                             />\r\n                            <TotalPrice/>\r\n                            <div className = \"row d-flex justify-content-center\">\r\n                              <div className = { `text-center cart-action-btn add-to-cart-btn purchase-btn ${isClickable}`} onClick={this.state.step2?this.handleSubmit: null}>\r\n                                PURCHASE\r\n                              </div>\r\n                            </div>\r\n                           \r\n                        </div>\r\n\r\n                    </div>\r\n                \r\n               \r\n\r\n        \r\n        </React.Fragment>\r\n        );\r\n    }\r\n    }\r\n\r\nexport default injectStripe(CheckOutPage);","// import  stripe from '../components/cart/processPayment'\r\nconst WooCommerceAPI = require('woocommerce-api');\r\nconst wooConfig = require('./config/wooConfig')\r\n\r\n\r\n \r\n  const WooCommerce= new WooCommerceAPI({\r\n    url:  wooConfig.siteUrl,\r\n    consumerKey: wooConfig.consumerKey,\r\n    consumerSecret: wooConfig.consumerSecret,\r\n    wpAPI: true,\r\n    version: 'wc/v1'\r\n  });  \r\n\r\n//   takes JSON data containing billing adress, product(s), and order total as a parameter,\r\n//   and creates new order in WooCommerse.\r\n\r\n// const data = {\r\n//   payment_method: \"stripe\",\r\n//   payment_method_title: \"Direct Bank Transfer\",\r\n//   set_paid: false,\r\n//   billing: {\r\n//     first_name: \"Chris\",\r\n//     last_name: \"Butthead\",\r\n//     address_1: \"969 Market\",\r\n//     address_2: \"\",\r\n//     city: \"San Francisco\",\r\n//     state: \"CA\",\r\n//     postcode: \"94103\",\r\n//     country: \"US\",\r\n//     email: \"john.doe@example.com\",\r\n//     phone: \"(555) 555-5555\"\r\n//   },\r\n//   shipping: {\r\n//     first_name: \"John\",\r\n//     last_name: \"Doe\",\r\n//     address_1: \"969 Market\",\r\n//     address_2: \"\",\r\n//     city: \"San Francisco\",\r\n//     state: \"CA\",\r\n//     postcode: \"94103\",\r\n//     country: \"US\"\r\n//   },\r\n//   line_items: [\r\n//     {\r\n//       product_id: 175,\r\n//       quantity: 1\r\n//     }\r\n//   ]\r\n// };\r\n  \r\n  const postOrder = async(data) => WooCommerce.postAsync(\"orders\", data)\r\n  \r\n  .then((response) => {\r\n  \r\n    return  JSON.parse( response.body);\r\n   \r\n  })\r\n  .catch((error) => {\r\n    console.log(error.response.data);\r\n  });\r\n\r\n\r\nexport default postOrder;\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"," \r\n \r\n//  takes token id as a parameter\r\n//  gets token source id from stripe server\r\n\r\n  export const  getToken_srcId = async (token_id)  => {\r\n\r\n\tvar myHeaders = new Headers();\r\n\tmyHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\t\r\n\tvar urlencoded = new URLSearchParams();\r\n\turlencoded.append(\"type\", \"card\");\r\n\turlencoded.append(\"token\", token_id);\r\n\turlencoded.append(\"key\", \"pk_test_7LEEquBX9joVxcuVTXsZW0RN002UkUsXj3\");\r\n\t\r\n\tvar requestOptions = {\r\n\t  method: 'POST',\r\n\t  headers: myHeaders,\r\n\t  body: urlencoded,\r\n\t  redirect: 'follow'\r\n\t};\r\n\t\r\n\tconst fetchedData = fetch(\"https://api.stripe.com/v1/sources\", requestOptions)\r\n\r\n\t.then(response => { return  response.json()})\r\n\t.then(result => {\r\n\t\tconsole.log(result) \t\t\r\n\t\treturn result\r\n\t\r\n\t})\r\n\t\r\n\t.catch(error => {return  error });\t \r\n\r\n\treturn await fetchedData\r\n}\r\n\r\n\r\nexport const processOrder = async (token,order_id) => {\r\n\r\n\treturn new Promise( (resolve,reject)=>{\r\n\t   var url = 'https://4michael1angelo5.wpcomstaging.com/?wp-json/wc/v2/stripe-payment';\r\n   \r\n\t   var formData = new FormData();\t\r\n   \r\n\t   formData.append(\"order_id\", order_id);\r\n\t   formData.append(\"payment_token\", token);\r\n\t   formData.append(\"payment_method\", 'stripe');\r\n   \r\n\t   var request = new XMLHttpRequest();\r\n\t   request.open(\"POST\", url);\r\n\t   request.send(formData);\r\n   \r\n\t   request.onload = (e) => {\r\n\t\t   if (request.readyState === 4) {\r\n\t\t\t if (request.status === 200) {\r\n   \r\n\t\t\t   let success = JSON.parse(request.responseText)\r\n\t\t\t\t\t\r\n\t\t\t\t   resolve(success.message)\r\n\t\t\t\t\t\r\n\t\t\t } else {\r\n\t\t\t\t\t\r\n\t\t\t\t   console.log(order_id);\t\t\t\t\r\n\t\t\t\t   console.log(\"Error\", request)\r\n\t\t\t\t   alert( request.responseText );\r\n\t\t\t\t   reject( ()=> { return request.responseText})\r\n\t\t\t\t   // return request.responseText ; \r\n\t\t\t }\r\n\t\t   }\r\n\t   };\r\n   } )\r\n   }\r\n\r\n \r\n\r\n\r\n \r\n\r\n\r\n \r\n\r\n\r\n\r\n  ","\r\n\r\nexport const processPaymentTest = async (token,order_id) => {\r\n\r\n    \r\n        \r\n\r\n\r\n            var url = 'https://4michael1angelo5.wpcomstaging.com/wp-json/wc/v2/stripe-payment';\r\n                \r\n            var myHeader = new Headers(); \r\n\r\n            myHeader.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\r\n            var urlencoded = new URLSearchParams(); \r\n            urlencoded.append(\"order_id\",order_id);\r\n            urlencoded.append(\"payment_token\",token);\r\n            urlencoded.append(\"payment_method\",\"stripe\")\r\n\r\n            var requestOptions = {\r\n                method: 'POST',\r\n                headers: myHeader,\r\n                body: urlencoded,\r\n            };\r\n\r\n            const response  =   await fetch(url,requestOptions);\r\n\r\n            const fetchedData =  await response.json(); \r\n\r\n            console.log(fetchedData)\r\n\r\n           \r\n\r\n\r\n            return new Promise ( ( resolve,reject ) => {\r\n\r\n                resolve(fetchedData)\r\n\r\n                reject(response.message)\r\n\r\n\r\n     });\r\n\r\n      \r\n\r\n\r\n    }\r\n\r\n    // Above code works for some reason and does not return cors errors. \r\n\r\n\r\n    // Below code was written 4 years ago in 2020 and worked then but does not now 2024.\r\n    // keeps returing No \"access control allow origin error when I try to post to server\"\r\n    // need to figure out why\r\n\r\n\r\n\r\n\r\n    export const processOrder = async (token,order_id) => {\r\n\r\n        return new Promise( (resolve,reject)=>{\r\n           var url = 'https://4michael1angelo5.wpcomstaging.com/?wp-json/wc/v2/stripe-payment';\r\n       \r\n           var formData = new FormData();\t\r\n       \r\n           formData.append(\"order_id\", order_id);\r\n           formData.append(\"payment_token\", token);\r\n           formData.append(\"payment_method\", 'stripe');\r\n       \r\n           var request = new XMLHttpRequest();\r\n           request.open(\"POST\", url);\r\n           request.send(formData);\r\n       \r\n           request.onload = (e) => {\r\n               if (request.readyState === 4) {\r\n                 if (request.status === 200) {\r\n       \r\n                   let success = JSON.parse(request.responseText)\r\n                        \r\n                       resolve(success.message)\r\n                        \r\n                 } else {\r\n                        \r\n                       console.log(order_id);\t\t\t\t\r\n                       console.log(\"Error\", request)\r\n                       alert( request.responseText );\r\n                       reject( ()=> { return request.responseText})\r\n                       // return request.responseText ; \r\n                 }\r\n               }\r\n           };\r\n       } )\r\n       }\r\n\r\n         \r\n\r\n","  \r\nimport React, { useState, useEffect } from 'react';\r\nexport const AppContext = React.createContext([\r\n\t{},\r\n\t() => {}\r\n]);\r\n\r\nexport const AppProvider = ( props ) => {\r\n\r\n    const [ cart, setCart ] = useState( null );\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif ( process.browser ) {\r\n\r\n\t\t\tlet cartData = localStorage.getItem( 'cedarcreekforestry-cart' );\r\n\t\t\tcartData = null !== cartData ? JSON.parse( cartData ) : '';\r\n\t\t\tsetCart( cartData );\r\n\r\n\t\t}\r\n\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t<AppContext.Provider value={ [ cart, setCart ] }>\r\n\t\t\t{ props.children }\r\n\t\t</AppContext.Provider>\r\n\t);\r\n};","import React from 'react';\r\nimport { slide as Menu } from 'react-burger-menu'; \r\n\r\nimport tree from '../shared/icons/tree.png';\r\n\r\nclass HamburgerMenu extends React.Component {\r\n    showSettings (event) {\r\n        event.preventDefault();\r\n    }\r\n    aboutPage = React.createRef();\r\n    galleryPage = React.createRef() ; \r\n\r\n\r\n    render () {\r\n        // NOTE: You also need to provide styles, see https://github.com/negomi/react-burger-menu#styling\r\n        return (\r\n            <Menu customBurgerIcon ={ <img src={tree} alt= \"logo.png\"/> }>\r\n                 \r\n                <div onClick ={e => this.props.downBtnScroll(e,'home')}>HOME</div>\r\n                 \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'about')}>ABOUT</div>\r\n                 \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'gallery')}>GALLERY</div>\r\n                \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'blog')}>BLOG</div>\r\n                 \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'store')}>STORE</div>\r\n               \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'contact')}>CONTACT</div>\r\n               \r\n                <div   onClick ={e => this.props.downBtnScroll(e,'checkout')}>CART</div>\r\n               \r\n            </Menu>\r\n            );\r\n        }\r\n    }    \r\n\r\n    export default HamburgerMenu;","import React from 'react';\r\nimport HamburgerMenu from './menuComponent';\r\nimport  {Navbar} from 'reactstrap';\r\nimport {ScrollTo} from 'react-scroll-to';\r\n\r\nclass Home extends React.Component{\r\n\r\n    // constructor(props){\r\n    //     super(props)\r\n    //     this.state ={\r\n    //         downBtnTarget : {}\r\n    //     }\r\n    // }\r\n\r\n    // componentDidMount(){\r\n    //     const downBtnTarget = document.getElementById('about');\r\n    //     this.setState({downBtnTarget:downBtnTarget});\r\n    // }\r\n\r\n    render(){\r\n\r\n       \r\n\r\n\r\n        return(\r\n            this.props.isUserInteractingWithBlog\r\n            ?\r\n            null\r\n            :\r\n            <div id = \"home-page\" ref= {this.homePage} className = \"landing-page\"> \r\n        \r\n                {\r\n                this.props.isUserInteractingWithStore \r\n                ? null \r\n                : \r\n                <HamburgerMenu \r\n                downBtnScroll = {this.props.downBtnScroll}\r\n                />\r\n                }\r\n                <div className = \"container-fluid \">\r\n                \r\n                    <Navbar className= \"row\">\r\n                        \r\n                    <div className = \"col-3\">\r\n                    \r\n                    {/* filler to justify-content-end */}\r\n                        \r\n                    </div>\r\n                        \r\n                    \r\n                    <div className = \"col d-none d-lg-block  nav-btn\" onClick ={e => this.props.downBtnScroll(e,'home')}>\r\n                        home\r\n                    </div>\r\n                                        \r\n                    <div className = \"col d-none d-lg-block  nav-btn\" onClick ={e => this.props.downBtnScroll(e,'about')}>\r\n                        about\r\n                    </div>\r\n                \r\n                    <div  className = \"col d-none d-lg-block  nav-btn\" onClick ={e => this.props.downBtnScroll(e,'gallery')}>\r\n                        gallery\r\n                    </div>\r\n                   \r\n                    <div className = \"col d-none d-lg-block nav-btn\" onClick ={e => this.props.downBtnScroll(e,'contact')}>\r\n                        contact\r\n                    </div>\r\n\r\n                    <div className = \"col d-none d-lg-block nav-btn\" onClick ={e => this.props.downBtnScroll(e,'store')}>\r\n                        store\r\n                    </div>\r\n\r\n                    <div className = \"col d-none d-lg-block nav-btn\" onClick ={e => this.props.downBtnScroll(e,'blog')}>\r\n                        blog\r\n                    </div>\r\n\r\n                    </Navbar>\r\n                    \r\n                    <div className = \"mt-3 row d-flex justify-content-end align-items-end\">\r\n                        <h1 className = \"col-10 col-md-6 col-lg-7 col-xl-6 slogan-hook\"> Extraordinary <br className =\"d-lg-block\"/> Custom <br className =\"d-lg-block\"/> Furniture</h1>\r\n                    </div>\r\n\r\n                    <div className = \"row d-flex justify-content-center\">\r\n                        <div className=\"down home\"  onClick ={(e) => this.props.downBtnScroll(e,'about')}/>\r\n                    </div>\r\n\r\n                </div>\r\n                    \r\n\r\n                <div className = \"landing-page-btns view-custom-btn\"\r\n                        onClick = {e=>this.props.handleView(e,\"custom\")}\r\n                    > \r\n                        Custom Order\r\n                </div>\r\n                                    \r\n                <div className = \"landing-page-btns view-catalog-btn\"\r\n                        onClick = {e=>this.props.handleView(e,\"catalog\")}\r\n                        >\r\n                        Existing Inventory\r\n                </div>\r\n                    \r\n                \r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home ;\r\n\r\n\r\n","import React from 'react';  \r\n\r\nclass About extends React.Component{\r\n\r\n    // constructor(props){\r\n    //     super(props)\r\n    //     this.state = {\r\n    //         downBtnTarget: {}\r\n    //     }\r\n    // }\r\n\r\n    // componentDidMount(){\r\n    //     const downBtnTarget = document.getElementById('gallery');\r\n    //     this.setState({downBtnTarget:downBtnTarget});\r\n    // }\r\n\r\n    render(){\r\n\r\n    \r\n        \r\n        return(\r\n            \r\n                this.props.isUserInteractingWithBlog\r\n                ?\r\n                null\r\n                :\r\n                <div ref = {this.aboutPage} id ='about' className = \"about-page\">\r\n                    <div className = \"up-btn\"></div>\r\n                    <div className = \"container sm-auto\">\r\n                        <div className = \"row d-flex justify-content-center\">\r\n                            <h1>About</h1>\r\n                        </div>\r\n                        \r\n                            <div className = \"row d-flex justify-sm-content-center justify-content-lg-start\">\r\n\r\n\r\n                                <p className =\"col-12 col-lg-7 mt-4 mt-lg-4 ml-lg-5\">\r\n                                    We love couches! We love when a couch is a fresh new play on an old theme, an homage to a classic, a truly original design or even a completely unassuming family room design that quietly does its job year after year like a well-loved hoodie.\r\n\r\n                                    We obsessively cultivate a diverse selection of sofas in every design genre. Pick one of our thoughtfully designed styles or work with us to come up with a new variation. We are custom builders in the truest sense of the word. Custom elsewhere can mean you get to choose blue instead of gray. At COUCH it means you design a sofa in your exact size, style and comfort specifications. If you like one of our styles but need it a little taller so it's easier to get out of, come chat.  If you have an awkward nook in your basement that you need to fill with a sectional made at exact dimensions, we're a sure bet. We are couch experts who really know our stuff!\r\n\r\n                                    {/* We believe in choice. From carrying the largest selection of fabrics and leathers in the city to showing three different species of wood for our legs, we pride ourselves on offering an industry leading range of options.  */}\r\n\r\n                                    {/* We also believe in customer service. We believe we have to if we’re going to be around for the long haul. We started in a basement in Fremont in 2008 and have grown into our 3000 square foot home on Ballard Avenue. We are a Seattle business to our core. With the proliferation of online competitors decimating traditional retail, we are thriving because we can offer a deeply considered experience from start to finish.  We are eager to help you find your perfect couch, chair or sectional! */}\r\n                                </p>\r\n                                \r\n                            </div>\r\n                        <div className = \"row d-flex justify-content-center\">                           \r\n                            <div className = \"down about\" onClick ={(e) =>this.props.downBtnScroll(e,'gallery')}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default About","const clientConfig = {\r\n    graphqlUrl: 'https://4michael1angelo5.wpcomstaging.com/graphql'\r\n};\r\nexport default clientConfig;","import  ApolloClient  from 'apollo-boost';\r\nimport clientConfig from './config/client-config';\r\n\r\n\r\n// Apollo GraphQL client.\r\nconst client = new ApolloClient({\r\n\t\turi: clientConfig.graphqlUrl,\r\n});\r\n\r\n\r\n\r\nexport default client;","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n\r\n\r\n  products(where: {category: \"Catalog\"}) {\r\n    nodes {\r\n      name\r\n      id\r\n      description\r\n      image {\r\n        sourceUrl\r\n      }\r\n      ... on SimpleProduct {\r\n        price\r\n        stockStatus\r\n        stockQuantity\r\n        purchasable\r\n        width\r\n        height\r\n        length\r\n        productId\r\n        productCategories(first: 5) {\r\n          nodes {\r\n            name\r\n          }\r\n        }\r\n        attributes {\r\n          nodes {\r\n            name\r\n            ... on LocalProductAttribute {\r\n              name\r\n              options\r\n            }\r\n          }\r\n        }\r\n        galleryImages(first: 6) {\r\n          edges {\r\n            node {\r\n              id\r\n              mediaItemUrl\r\n              sourceUrl\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n}`;\r\n\r\n\r\nconst getInitialProps = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.products.nodes )  : console.log(\"there doesn't seem to be any products here\")}\r\n    return (data.products.nodes )\r\n\r\n    };\r\n\r\n    export default getInitialProps\r\n","\r\n\r\nconst WooCommerceAPI = require('woocommerce-api');\r\nconst wooConfig = require('./config/wooConfig')\r\n\r\n \r\n  const WooCommerce= new WooCommerceAPI({\r\n    url:  wooConfig.siteUrl,\r\n    consumerKey: wooConfig.consumerKey,\r\n    consumerSecret: wooConfig.consumerSecret,\r\n    wpAPI: true,\r\n    version: 'wc/v1'\r\n  });    \r\n  \r\n   const getProducts = async ()=>  WooCommerce.getAsync(\"products\")\r\n\r\n      .then(response => {\r\n         return  JSON.parse(response.body)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data)\r\n      });  \r\n\r\n\r\nexport default getProducts;\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n\r\n    productCategories(where: {parent: 1371}) {\r\n        edges {\r\n          node {\r\n            name\r\n            description\r\n            image {\r\n              sourceUrl\r\n            }\r\n          }\r\n        }\r\n        nodes {\r\n          products(where: {categoryId: 1382}) {\r\n            edges {\r\n              node {\r\n                name\r\n                image {\r\n                  sourceUrl\r\n                }\r\n                productId\r\n                description\r\n                attributes{\r\n                  nodes{\r\n                    name\r\n                    options\r\n                  }\r\n                }\r\n                \r\n                productTags{\r\n                  nodes{\r\n                    name\r\n                  }\r\n                }                \r\n                ... on SimpleProduct { \r\n                  name\r\n                  price\r\n                  length\r\n                  height\r\n                  weight\r\n                  width\r\n                  purchasable\r\n                  stockStatus\r\n                  stockQuantity\r\n                  productCategories(first: 5) {\r\n                    nodes {\r\n                      name\r\n                    }\r\n                  }\r\n                  galleryImages {\r\n                    nodes {\r\n                      sourceUrl\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n}`;\r\n\r\n\r\nconst getCustomOrderProducts = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.productCategories)  : console.log(\"there doesn't seem to be any products here\")}\r\n    console.log(data)\r\n    return (\"getCustom Products\", data.productCategories)\r\n\r\n    };\r\n\r\n    export default getCustomOrderProducts\r\n","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n  productCategories(where: {parent: 1371}) {\r\n    \r\n    edges {\r\n      node {\r\n        databaseId\r\n        name\r\n        description\r\n        image{sourceUrl}\r\n        children(first: 6) {\r\n          edges {\r\n            node {\r\n              databaseId\r\n              name\r\n              contentNodes(first: 10) {\r\n                edges {\r\n                  node {\r\n                    ... on SimpleProduct {\r\n                      databaseId\r\n                      productId\r\n                      name\r\n                      price\r\n                      length\r\n                      height\r\n                      weight\r\n                      width\r\n                      purchasable\r\n                      stockStatus\r\n                      stockQuantity\r\n                      image{\r\n                        sourceUrl\r\n                      }                \r\n                      galleryImages{\r\n                        nodes{\r\n                          sourceUrl\r\n                        }\r\n                      }\r\n\r\n                      productTags {\r\n                        nodes {\r\n                          name\r\n                        }\r\n                      }\r\n\r\n                      attributes{\r\n                        nodes{\r\n                          name\r\n                          options\r\n                        }\r\n                      }\r\n                      \r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\n\r\nconst getCustomOrderTestProps = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.productCategories)  : console.log(\"there doesn't seem to be any products here\")}\r\n     console.log(\"test invoked before store component\",data.productCategories )\r\n    return (data.productCategories)\r\n\r\n    };\r\n\r\n    export default getCustomOrderTestProps\r\n\r\n","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n\r\n    products(where: {category: \"Table Legs\"}) {\r\n        nodes {\r\n               name\r\n               id\r\n               productId\r\n               description\r\n               image {\r\n                 sourceUrl\r\n               }\r\n               ... on SimpleProduct {\r\n                 price\r\n                 stockStatus\r\n                 stockQuantity\r\n                 purchasable\r\n                 width\r\n                 height\r\n                 length\r\n                 productCategories(first: 5) {\r\n                  nodes {\r\n                    name\r\n                  }\r\n                }\r\n                 attributes {\r\n                   nodes {\r\n                     name\r\n                     ... on LocalProductAttribute {\r\n                       name\r\n                       options\r\n                     }\r\n                   }\r\n                 }\r\n               }\r\n               galleryImages {\r\n                 nodes {\r\n                   sourceUrl\r\n                 }\r\n               }\r\n             }\r\n       }\r\n}`;\r\n\r\n\r\nconst getTableLegProducts = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.products.nodes )  : console.log(\"there doesn't seem to be any products here\")}\r\n    return (data.products.nodes )\r\n\r\n    };\r\n\r\n    export default getTableLegProducts\r\n","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n\r\n    products (where: {category: \"Shelf Mounting\"}) {\r\n        nodes {\r\n          name\r\n          id\r\n          productId\r\n          description\r\n          image {\r\n            sourceUrl\r\n          }\r\n          \r\n          ... on SimpleProduct {\r\n            price\r\n            stockStatus\r\n            stockQuantity\r\n            width\r\n            height\r\n            length\r\n            productCategories(first: 5) {\r\n              nodes {\r\n                name\r\n              }\r\n            }\r\n            attributes {\r\n              nodes {\r\n                name\r\n                ... on LocalProductAttribute {\r\n                  name\r\n                  options\r\n                }\r\n              }\r\n            }\r\n          }\r\n          galleryImages {\r\n            nodes {\r\n              sourceUrl\r\n            }\r\n          }\r\n        }\r\n      }\r\n}`;\r\n\r\n\r\nconst getMountingHardware = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.products.nodes )  : console.log(\"there doesn't seem to be any products here\")}\r\n    return (data.products.nodes)\r\n\r\n    };\r\n\r\n    export default getMountingHardware\r\n","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n\r\n  products(where: {category: \"Finishes\"}) {\r\n    edges {\r\n      node {\r\n        ... on SimpleProduct {\r\n          id\r\n          productId\r\n          databaseId\r\n          name\r\n          description\r\n          image{\r\n            sourceUrl\r\n          }\r\n            price\r\n            stockStatus\r\n            stockQuantity\r\n        }\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\n\r\nconst getFinishes = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.products.nodes )  : console.log(\"there doesn't seem to be any products here\")}\r\n     \r\n    return (data.products.edges)\r\n   \r\n\r\n    };\r\n\r\n    export default getFinishes\r\n","import React , { useState } from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\n\r\n\r\nconst GalleryModal = (props) => {\r\n  \r\n    const {className = \"gallery-modal\"} = props\r\n     \r\n      const title = props.product.name\r\n\r\n      const galleryImages = props.product.galleryImages.nodes ; \r\n\r\n      const toggle = props.toggle\r\n\r\n      const [activeImg , setImg] = useState(props.product.image.sourceUrl);\r\n\r\n  return(\r\n        <Modal center isOpen={props.modal} toggle={toggle} className={className}>\r\n            <ModalHeader toggle={toggle}> { title } </ModalHeader>\r\n            <ModalBody>\r\n\r\n               <img src = {activeImg} width = \"100%\"/>\r\n                <div className = \"row\">\r\n                {\r\n                    galleryImages.map( (item,index) => {\r\n                        return(\r\n                            <div key = {index} className = \"next-photo col-3\">\r\n                                <img onClick = {() => setImg(galleryImages[index].sourceUrl)} src = {item.sourceUrl} width = \"100%\"/>\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n            <Button color=\"primary\" onClick={toggle}>Do Something</Button>{' '}\r\n            <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n  );\r\n}\r\n\r\nexport default GalleryModal","import React , {useState} from 'react';\r\nimport AnimatedNumber from 'react-animated-number';\r\nimport {Input, Label, FormGroup , Tooltip ,  Collapse, Popover, Button} from 'reactstrap'\r\nimport  '../styles/customOrder.scss'\r\n// import {finishTypes} from '../shared/finishTypes'\r\nimport AddToCartButton from './cart/addToCart';\r\nimport GalleryModal from './modalComponent';\r\nimport renderHTML from 'react-render-html';\r\n\r\n\r\nconst SelectSeries=(props)=>{\r\n\r\n    // let orientation = props.orientation ; \r\n\r\n    // var grid = orientation === \"portrait\" ? \"col-12\" : \"col-6\"\r\n\r\n      console.log(\" props passed from store component \",props.testSeries)\r\n    return (\r\n        <React.Fragment>\r\n        <h4>Select Series</h4>\r\n\r\n     <div className = \"row\" >\r\n\r\n      {     props.testSeries.map( (item,index)=>{\r\n          return(\r\n\r\n              <div key = {index} className = \"mb-2 col-xs-12  col-sm-12 col-12 col-md-6 col-lg-6 col-xl-6\">\r\n                  <div className = \"store-content-step-description \">\r\n              \r\n              <div className = \"row\">\r\n              <div className = \"col-4 pr-0 d-flex align-items-center\">\r\n           \r\n              <div className = \"series-pic-frame\">\r\n              <img  src = {item.node.image.sourceUrl} width = \"100%\"   onClick = {(e)=>{props.renderSlabs(e,index)}}  ></img>\r\n            \r\n              \r\n              </div>\r\n              </div>\r\n           \r\n              <div className = \"col-8\">\r\n              <div className = \"series-title\"> {item.node.name}</div>\r\n             \r\n              <div className = \"series-description\">\r\n                {renderHTML(item.node.description)}\r\n              </div>\r\n              \r\n              </div>\r\n              </div>\r\n              </div>\r\n              </div>\r\n          )\r\n      })}\r\n      </div>\r\n    </React.Fragment>\r\n    );\r\n}\r\n\r\nconst SelectSlab = (props) =>{\r\n    \r\n    let orientation = props.orientation; \r\n\r\n    var grid = orientation === 'portrait' ? \"col-6\" : \"col-4\"\r\n\r\n    console.log(\"selectslab props\",props)\r\n\r\n    let products = props.activeProductsfromSeries; \r\n\r\n    console.log(\"products for this series are \",products)\r\n\r\n    let activeSeries  = props.activeSeries;\r\n    \r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n            <h4>\r\n                Select Cut from {activeSeries.name}\r\n            </h4>\r\n\r\n     \r\n            <div className = \"row\">\r\n    \r\n                    {\r\n                        products.map( (item,index) => {\r\n                        return(\r\n                            <div key ={index} className = {grid}>\r\n                                <div className = \"slab-title\">\r\n                                    {item.node.name}\r\n                                </div>\r\n                              \r\n                           <div className = \"slab-frame\">\r\n\r\n                           \r\n                           <img src = {item.node.image.sourceUrl} width =\"100%\"\r\n                            onClick = {e=>props.renderProduct(e,index)}/>\r\n                         \r\n                           </div>\r\n                           <div>\r\n                                {item.node.price}\r\n                            </div>\r\n                           \r\n                            </div>\r\n                        )\r\n                        })\r\n                    }\r\n\r\n            </div>\r\n           \r\n        </React.Fragment>\r\n    )\r\n}\r\nconst SelectCut = (props) =>{\r\n        \r\n    let orientation = props.orientation;\r\n    const product = props.activeProduct ; \r\n    var grid = orientation === \"portrait\" ? \"col-12 mt-2\" :\"col-6 mt-2\"\r\n    var statsGrid  = orientation === \"portrait\" ? \"col-12 mt-2\" :\"col-6 mt-2 pl-0\"\r\n    // var ContainerHeight = orientation === \"prtrait\" ? \"30vh\" : \"50vh\" ;  \r\n\r\n    var useType = [] ; \r\n    \r\n    console.log(\"selected Slab\", product )\r\n    product.productTags.nodes.forEach(element=> useType.push(element.name) )\r\n    let uses = useType.join(', ')\r\n\r\n\r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n     \r\n    \r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div className = \"row\">\r\n\r\n                <div className = {`cut-gallery ${grid}`}>\r\n\r\n                    <div className = \"row d-flex justify-content-center\">\r\n                        <h4 className =\"slab-name\">\r\n                            {product.name}\r\n                        </h4>\r\n                    </div>\r\n\r\n                    <img src = {props.activeImage ===null? product.image.sourceUrl : props.activeImage} width = \"100%\"\r\n                        onClick = {toggle}\r\n                        style = {{\r\n                            height: \"50vh\"\r\n                        }}\r\n                        />\r\n\r\n                    <GalleryModal  product = {product} modal = {modal} toggle = {toggle}/>\r\n\r\n                    <div className = \"container\">\r\n                        <div className = \"row justify-content-center\">\r\n                            {\r\n                                    product.galleryImages.nodes.map( (item,index) => {\r\n                                        return(\r\n                                            <div key = {index} className = \"col-3 no-padding\">\r\n                                                <div className= \"ammo\">\r\n                                                <img src = {item.sourceUrl} width = \"100%\"\r\n                                                onClick = { e => props.renderImage(e,index)}\r\n                                                />\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            \r\n     \r\n            \r\n            <div className = {statsGrid}>\r\n            <div className = \"row d-flex justify-content-center\">        \r\n                <h4 className = \"custom-product-price\">\r\n                    {product.price}\r\n                </h4>\r\n            </div>\r\n            <div className = \"container-fluid\">\r\n                   \r\n                   <div className = \"row stats-container\">\r\n                       <div className = \"col-8 pl-0\" style = {{\r\n                           borderRight : '1px solid #aba7a7'\r\n                       }}>\r\n                           <span className = \"spec-name\">DIMENSIONS</span>\r\n   \r\n                            <div className = \"row justify-content-around\">\r\n                                   <div className = \" spec-value text-right\">\r\n                                       <AnimatedNumber \r\n                                           className = \"spec-value\"\r\n                                           value={parseInt(product.length)}\r\n                                           style={{\r\n                                               transition: '0.8s ease-out',\r\n                                               transitionProperty:\r\n                                                   'background-color, color, opacity'\r\n                                           }}\r\n                                           duration={1500}\r\n                                           stepPrecision = {0}\r\n                                           /><span className = \"spec-unit-inches\">\"</span> \r\n                                           <span className = \"spec-unit-label\"> L </span>\r\n                                   </div>  \r\n                                   \r\n                                   <div className = \"spec-value  text-center\">\r\n   \r\n                                   <AnimatedNumber \r\n                                       className = \"spec-value\"\r\n                                        value={parseInt(product.width)}\r\n                                       style={{\r\n                                           transition: '0.8s ease-out',\r\n                                           transitionProperty:\r\n                                               'background-color, color, opacity'\r\n                                       }}\r\n                                       duration={1500}\r\n                                       stepPrecision = {0}\r\n                                       /><span className = \"spec-unit-inches\">\"</span> \r\n                                       <span className = \"spec-unit-label\"> W </span>\r\n                                   </div>  \r\n                                   \r\n                                   \r\n                                   <div className = \"spec-value text-start\">\r\n   \r\n                                   <AnimatedNumber \r\n                                       className = \"spec-value\"\r\n                                       value={parseInt(product.height)}\r\n                                       style={{\r\n                                           transition: '0.8s ease-out',\r\n                                           transitionProperty:\r\n                                               'background-color, color, opacity'\r\n                                       }}\r\n                                       duration={1500}\r\n                                       stepPrecision = {0}\r\n                                       /><span className = \"spec-unit-inches\">\"</span> \r\n                                       <span className = \"spec-unit-label\"> H </span>\r\n                                   </div>  \r\n                            </div>\r\n                       </div>\r\n   \r\n                       <div className = \"col-4\">\r\n                           <span className = \"spec-name\">AGE</span>\r\n                        \r\n                                   <div className = \"spec-item\">\r\n                                       {/* <span className= \"spec-value\">{`${product.attributes.nodes[0].options[0]}`}</span> */}\r\n   \r\n                                       <AnimatedNumber \r\n                                           className = \"spec-value\"\r\n                                           value={parseInt(product.attributes.nodes[0].options[0])}\r\n                                           style={{\r\n                                               transition: '0.8s ease-out',\r\n                                               transitionProperty:\r\n                                                   'background-color, color, opacity'\r\n                                           }}\r\n                                           duration={1500}\r\n                                           stepPrecision = {0}\r\n                                           />\r\n                                       <span className= \"spec-unit-label\">years old</span>\r\n                                   </div>\r\n   \r\n                       </div>\r\n   \r\n                   </div>\r\n   \r\n                   <div className = \"row stats-container\">\r\n                    <div className = \"col-6\">\r\n                          <span className = \"spec-name\">Species</span>\r\n                           <div className = \"\">\r\n                                {product.attributes.nodes[1].options}\r\n                           </div>\r\n                       </div>\r\n                       <div className = \"col-6\">\r\n                       <span className = \"spec-name\">USE</span>\r\n                           <div className = \"\">\r\n                                {uses}\r\n                           </div>\r\n                       </div>\r\n                    </div>\r\n   \r\n                   <div className = \"row stats-container\">\r\n                       \r\n                       <div className =\"col-6\">\r\n                           <FormGroup check>\r\n                               <Label check>\r\n                                   <Input type=\"checkbox\"/> \r\n                                   CUSTOM CUT\r\n                               </Label>\r\n                           </FormGroup>\r\n                       </div>\r\n                   </div>\r\n\r\n                   <AddToCartButton product = {product}/>\r\n              \r\n               </div>\r\n\r\n            </div>\r\n               \r\n          \r\n            </div>\r\n                     \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst SelectFinish = (props) => {\r\n          \r\n    let grid = props.orientation === 'portrait' ? 'col-12' : 'col-6';\r\n\r\n    let useDefaultFinish = props.defaultFinish ; \r\n    let finishTypes = props.finishTypes ;\r\n    let activeFinish = useDefaultFinish ? finishTypes[0] : props.activeFinish;\r\n\r\n    console.log(\"avialable finish types\",finishTypes)\r\n\r\n    \r\n    let activeFinishImage = useDefaultFinish ? finishTypes[0].node.image.sourceUrl: activeFinish.image.sourceUrl ; \r\n    let defaultFinishImage = props.finishTypes[0].node.image.sourceUrl;\r\n    let defaultFinishDescription = props.finishTypes[0].node.description;\r\n    let activeFinishDescription = activeFinish.description;\r\n\r\n    \r\n\r\n   \r\n    const [open,setDropdown] = useState(false); \r\n    \r\n    const toggle = () => {\r\n        setDropdown(!open) ;\r\n    }\r\n\r\n    const calculateSurfaceArea = () => {\r\n\r\n        console.log(props.activeProduct)\r\n\r\n        let product = props.activeProduct\r\n        \r\n        let width = product.width;\r\n        let height = product.height;\r\n        let length = product.length;\r\n\r\n        // calculate surface area return ft^2\r\n        let surfaceArea = Math.round((2*(width*height) + 2*(width*length) +2*(length*height) )/12); \r\n\r\n        return surfaceArea \r\n    }\r\n \r\n    return(\r\n        <React.Fragment>\r\n            Select Finish  \r\n\r\n        <div className = 'container-fluid select-finish-container'>\r\n            <div className = 'row'>\r\n\r\n                <div className = {grid}>\r\n\r\n                    <h4 className= \"finish-title\">\r\n                        {useDefaultFinish? finishTypes[0].node.name : activeFinish.name}\r\n                    </h4>\r\n                    \r\n                    <div className = \"finish-image-container cut-gallery\">\r\n                            <img src = {useDefaultFinish ? defaultFinishImage: activeFinishImage }></img>\r\n                    </div>\r\n                    \r\n                    <div className = \"select-finish-btn-group\">\r\n                        \r\n                        {finishTypes.map( (item,index)=>{\r\n                            return(\r\n                                <div key = {index} className = \"finish-btn\"\r\n                                    onClick = { e=>props.handleFinishSelect(e,index)}\r\n                                    style = {{backgroundImage: `url(${ item.node.image.sourceUrl})`}}\r\n                                    />\r\n                            );\r\n                        })}\r\n                    \r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n                <div className = {`${grid}`}>\r\n\r\n                    <h4 className = 'finish-title text-center'>\r\n                        {activeFinish.price}\r\n                    </h4>\r\n\r\n                    <AddToCartButton  surfaceArea = {calculateSurfaceArea()} product = {activeFinish}/>  \r\n                    \r\n                  \r\n                    <div className = \"col-12 mb-2 no-padding d-flex justify-content-start\">\r\n                    <div  onClick = {toggle} className={open?\"circle-plus closed opened\":\"circle-plus closed \" }>\r\n                        <div className=\"circle\">\r\n                            <div className=\"horizontal\"></div>\r\n                            <div className=\"vertical\"></div>\r\n                        </div>\r\n                    </div>\r\n                    DESCRIPTION\r\n                    </div>\r\n                    \r\n                    <Collapse isOpen = {open}>\r\n                        {/* <p className = 'm-2 p-2'> */}\r\n                        {/* Show the defualt finish image if the user hasn't selected a finish yet */}\r\n                        {useDefaultFinish ? renderHTML(defaultFinishDescription) : renderHTML(activeFinishDescription)}\r\n                        {/* </p> */}\r\n                    </Collapse>\r\n\r\n\r\n                \r\n\r\n                    \r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n   \r\n        \r\n        \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nconst SelectHardware = (props) => {\r\n\r\n    \r\n    let tableLegs = props.tableLegs ;\r\n    let mountingHardware = props.mountingHardware ;\r\n    let orientation = props.orientation ;\r\n\r\n    let activeHardwareProduct = props.activeHardwareProduct ;\r\n    let gallery = props.viewHardwareProduct?  activeHardwareProduct.galleryImages.nodes : null ;\r\n\r\n    const [open,setCollapse] = useState(false);\r\n\r\n    const toggleCollapse = () => setCollapse(!open)\r\n\r\n\r\n    \r\n    const [activeImg , setImg] = useState( props.viewHardwareProduct ? activeHardwareProduct.image.sourceUrl :false);\r\n   \r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n    const grid = orientation === \"portrait\" ? \"col-6\" : \"col-4\" ; \r\n    const gallery_grid = orientation === \"portrait\" ? \"col-12\" : \"col-6\" ;\r\n    const galleryAmmoBeltHeight = orientation === \"portrait\" ? \"10vh\" : \"10vh\" ; \r\n\r\n\r\n    console.log(\"Available Table Legs are : \",tableLegs);\r\n\r\n\r\n\r\n  return(\r\n\r\n\r\n      props.viewHardwareProduct\r\n\r\n      ? \r\n\r\n    //   if viewing a single hardware product\r\n\r\n        <React.Fragment>\r\n\r\n          \r\n            <div className = \"row pt-2\">  \r\n                <div className =  {gallery_grid}>\r\n                <h4 className = \"pt-2\">\r\n                {activeHardwareProduct.name}\r\n            </h4>\r\n                <img  src = {activeImg ? activeImg : activeHardwareProduct.image.sourceUrl } width = \"100%\"\r\n                 onClick = {toggle}/>\r\n                <div className = \"container\">\r\n                    <div className = \"row hardware-gallery\"\r\n                        style = {{\r\n                            height: galleryAmmoBeltHeight\r\n                        }}\r\n                        >\r\n                            {\r\n                                gallery.map( (img,index) => {\r\n                                    return(\r\n                                        <div key = {index} className = \"col-3 p-0 hardware-ammo\">\r\n                                            <img src = {img.sourceUrl} width = \"100%\" height= \"100%\"\r\n                                                  onClick = { () => setImg(img.sourceUrl)}\r\n                                            />\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            }\r\n                        \r\n                    </div>\r\n\r\n                </div>              \r\n                \r\n                </div>\r\n\r\n                <div className = {gallery_grid}>\r\n                    <h4 className = \"text-center pt-2\"> {activeHardwareProduct.price}</h4>\r\n\r\n                    \r\n                        <AddToCartButton product = {activeHardwareProduct}/>\r\n                     \r\n\r\n                    <div className = \"col-12 mb-2 no-padding d-flex justify-content-start\">\r\n                    <div  onClick = {toggleCollapse} className={open?\"circle-plus closed opened\":\"circle-plus closed \" }>\r\n                        <div className=\"circle\">\r\n                            <div className=\"horizontal\"></div>\r\n                            <div className=\"vertical\"></div>\r\n                        </div>\r\n                    </div>\r\n                    DESCRIPTION\r\n                    </div>\r\n                            \r\n                    <Collapse isOpen = {open}>\r\n                    {renderHTML(activeHardwareProduct.description)}\r\n                    </Collapse>\r\n\r\n                   \r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <GalleryModal\r\n               product = {activeHardwareProduct}\r\n               toggle = {toggle}\r\n               modal = {modal} \r\n               />\r\n\r\n\r\n            <div  className=\"brk-btn \" onClick ={ e =>props.handleNavigation(e,\"hardware\")}>\r\n                \r\n                back\r\n            </div>  \r\n    \r\n        </React.Fragment>\r\n      :\r\n\r\n    //   if viewing all hardware products\r\n\r\n        <React.Fragment>\r\n            <h4 className = \"hardware-category\">Table Legs</h4>\r\n            <div className = \" row hardware-products-container\">\r\n                {tableLegs.map((item,index)=>{\r\n                        return(\r\n                            <React.Fragment key = {index}>\r\n                                <div className = {`hardware-item  p-1 ${grid}`}>\r\n                                <div className = \"hardware-item-name\">{item.name}</div>\r\n                                <img src = {item.image.sourceUrl} width = \"100%\"\r\n                                onClick = {e=>props.renderHardwareProduct(e,index,\"table legs\")}\r\n                                />\r\n                                <div className = \"hardware-item-price\">{item.price}</div>\r\n                                </div>\r\n                                \r\n                            </React.Fragment>\r\n                        );\r\n                    })}\r\n            </div>\r\n            <h4 className = \"hardware-categor\"> Mounting Hardware </h4>\r\n            <div className = \"row hardware-products-container\">\r\n            {mountingHardware.map((item,index)=>{\r\n                        return(\r\n                            <React.Fragment key = {index}>\r\n                                <div className = {`hardware-item p-1 ${grid}`}>\r\n                                <div className = \"hardware-item-name\">{item.name}</div>\r\n                                <img src = {item.image.sourceUrl} width = \"100%\"\r\n                                onClick = {e=>props.renderHardwareProduct(e,index,\"mounting hardware\")}\r\n                                />\r\n                                <div className = \"hardware-item-price\">{item.price}</div>\r\n                                </div>\r\n                                \r\n                            </React.Fragment>\r\n                        );\r\n                    })}\r\n\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n  \r\n   \r\n}\r\n\r\n\r\nconst CustomOrderStep= (props)=>{\r\n\r\n    if (props.selectSeries){\r\n        \r\n        return(\r\n            <SelectSeries\r\n                orientation = {props.orientation}\r\n                series = {props.series}\r\n                renderSlabs = {props.renderSlabs}\r\n                testSeries = {props.testSeries}\r\n            /> \r\n            );        \r\n    }\r\n    else\r\n\r\n    if (props.selectSlab){\r\n\r\n        return( \r\n                <SelectSlab\r\n                activeProductsfromSeries = {props.activeProductsfromSeries}\r\n                activeSeries = {props.activeSeries}\r\n                orientation = {props.orientation}\r\n                renderProduct = {props.renderProduct}\r\n                />\r\n                );\r\n    }\r\n    else \r\n    if (props.selectCut){\r\n\r\n        return( \r\n                <SelectCut\r\n                activeImage = {props.activeImage}\r\n                activeProduct = {props.activeProduct}\r\n                orientation = {props.orientation}\r\n                renderImage = {props.renderImage}                \r\n                />\r\n                );\r\n    }\r\n    else\r\n    if (props.selectFinish){\r\n\r\n        return( \r\n                <SelectFinish\r\n                activeProduct = {props.activeProduct}\r\n                useDefaultFinishImage = {props.useDefaultFinishImage}\r\n                activeFinishImage = {props.activeFinishImage}\r\n                renderFinishImage = {props.renderFinishImage}\r\n                defaultFinish = {props.defaultFinish}\r\n                handleFinishSelect = {props.handleFinishSelect}\r\n                activeFinish = {props.activeFinish}\r\n                orientation = {props.orientation}\r\n                finishTypes = {props.finishTypes}\r\n                surfaceArea = {10}\r\n                />\r\n                );\r\n    }\r\n    else\r\n    if (props.selectHardware){\r\n        \r\n        return <SelectHardware\r\n                tableLegs = {props.tableLegs}\r\n                mountingHardware = {props.mountingHardware}\r\n                orientation = {props.orientation}\r\n                renderHardwareProduct = {props.renderHardwareProduct}\r\n                viewHardwareProduct = {props.viewHardwareProduct}\r\n                activeHardwareProduct = {props.activeHardwareProduct}\r\n                handleNavigation = {props.handleNavigation}\r\n                />\r\n    }\r\n    else return null\r\n\r\n}\r\n\r\nconst CustomOrderNav = (props) => {\r\n\r\n    const [slabTooltipOpen, setSlabTooltip] = useState(false);\r\n\r\n     const toggleSlabTooltip = (e,onBlur) => {\r\n        e.preventDefault()\r\n        if (onBlur){\r\n         setSlabTooltip(false);\r\n        }\r\n        else setSlabTooltip(!slabTooltipOpen);\r\n    }\r\n\r\n\r\n     const [seriesTooltipOpen, setSeriesTooltip] = useState(false);\r\n\r\n    const toggleSeriesTooltip = (e,onBlur) => {\r\n        e.preventDefault()\r\n        if (onBlur){\r\n        setSeriesTooltip(false);\r\n        }\r\n        else setSeriesTooltip(!seriesTooltipOpen);\r\n    }\r\n\r\n    \r\n\r\n    return(\r\n        <React.Fragment>\r\n\r\n            <div className = \"row d-flex justify-content-around custom-order-nav\">\r\n\r\n                \r\n                <div id = \"step1-select-series\" className = 'custom-order-nav-item' onClick = {props.handleStep}>\r\n                    Series\r\n                </div>\r\n\r\n                <div id = \"step2-select-slab\" className = \" custom-order-nav-item\"                        \r\n                        onClick= {props.activeSeries.length === 0? e => toggleSeriesTooltip(e):props.handleStep}\r\n                        >\r\n                    Slabs\r\n                </div>\r\n\r\n                <div className = \" custom-order-nav-item\"                           \r\n                        onClick= {props.activeProduct.length ===0? e=>toggleSlabTooltip(e) :props.handleStep}\r\n                        >\r\n                    Cut\r\n                </div>\r\n\r\n                <div className = \" custom-order-nav-item\" onClick= {props.handleStep}>\r\n                    Finish\r\n                </div>\r\n\r\n                <div className = \" custom-order-nav-item\" onClick = {props.handleStep} >\r\n                    Hardware\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className = \"custom-order-progress-bar active\"\r\n\r\n                style = {{transform: `translate(${props.translateAmount})`}}\r\n                >\r\n\r\n            </div>\r\n    \r\n \r\n                <Tooltip placement= 'bottom' trigger = \"legacy\" isOpen = {slabTooltipOpen}   toggle = {e=>toggleSlabTooltip(e,'focus')} target = \"step2-select-slab\" > \r\n                    <p>You Must Select Slab First</p>  \r\n                </Tooltip>\r\n\r\n                <Tooltip placement= 'bottom' trigger = \"legacy\"  isOpen = {seriesTooltipOpen} toggle = {e=> toggleSeriesTooltip(e,'focus')}   target=\"step1-select-series\">\r\n                    <p>You Must Select Series First</p> \r\n                </Tooltip>\r\n\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\n \r\n\r\nclass CustomOrderComponent extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n\r\n            translateAmount: \"calc(0% - 15px) , -44px\",\r\n           \r\n            activeImage: null , \r\n            activeProduct:[],\r\n            activeProductsfromSeries:[],  \r\n            activeSeries: [],\r\n\r\n            selectSeries: true, \r\n            selectCut:false,\r\n            selectSlab: false, \r\n            selectCut:false,\r\n            selectFinish:false,\r\n            selectHardware:false,\r\n\r\n            useDefaultFinishImage: true,\r\n            activeFinishImage: \"\",\r\n            activeFinish:[],\r\n            defaultFinish:true,\r\n\r\n            activeHardwareProduct: [],\r\n            viewHardwareProduct: false ,\r\n            targets__Xposition : {}\r\n\r\n        }\r\n        \r\n        this.handleStep =this.handleStep.bind(this);\r\n        this.renderSlabs = this.renderSlabs.bind(this);\r\n        this.renderProduct = this.renderProduct.bind(this);\r\n        this.renderImage = this.renderImage.bind(this); \r\n  \r\n        this.handleFinishSelect = this.handleFinishSelect.bind(this);\r\n        this.renderHardwareProduct = this.renderHardwareProduct.bind(this);\r\n        this.handleNavigation = this.handleNavigation.bind(this);\r\n\r\n        this.getNavTargetPostion = this.getNavTargetPostion.bind(this);\r\n        this.handleResize = this.handleResize.bind(this);\r\n    }\r\n\r\n    \r\n\r\n    handleFinishSelect(e,key){\r\n        this.setState({defaultFinish:false}); \r\n        this.setState({activeFinish:this.props.finishTypes[key]})\r\n    }\r\n\r\n    renderImage(e,key){\r\n        this.setState({activeImage:this.state.activeProduct.galleryImages.nodes[key].sourceUrl})\r\n    }\r\n\r\n    renderSlabs(e,key){\r\n        const testSlabs = this.props.testSeries[key].node.children.edges[0].node.contentNodes.edges\r\n        console.log(\"reder slabs test\",testSlabs)\r\n        this.setState({selectSeries: false});\r\n        this.setState({selectSlab:true});\r\n        this.setState({activeSeries : this.props.series[key].node});\r\n        this.setState({activeProductsfromSeries:testSlabs});\r\n        this.setState({translateAmount:`${this.state.targets__Xposition.slabs}px , -44px`})\r\n        // console.log(\"active series\",this.state.activeSeries,\"active products from series,\",this.state.activeProductsfromSeries)\r\n    }\r\n\r\n    renderProduct(e,key){\r\n             \r\n        this.setState({ selectSlab: false}) ;\r\n        this.setState({selectCut:true}); \r\n        const selectedSlab = this.state.activeProductsfromSeries[key].node\r\n        this.setState({activeProduct : selectedSlab})\r\n        this.setState({translateAmount:`${this.state.targets__Xposition.cut}px , -44px`})\r\n        \r\n        console.log(\"selected Slab\",this.state.activeProductsfromSeries[key].node)\r\n        \r\n    }\r\n\r\n    renderHardwareProduct(e,key,type){\r\n        this.setState({viewHardwareProduct:true});\r\n        if (type === \"mounting hardware\"){\r\n         this.setState({activeHardwareProduct : this.props.mountingHardware[key]})\r\n         console.log(this.props.mountingHardware[key])\r\n        }\r\n        else if(type === \"table legs\"){\r\n         this.setState({activeHardwareProduct : this.props.tableLegs[key]})\r\n         console.log(this.props.tableLegs[key])\r\n        }\r\n        else \r\n         console.log(\"bolts\")\r\n    }\r\n\r\n    handleNavigation(e,destination){\r\n        switch(destination){\r\n            case 'hardware':\r\n            this.setState({viewHardwareProduct:false})\r\n        }\r\n    }\r\n\r\n    getNavTargetPostion(){\r\n\r\n        const navElements = document.getElementsByClassName('custom-order-nav-item');   \r\n\r\n        const slider = document.getElementsByClassName('custom-order-progress-bar');\r\n\r\n         var sliderWidth = slider[0].getBoundingClientRect().width ;\r\n        \r\n        \r\n        // calculate the amount needed to translate the slider so that it lands on the step the user selects\r\n        //-15 for padding  \r\n        //sliderWidth/2 (center of slider)\r\n        //targetXs /2 (center of nav item) \r\n        \r\n        var targetXs = [] ;\r\n        [...navElements].forEach(el =>targetXs.push(el.getBoundingClientRect().x + el.getBoundingClientRect().width/2 - sliderWidth/2 -15 )); \r\n\r\n        var keys = ['series' , 'slabs' , 'cut', 'finish' , 'hardware'] ; \r\n      \r\n        var targets__Xposition = {} ;\r\n\r\n        keys.map( (key,index) => { (targets__Xposition[key] = targetXs[index]) } ) ;\r\n\r\n        console.log('targets__Xposition :',targets__Xposition)\r\n\r\n\r\n        this.setState({targets__Xposition:targets__Xposition})  \r\n    }\r\n\r\n    handleResize(){\r\n        this.state.selectSeries?\r\n        this.handleStep('Series'):\r\n        this.state.selectSlab?\r\n        this.handleStep('Slabs'):\r\n        this.state.SelectCut?\r\n        this.handleStep('Cut'):\r\n        this.state.SelectFinish?\r\n        this.handleStep('Finish'): \r\n        this.handleStep('Hardware')\r\n    }\r\n\r\n     \r\n\r\n\r\n\r\n    handleStep(e){\r\n         \r\n        const setStep =(step)=>{\r\n        switch (step){\r\n        case 'Series':\r\n            this.setState({selectSeries:true})\r\n            this.setState({selectSlab:false})\r\n            this.setState({selectCut:false})\r\n            this.setState({selectFinish:false})\r\n            this.setState({selectHardware:false})\r\n\r\n            this.setState({translateAmount:`${this.state.targets__Xposition.series}px , -44px`})\r\n\r\n        break\r\n        case 'Slabs':\r\n            this.setState({selectSeries:false})\r\n            this.setState({selectSlab:true})\r\n            this.setState({selectCut:false})\r\n            this.setState({selectFinish:false})\r\n            this.setState({selectHardware:false})\r\n            this.setState({activeImage:null})\r\n           \r\n            this.setState({translateAmount:`${this.state.targets__Xposition.slabs}px , -44px`})\r\n        break\r\n        case 'Cut':\r\n            this.setState({selectSeries:false})\r\n            this.setState({selectSlab:false})\r\n            this.setState({selectCut:true})\r\n            this.setState({selectFinish:false})\r\n            this.setState({selectHardware:false})\r\n           \r\n            this.setState({translateAmount:`${this.state.targets__Xposition.cut}px , -44px`})\r\n        break\r\n        case 'Finish':\r\n            this.setState({selectSeries:false})\r\n            this.setState({selectSlab:false})\r\n            this.setState({selectCut:false})\r\n            this.setState({selectFinish:true})\r\n            this.setState({selectHardware:false})\r\n\r\n            this.setState({translateAmount:`${this.state.targets__Xposition.finish}px , -44px`})\r\n        break\r\n        case 'Hardware' :\r\n            this.setState({selectSeries:false})\r\n            this.setState({selectSlab:false})\r\n            this.setState({selectCut:false})\r\n            this.setState({selectFinish:false})\r\n            this.setState({selectHardware:true})\r\n\r\n            this.setState({translateAmount:`${this.state.targets__Xposition.hardware}px , -44px`})\r\n            break\r\n        }\r\n     \r\n        \r\n\r\n    }\r\n    e.preventDefault()\r\n\r\n    if (e.type === 'click'){\r\n        var step = String(e.target.innerHTML);\r\n        console.log('click event occured: ' ,step)\r\n        setStep(step)\r\n       }\r\n       else {\r\n        console.log(\"not a click event :\" ,e);\r\n        setStep(e)\r\n       }\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount(){\r\n        this.getNavTargetPostion();  \r\n\r\n        window.addEventListener('resize',this.getNavTargetPostion);\r\n        // window.addEventListener('resize',this.handleResize)\r\n       console.log(this.props)\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('resize',this.getNavTargetPostion)\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n\r\n       \r\n  \r\n\r\n    return(\r\n        <div className = \"custom-order-app\">\r\n\r\n            <React.Fragment>\r\n                <CustomOrderNav\r\n                handleStep = {this.handleStep}\r\n                activeSeries = {this.state.activeSeries}\r\n                activeProduct = {this.state.activeProduct}\r\n                translateAmount = {this.state.translateAmount}\r\n                />\r\n            \r\n            {\r\n            this.props.loading \r\n            ? \r\n            <div className = \"loading-container\">\r\n                    <div className =\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\r\n            </div>\r\n            \r\n            :\r\n\r\n                <CustomOrderStep\r\n                orientation = {this.props.orientation}\r\n\r\n                selectSeries = {this.state.selectSeries}\r\n                selectSlab = {this.state.selectSlab}\r\n                selectCut = {this.state.selectCut}\r\n                selectFinish = {this.state.selectFinish}\r\n                selectHardware = {this.state.selectHardware}\r\n\r\n                series = {this.props.series}\r\n                renderSlabs = {this.renderSlabs}\r\n                activeSeries = {this.state.activeSeries}\r\n\r\n                activeProductsfromSeries = {this.state.activeProductsfromSeries}\r\n                activeProduct = {this.state.activeProduct}\r\n                renderProduct = {this.renderProduct}\r\n                activeImage = {this.state.activeImage}\r\n                renderImage = {this.renderImage}\r\n\r\n                finishTypes = {this.props.finishTypes}\r\n                defaultFinish = {this.state.defaultFinish}\r\n                activeFinish = {this.state.activeFinish}\r\n                handleFinishSelect = {this.handleFinishSelect}\r\n\r\n                tableLegs = {this.props.tableLegs}\r\n                mountingHardware = {this.props.mountingHardware}\r\n                renderHardwareProduct = {this.renderHardwareProduct}\r\n                viewHardwareProduct = {this.state.viewHardwareProduct}\r\n                activeHardwareProduct = {this.state.activeHardwareProduct}\r\n\r\n                handleNavigation = {this.handleNavigation}\r\n                \r\n                testSeries={this.props.testSeries}\r\n\r\n                \r\n\r\n                \r\n                />\r\n            }\r\n\r\n            </React.Fragment>\r\n\r\n          \r\n        </div>\r\n        );\r\n    };\r\n}\r\nexport default CustomOrderComponent; ","import React from 'react'; \r\nimport {Collapse } from 'reactstrap' ;\r\nimport { ScrollTo } from \"react-scroll-to\";\r\nimport deal from '../shared/icons/deal.png'\r\nimport conversation from '../shared/icons/conversation.png';\r\nimport chair from '../shared/icons/chair.png';\r\nimport compass from '../shared/icons/compass.png';\r\nimport shoppingCart from '../shared/icons/shopping-cart.png'\r\nimport getInitialProps from '../courier/graphQL-apollo';\r\nimport getProducts from '../courier/getProducts';\r\nimport getCustomProducts from '../courier/getCustomProducts';\r\nimport getCustomOrderTestProps from '../courier/getCustomTest';\r\nimport getTableLegProducts from '../courier/getTableLegProducts';\r\nimport getMountingHardware from '../courier/getMountingHardware';\r\nimport getFinishes from '../courier/getFinishes';\r\nimport renderHTML from 'react-render-html';\r\nimport AddToCartButton from './cart/addToCart';\r\nimport CustomOrderComponent from './customOrderComponent';\r\n\r\nconst storeContent = [\r\n    {\r\n        icon: conversation,\r\n        instructions:\" Contact Me. Head over to the contact section and fill out the custom orders form.\", \r\n        link:\"\"\r\n    },\r\n    {\r\n        icon: deal,\r\n        instructions:\"Contract. You send a request, I offer a quote and we strike a deal \", \r\n        link:\"\"\r\n        },\r\n    {\r\n        icon: chair,\r\n        instructions:\" Enjoy! Your custom order is shipped directly to you.\", \r\n        link:\"\"\r\n        }\r\n]\r\n\r\nconst storeInventory = [\r\n\r\n    {   \r\n        id: 0,\r\n        title: \"Karsten Coffee Table\",\r\n        price: \"$500\",\r\n        category: \"coffee tables\",\r\n        description: \"The Karsten coffee table offers versatile and charming style with rustic industrial materials. Crafted from natural wood and powder-coated steel, it boasts a large profile with two large drawers for storage.\", \r\n        images:[\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KAR-CT_001.jpg?v=1554923627\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KARSTEN_COFFEE_TABLE.jpg?v=1554923627\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KAR-CT_002.jpg?v=1554923627\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KAR-CT_003.jpg?v=1554923627\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KAR-CT_004.jpg?v=1554923627\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/S13_KAR-CT_005.jpg?v=1554923627\",\r\n                ],\r\n\r\n        details:\r\n                [{\r\n                    materials:\" Yo Mama's Couch\",\r\n                    finish: \" \" , \r\n                    dimensions: `24\"W x 22.5\"D x 40.7\"H` , \r\n                    shipping : \"\"               \r\n                }]\r\n               \r\n    },\r\n    {\r\n        id: 1,\r\n        title:\"Campel Media Stand\",\r\n        price: \"$799\",\r\n        category: \"media stands\",\r\n        description: \"When modern design comes together with rustic style, the result is the charming Campbell 81” media stand. Constructed of solid acacia in a weathered finish, with interlaced bent-planks, it also boasts a wire-brushed texture, incorporating the natural knots in the wood grain into the design. As a result, the drift wood look evokes a dreamy coastal vibe. Its three open cubbies, two spacious drawers and open lower shelf allow ample storage for all your equipment. The long, sleek body with angled, tapered legs bring modern touches to your decor while the sturdy, natural materials blend in the casual country feel and make this piece an impressive compliment to any room that becomes its home.\", \r\n        images:[\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/TP03_372-373-81MS_005B.jpg?v=1554620197\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/TP03_372-373-81MS_004B.jpg?v=1554620197\",\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n                ],\r\n        details:\r\n        [{\r\n            materials:\"Solid Acacia\",\r\n            finish: \" Weathered Acacia\" , \r\n            dimensions: `81\"w  x  18\"D  x  29\"H`, \r\n            shipping : \"\"               \r\n        }]\r\n    },\r\n    {\r\n        id: 2,\r\n        title:\"Chesterfield BookShelf\",\r\n        price: \"$699\",\r\n        category: \"bookshelf\",\r\n        description: \"Inspired by American modern design, the Mid-Century Wide Bookshelf borrows its slim legs and beveled edges from iconic '50s and '60s furniture silhouettes. Each piece is GREENGUARD-certified and made from sustainably-sourced wood in a Fair Trade Certified™ facility\", \r\n        images:[\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0226/mid-century-38-bookshelf-acorn-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0224/mid-century-38-bookshelf-acorn-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0194/mid-century-38-bookshelf-acorn-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0273/mid-century-38-bookshelf-acorn-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0097/mid-century-38-bookshelf-acorn-o.jpg\",\r\n            \"\",\r\n                ],\r\n        details:\r\n        [{\r\n            materials:\" Kiln-dried Acorn\",\r\n            finish: \"Water-Based Acorn\" , \r\n            dimensions: '38\"W x 15\"D x 70.25\"H', \r\n            shipping : \"\"               \r\n        }]\r\n    },\r\n    {\r\n        id: 3,\r\n        title:\"Mid-Century Round Expandable Dining Table\",\r\n        price: \"$699\",\r\n        category: \"table\",\r\n        description: \"Offering plenty of room to grow, our Mid-Century Expandable Round Dining Table seats four normally and six when extended, making it perfect for family meals and dinner parties alike. Its sturdy contract-grade frame is made from wood that's certified to Forest Stewardship Council® (FSC) standards.\", \r\n        images:[\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201932/0006/mid-century-round-expandable-dining-table-1-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201932/0005/mid-century-round-expandable-dining-table-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201936/0002/mid-century-round-expandable-dining-table-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201913/0001/classic-cafe-upholstered-dining-chair-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201936/0006/mid-century-round-expandable-dining-table-o.jpg\",\r\n            \"\",\r\n                ],\r\n        details:\r\n        [{\r\n            materials:\"Kiln-dried solid and engineered wood for extra durability.\",\r\n            finish: \" Walnut wood veneer over engineered wood.\" , \r\n            dimensions: '42-60\"W x  42\"D x 30.4\"H', \r\n            shipping : \"\"               \r\n        }]\r\n    },\r\n    {\r\n        id: 4,\r\n        title: \" Industrial Modular Storage\",\r\n        price: \"$699\",\r\n        category: \"shelf\",\r\n        description: \"Made from richly-grained solid mango wood and supported by blackened steel frames, our Industrial Modular Storage Collection combines form, function and versatility. It offers plenty of storage and shelving space, while its freestanding design means that you can easily pair it with other pieces in the collection to create a set that's right for you. The natural variations in mango wood make each piece subtly unique.\", \r\n        images:[\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0433/img61o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0188/industrial-modular-17-open-closed-storage-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0108/industrial-modular-49-desk-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0220/industrial-modular-open-closed-storage-shelves-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0041/build-your-own-industrial-modular-storage-o.jpg\",\r\n            \"https://www.westelm.com/weimgs/rk/images/wcm/products/201922/0019/build-your-own-industrial-modular-storage-o.jpg\",\r\n                ],\r\n        details:\r\n        [{\r\n            materials:\"Solid mango wood with natural color variations.\",\r\n            finish: \" \" , \r\n            dimensions: `17\"W x \" 17\"D x \" 84\"H`, \r\n            shipping : \"\"               \r\n        }]\r\n    },\r\n    {\r\n        id: 5,\r\n        title:\"Thorsten Desk\",\r\n        price: \"$279\",\r\n        category: \"\",\r\n        description: \"When you need a substantial amount of workspace the Thorsten 63” desk is an excellent option. Solid rubberwood legs in a light wood finish flare at a slight angle supporting the attractive top in a walnut wood grain finish. Its contrasting two-tone color palette adapts to many styles of decor, making it an easy choice as the key component for your office. Additional features incorporated into the design include an aluminum soft-closing cable organizer to conveniently arrange your computer or phone cables, as well as a matching modesty panel to complete the professional look.\", \r\n        images:[\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/P21_PX71675_001_7cab4713-741f-4534-a84a-bc4f5aa1158f.jpg?v=1554509623\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/P21_PX71675_002.jpg?v=1554509622\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/P21_PX71675_002_59a06f4b-50c9-4b12-a01d-b9436d8e3ec5.jpg?v=1554509622\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/P21_PX71675_003.jpg?v=1554509622\",\r\n            \"https://cdn.shopify.com/s/files/1/1920/4697/products/P21_PX71675_003.jpg?v=1554509622\",\r\n            \"\",\r\n                ],\r\n        details:\r\n        [{\r\n            materials:\"Fiberboard, Rubberwood, Melamine\",\r\n            finish: \"Walnut \" , \r\n            dimensions: '63\"W x 29.5\"D x 29.6\"H' , \r\n            shipping : \"\"               \r\n        }]\r\n    },\r\n]\r\n\r\nclass ProductView extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            activeFrame: Number ,\r\n            defaultView: true ,\r\n            \r\n            collapseDescription: false,\r\n            collapseDetails:false\r\n            \r\n        }\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.handleFocus = this.handleFocus.bind(this); \r\n    }\r\ntoggle(e,target) {\r\n    // console.log(this.props)\r\n    var height =  this.state.collapseDescription===true? 3*(window.innerHeight + 30)   :4*(window.innerHeight + 30) - 30 ;\r\n    // window.scrollTo({\r\n    //     top: height,\r\n    //     left: 0,\r\n    //     behavior: 'smooth'\r\n    //   });\r\n    target === \"description\" ?\r\n    this.setState(state => ({ collapseDescription: !state.collapseDescription })) \r\n    :   \r\n    \r\n    this.setState(state =>({ collapseDetails: !state.collapseDetails }));\r\n   \r\n      }\r\n      \r\nhandleFocus(e,index){\r\n    this.setState({defaultView:false})\r\n    this.setState({activeFrame:index})\r\n       \r\n    \r\n    \r\n    }\r\n\r\n     \r\n    render(){   \r\n\r\n        const product = this.props.item;\r\n        \r\n        console.log('product',product)\r\n        this.state.defaultView===false?console.log(product.galleryImages.edges[this.state.activeFrame].node):console.log(\"default view true\");\r\n        \r\n\r\n        return( \r\n            <React.Fragment>\r\n                <div className = {this.props.orientation === \"portrait\" ? \"col-12\" : \"col-6\" }>\r\n                    <h4 className = \"d-flex justify-content-center\">{product.name}</h4>\r\n                    {product.stockStatus === \"OUT_OF_STOCK\"? <div className = \"sold-badge\">SOLD</div>: null}\r\n                    <img width=\"100%\" src = {this.state.defaultView === true? product.image.sourceUrl: product.galleryImages.edges[this.state.activeFrame].node.mediaItemUrl } alt={product.name} />\r\n                    <div className = \"col-12 no-padding  d-flex justify-content-center\">\r\n                    {\r\n                      product.galleryImages.edges.map((image,index)=>{\r\n                          return(\r\n                              <div  key = {index} className = \"col-2 no-padding store-item-preview\">\r\n                              <img onClick = {e=>{this.handleFocus(e,index)}} height = \"100%\" width = \"100%\" src = {image.node.mediaItemUrl} alt = {`inventory-item-${index}`}/> \r\n                          </div>\r\n      \r\n                          )\r\n      \r\n                      })               \r\n                    }\r\n                  </div>\r\n                </div> \r\n\r\n            {/* PRODUCT DETAILS */}\r\n            \r\n                <div className = {this.props.orientation === \"portrait\" ?  \" col-12\" : \"col-6\"}>\r\n                    <h4 className=\"text-center\">{this.props.item.price}</h4>\r\n\r\n                  \r\n                    <AddToCartButton product = {product}/>\r\n\r\n                        <div className = \"col-12 mb-2 no-padding d-flex justify-content-start\">\r\n                            <div  onClick = {e=>this.toggle(e,\"description\")} className={this.state.collapseDescription?\"circle-plus closed opened\":\"circle-plus closed \" }>\r\n                                <div className=\"circle\">\r\n                                    <div className=\"horizontal\"></div>\r\n                                    <div className=\"vertical\"></div>\r\n                                </div>\r\n                            </div>\r\n                        DESCRIPTION\r\n                        </div>\r\n                        <Collapse isOpen={this.state.collapseDescription}>\r\n                            <div className = \"col-12 no-padding\">\r\n                                {renderHTML(product.description)}\r\n                            </div>\r\n                        </Collapse>\r\n\r\n\r\n                        <div className =  \"col-12 mb-2 no-padding d-flex justify-content-start\">\r\n                            <div  onClick = {e=>this.toggle(e,\"details\")} className={this.state.collapseDetails?\"circle-plus closed opened\":\"circle-plus closed \" }>\r\n                                <div className=\"circle\">\r\n                                    <div className=\"horizontal\"></div>\r\n                                    <div className=\"vertical\"></div>\r\n                                </div>\r\n                            </div>\r\n                        DETAILS + DIMENSIONS\r\n                        </div>\r\n                        <Collapse isOpen={this.state.collapseDetails}>\r\n                            <div className = \"col-12 no-padding\">\r\n                                <h6>MATERIALS</h6>\r\n                                {\r\n                                \r\n                                product.attributes !== null \r\n                                ?\r\n                                product.attributes.nodes.map( (item,index) => {\r\n\r\n                                    return(\r\n                                        <p key ={index}>\r\n                                            {item.name} : {item.options}\r\n                                        </p>\r\n\r\n                                    );\r\n                                })\r\n\r\n                    \r\n                                :\r\n                                null\r\n                                }\r\n                                \r\n                                <h6>DIMENSIONS</h6>\r\n                            <p>L {product.length}\" W {product.width}\"  H {product.height}\" </p>\r\n                            </div>\r\n                        </Collapse>\r\n\r\n                </div>\r\n                  \r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nclass ShopCatalouge extends React.Component{\r\n    \r\n    \r\n    \r\n\r\n    render(){\r\n\r\n    const products = this.props.products;        \r\n    var grid = this.props.orientation === \"portrait\" ? \"col-6\" : \"col-4\"\r\n    // var height = this.props.orientation === \"portrait\" ? \"26vh\" : \"50vh\" ; \r\n        return(\r\n            \r\n    this.props.catLoading \r\n    ?  \r\n    <div className = \"loading-container\">\r\n    <div className =\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\r\n    </div>\r\n    :       <div  className = \"row\">\r\n                \r\n \r\n                { \r\n                    this.props.viewProduct === false\r\n                    ? \r\n                    products.map((item,index)=>{\r\n                        return(\r\n                         \r\n                            <div key = {index} onClick = {e=>this.props.renderProductView(e,index)} \r\n                            className = {grid + \" catalouge-item\"}\r\n                            \r\n                                >\r\n                                <div className = \"inventory-container\">\r\n                                    {/* <div className = \"inventory-item\"\r\n                                        style ={{\r\n                                            backgroundImage: `url(${item.images[0]})`,\r\n                                            backgroundSize:\"cover\",\r\n                                            width:\"100%\" ,\r\n                                            height:height\r\n                                        }}\r\n                                        >\r\n\r\n                                    </div> */}\r\n                                    {item.stockStatus === \"OUT_OF_STOCK\"? <div className = \"sold-badge\">SOLD</div>: null}\r\n                                    <img width = \"100%\" src = {item.image.sourceUrl} alt = {`item-${index}`}></img>\r\n                                    <h4>{item.name}</h4>\r\n                                    <h5>{item.price}</h5>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                        );\r\n                        \r\n                    })\r\n                    :\r\n                    <ProductView orientation = {this.props.orientation} item = {products[this.props.activeItemId] } />\r\n                }\r\n     \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass CustomOrderInstructions extends React.Component{\r\n  \r\n    render(){\r\n        var height = this.props.orientation ===\"landscape\"? \"65vh\" : \"25vh\" ; \r\n        var margin = this.props.orientation ===\"landscape\"? \"0px\" : \"2vh\" ; \r\n        var iconPosition = this.props.orientation ===\"landscape\"? \"28%\" : \"5%\";\r\n    \r\n        return(\r\n            \r\n            <div className = \"store-content-step-description\"\r\n            style = {{\r\n                maxHeight: height,  \r\n                height: \"100%\",\r\n                marginBottom: margin,                               \r\n            }} >\r\n                <div className = \"row \">\r\n                {this.props.orientation===\"landscape\"? <h2 className = \"col-12\">{`Step ${this.props.index+1}`}</h2>:null}\r\n                    \r\n                \r\n                    <div className = {this.props.orientation ===\"landscape\"?\"col-12 \":\"col-4\"}>\r\n                        {this.props.orientation===\"landscape\"? null: <h2>{`Step ${this.props.index+1}`}</h2>}\r\n                        <img className = \"store-icons rounded-circle\" width = {this.props.orientation===\"landscape\"?\"40%\":\"100%\"}src = {this.props.item.icon} alt={this.props.item.icon}\r\n                        style={{\r\n                            position:\"relative\",\r\n                            left:iconPosition\r\n                        }}/>\r\n                    </div> \r\n                    <div className = {this.props.orientation ===\"landscape\"? \"col-12\" :\"col-8 d-flex align-items-center\"}>   \r\n                        <p>\r\n                            {this.props.item.instructions}\r\n                        </p>\r\n                    </div>\r\n                </div> \r\n          \r\n            </div>   \r\n        )\r\n    }\r\n}\r\n\r\nclass StoreOptions extends React.Component{\r\n    render(){\r\n        var grid = this.props.orientation === \"landscape\" ? \"col-6\" : \"col-12\";\r\n        var height = this.props.orientation === \"landscape\" ? \"75vh\" : \"35.5vh\";\r\n        var margin = this.props.orientation === \"landscape\" ? \"0vh\" : \"2vh\";\r\n        return(\r\n            <div className = \"store-options\" className = \"row  d-flex  justify-content-center store-content-container\"> \r\n                <div className = {grid}>\r\n                <div  onClick = { e=>this.props.handleView(e,\"catalog\")} className = \"store-content-step-description\"\r\n                        style = {{\r\n                            //  maxHeight: \"75vh\", \r\n                            // display:\"flex\",\r\n                            // flexWrap:\"wrap\",\r\n                            // alignContent:\"center\", \r\n                            height:height,\r\n                            marginBottom: margin,                               \r\n                        }} >\r\n                        \r\n                                    <h2> Shop Catalouge</h2>\r\n                                    <div className = \"row d-flex align-items-center justify-content-center\">\r\n                                    <img className = \"store-icons rounded-circle\" width = {this.props.orientation===\"landscape\"?\"60%\": \"40%\"} src = {shoppingCart} alt = \"shopping-cart\"></img>  \r\n                                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className = {grid}>\r\n                <div onClick = { e=>this.props.handleView(e,\"custom\")} className = \"store-content-step-description\"\r\n                        style = {{\r\n                            //  maxHeight: \"75vh\", \r\n                            // display:\"flex\",\r\n                            // flexWrap:\"wrap\",\r\n                            alignContent:\"center\", \r\n                            height:height,\r\n                            marginBottom: margin,                               \r\n                        }} >\r\n                        \r\n                                    <h2>Place a Custom  Order</h2>\r\n                                    <div className = \"row d-flex align-items-center justify-content-center\">\r\n                                    <img className = \"store-icons rounded-circle\" width = {this.props.orientation===\"landscape\"?\"60%\":\"40%\"}src = {compass} alt = \"compass\" ></img>\r\n                                    </div>\r\n                                    \r\n                    \r\n                            \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\nclass Store extends React.Component{\r\n\r\n    getInitialProps = getInitialProps.bind(this);\r\n    getProducts = getProducts.bind(this);\r\n    getCustomProducts = getCustomProducts.bind(this);\r\n    getCustomOrderTestProps = getCustomOrderTestProps.bind(this);\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            viewCustom: false,\r\n            viewCatalouge:false ,  \r\n            viewProduct:false , \r\n            activeItemId : Number ,\r\n            orientation:\"\",\r\n            swiped: false,\r\n            inventory: [],\r\n            tableLegs:[],\r\n            mountingHardware: [] , \r\n            finishTypes: [],\r\n            loading: true ,\r\n            catLoading:true \r\n            \r\n\r\n\r\n        }\r\n    this.renderProductView =this.renderProductView.bind(this);\r\n    this.backToCatalouge =this.backToCatalouge.bind(this);\r\n    // this.handleView = this.handleView.bind(this);\r\n    this.handleOrientation = this.handleOrientation.bind(this);\r\n    // this.revertView = this.revertView.bind(this);\r\n    // swipe left to right to back\r\n\r\n    this._onTouchStart = this._onTouchStart.bind(this);\r\n    this._onTouchMove = this._onTouchMove.bind(this);\r\n    this._onTouchEnd = this._onTouchEnd.bind(this);\r\n    this._swipe = {};\r\n    this.minDistance = 150;\r\n}\r\n\r\n\r\n\r\nrenderProductView(e,productID){\r\n    this.props.handleScrollableFocus()\r\n    this.setState({viewProduct:true})\r\n    this.setState({activeItemId:productID})\r\n   \r\n}\r\n\r\nbackToCatalouge(){\r\n    this.setState({viewProduct:false});\r\n    // return this.props.handleScrollableFocus()\r\n}\r\n\r\n// revertView(){\r\n    \r\n//     this.setState({viewCatalouge:false});\r\n//     this.setState({viewCustom:false});\r\n//     window.scrollTo(0,window.innerHeight*3+90)\r\n//     return this.props.handleScrollableFocus(this.props.isUserInteractingWithStore);\r\n    \r\n// }\r\n// handleView(e,param){\r\n\r\n//     this.props.handleScrollableFocus();\r\n//     param ===\"custom\"\r\n//     ?\r\n//     this.setState({viewCustom:true}) \r\n//     :\r\n//     this.setState({viewCatalouge:true})  \r\n// }\r\n\r\nhandleOrientation(){\r\n    if (window.innerWidth >= window.innerHeight) {\r\n        this.setState({orientation:\"landscape\"})  \r\n    }\r\n     else  {\r\n         this.setState({orientation:\"portrait\"})\r\n    }\r\n}\r\n\r\n// swipe left to right to go back\r\n\r\n_onTouchStart(e) {\r\n    const touch = e.touches[0];\r\n    this._swipe = { x: touch.clientX };\r\n    this.setState({ swiped: false });\r\n  }\r\n\r\n  _onTouchMove(e) {\r\n    if (e.changedTouches && e.changedTouches.length) {\r\n      const touch = e.changedTouches[0];\r\n      this._swipe.swiping = true;\r\n    }\r\n  }\r\n\r\n  _onTouchEnd(e) {\r\n    const touch = e.changedTouches[0];\r\n    const absX = (touch.clientX - this._swipe.x);\r\n    if (this._swipe.swiping && absX > this.minDistance ) {\r\n      this.props.onSwiped && this.props.onSwiped();\r\n      this.setState({ swiped: true });\r\n    //    window.alert(\"you just swiped 50px\")\r\n     this.state.viewProduct===true?this.backToCatalouge():this.props.revertView()\r\n    }\r\n    this._swipe = {};\r\n  }\r\n\r\ncomponentWillMount(){\r\n    this.handleOrientation()\r\n}\r\ncomponentDidMount(){ \r\n\r\n    // listen for resize events and change viewport state to either portrait or landscape \r\n    window.addEventListener(\"resize\",this.handleOrientation) \r\n\r\n    // get all products that appear in catalog\r\n    // @TODOs need to rename this function to something more descriptive \r\n    getInitialProps().then(result=>{\r\n\r\n        console.log('available products in catalog',result)\r\n         \r\n        this.setState({inventory:result})\r\n        this.setState({catLoading:false})\r\n\r\n    })\r\n\r\n    // get all products that appear in the custom section of store\r\n    // get all the \"series\" from which these products are children of\r\n    // @TODOS need to handle errors\r\n    getCustomProducts().then(result=>{\r\n             \r\n        const series = result.edges ; \r\n        const products = result.nodes; \r\n\r\n        this.setState({series:series}); \r\n        this.setState({products:products});\r\n\r\n        console.log(\"available series :\", series, 'all available products in series :', products)\r\n        this.setState({loading:false});\r\n        \r\n    })\r\n\r\n    // test for new syntax in getting series\r\n\r\n    getCustomOrderTestProps().then(result=>{\r\n             \r\n        const testSeries = result.edges ; \r\n        \r\n\r\n        this.setState({testSeries:testSeries}); \r\n         \r\n\r\n        console.log(\"test\",this.state.testSeries)\r\n       \r\n            \r\n    })\r\n\r\n    // get all the table leg products that appear in custom / hardware section\r\n    // @TODOS need to handle errors\r\n    getTableLegProducts().then(result=>{\r\n        \r\n        const tableLegs = result ; \r\n\r\n        this.setState({tableLegs : tableLegs})\r\n\r\n        \r\n    })\r\n    \r\n    // get all mounting hardware products that appear in custom /mounting hardware section\r\n    // @TODOS need to handle errors\r\n    getMountingHardware().then(result=>{\r\n        \r\n        const mountingHardware = result ; \r\n\r\n        this.setState({mountingHardware: mountingHardware })\r\n    })\r\n\r\n    // get all finish types that are available in the custom / finish section\r\n    // @TODOS need to handle errors\r\n    getFinishes().then(result => {\r\n\r\n        const finishTypes = result ; \r\n        console.log('available finish types: ', finishTypes)\r\n        this.setState({finishTypes:finishTypes});\r\n    })\r\n\r\n    \r\n}\r\n\r\ncomponentWillUnmount(){\r\n    window.removeEventListener(\"resize\",this.handleOrientation)\r\n}\r\nrender(){\r\n    var grid = this.state.orientation ===\"landscape\"? \"col-4\" : \"col-12\" ;\r\n    var margin = this.props.isUserInteractingWithStore ? '0px' : '30px';\r\n    return(\r\n        this.props.isUserInteractingWithBlog\r\n        ?\r\n        null\r\n        :\r\n        <div \r\n            id = \"store\"\r\n            className = \"store-page page\"\r\n            onTouchStart = {this._onTouchStart}\r\n            onTouchMove =  {this._onTouchMove}\r\n            onTouchEnd = {this._onTouchEnd}\r\n            // style = {\r\n            //     this.props.viewCatalog===true\r\n            //     ? \r\n            //     {minHeight:\"100vh\", height:\"100%\", marginBottom:'0px'}\r\n            //     :\r\n            //     {minHeight:\"100vh\",height:'100%',marginBottom:\"30px\"}\r\n            //         }\r\n                >\r\n\r\n            {\r\n                this.props.isUserInteractingWithStore\r\n                ?\r\n                this.props.viewCatalog ? <h1 className= \"store-page-title page-title\">Catalog</h1> : null\r\n                :\r\n                <h1 className= \"store-page-title page-title\">Store</h1>\r\n\r\n            }\r\n                \r\n              \r\n               <div className = \"container-fluid\"\r\n               \r\n            //    style = {{paddingTop:\"80px\"}}\r\n               >   \r\n                {(this.props.viewCatalog===false && this.props.viewCustom===false) \r\n\r\n                ? \r\n                \r\n                <StoreOptions \r\n                handleView = {this.props.handleView} \r\n                orientation = {this.state.orientation}\r\n                /> \r\n                \r\n                : \r\n                \r\n                this.props.viewCustom   \r\n                \r\n                ? \r\n         \r\n                <CustomOrderComponent\r\n                    series = {this.state.series}\r\n                    products = {this.state.products}\r\n                    orientation = {this.state.orientation}\r\n                    tableLegs = {this.state.tableLegs}\r\n                    mountingHardware = {this.state.mountingHardware}\r\n                    finishTypes = {this.state.finishTypes}\r\n                    loading = {this.state.loading}   \r\n                    testSeries = {this.state.testSeries}\r\n                     \r\n                    />\r\n                :\r\n                <ShopCatalouge \r\n                    products = {this.state.inventory} \r\n                    orientation = {this.state.orientation} \r\n                    renderProductView={this.renderProductView} \r\n                    viewProduct = {this.state.viewProduct} \r\n                    activeItemId={this.state.activeItemId}\r\n                    catLoading = {this.state.catLoading}\r\n                    />\r\n\r\n               }\r\n               </div> \r\n               {\r\n                   (this.props.viewCatalog ===true )?\r\n\r\n        \r\n                         <div onClick = {this.state.viewProduct ===true ? this.backToCatalouge : this.props.revertView } className=\"brk-btn store-back-btn\"\r\n                         style = {this.props.viewCatalog?{top:\"-10px\" , left: \"calc(100% - 125px)\" }:{top:\"10px\", left: \"calc(100% - 125px)\" }}>\r\n                             back\r\n                     </div>                \r\n                :\r\n                null\r\n                }\r\n\r\n          {this.props.viewCatalog || this.props.viewCustom\r\n          ?\r\n          null\r\n          :\r\n          <div className = \"row d-flex justify-content-center\">\r\n          \r\n            <div className = \"down store\" onClick ={(e) => this.props.downBtnScroll(e,'contact')}/>\r\n              \r\n          </div>\r\n          }\r\n\r\n        </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default Store","import React  from 'react';\r\nimport {Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport { ScrollTo } from \"react-scroll-to\";\r\n\r\n \r\n\r\nclass Contact extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            orientation : \"\",\r\n             \r\n        }\r\n        this.handleOrientation = this.handleOrientation.bind(this);\r\n    }\r\n\r\n    handleOrientation(){\r\n        if (window.innerWidth >= window.innerHeight) {\r\n            this.setState({orientation:\"landscape\"})  \r\n        }\r\n         else  {\r\n             this.setState({orientation:\"portrait\"})\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.handleOrientation()\r\n    }\r\n    componentDidMount(){\r\n        window.addEventListener(\"resize\",this.handleOrientation)\r\n       \r\n    }\r\n        \r\n    render(){\r\n        var grid = this.state.orientation === \"portrait\" ? \"col-12 pt-3\" : \"col-6\" ; \r\n        var row =  this.state.orientation === \"portrait\" ? \"row\" : \"d-flex flex-row-reverse pt-3\";\r\n        return(\r\n\r\n            this.props.isUserInteractingWithStore || this.props.isUserInteractingWithBlog\r\n            ?\r\n            null\r\n            :\r\n            <React.Fragment>\r\n\r\n                    <div id = 'contact' className= \"contact-page\">\r\n                        <div className = \"container-fluid\">\r\n                        \r\n\r\n                            <h1 className =\"text-center contact-header\"> Contact </h1>\r\n\r\n                            <div className = {row} >\r\n                            <div className = {grid}>\r\n                                <p>\r\n                                    Have an idea for that perfect center piece kitchen dinning table?  Looking for the right shelf to complete your industrial minimalist office or study room? I wanna hear about it!\r\n                                    Please fill out this form and I will get back to you as soon as I can. Thank You!\r\n                                </p>                        \r\n                            </div> \r\n                            <div className = {grid}>\r\n                                <Form>\r\n                                    <FormGroup>\r\n                                    <Label for=\"name\">Name</Label>\r\n                                    <Input type=\"name\" name=\"name\" id=\"name\" placeholder=\"Name\" />\r\n\r\n                                    <Label for=\"email\">Email</Label>\r\n                                    <Input type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" />\r\n\r\n                                    <Label for=\"phone\">Phone</Label>\r\n                                    <Input type=\"phone\" name=\"phone\" id=\"phone\" placeholder=\"Phone\" />\r\n\r\n\r\n                                    </FormGroup>\r\n\r\n                                    <FormGroup>\r\n                                        <Label for=\"message\">Message</Label>\r\n                                        <Input type=\"textarea\" name=\"message\" id=\"message\" />\r\n                                    </FormGroup>\r\n                                    <div className = \"text-center send-btn\">\r\n                                        SEND\r\n                                    </div>\r\n                                </Form>\r\n                            </div>\r\n\r\n\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                        <div className = \"row d-flex justify-content-center\">\r\n                        <ScrollTo>\r\n                            {({ scroll }) => (\r\n                                <div className = \"down contact\"  onClick = {(e)=>this.props.downBtnScroll(e,'checkout') }/>\r\n                                )}\r\n                            </ScrollTo>\r\n                                \r\n\r\n                        </div>\r\n                    </React.Fragment>\r\n         \r\n        );\r\n    }\r\n}\r\n\r\nexport default Contact ","import React from 'react'\r\nimport CheckOutPage from './cart/CheckOut';\r\nimport { Elements } from 'react-stripe-elements';\r\n\r\nclass CheckOut extends React.Component{\r\n\r\n\r\n\r\n    render(){\r\n        return(\r\n            this.props.isUserInteractingWithBlog\r\n            ?\r\n            null\r\n            :\r\n            <Elements>\r\n                <div id = \"checkout\" className = \"checkout-page\">\r\n                    <div className = \"container-fluid\">\r\n                        \r\n                        <div className = \"row d-flex justify-content-center\">\r\n                            <h1>Check Out</h1>                    \r\n                        </div>\r\n\r\n                        <CheckOutPage/>\r\n                    \r\n                    </div>\r\n                </div>\r\n             </Elements>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default CheckOut","export const GALLERY = [\r\n    { \r\n    id: 0,\r\n    title:'Grey Table',\r\n    image: '/assets/images/greyTable.jpg',\r\n    description:'Awesome table I made.'\r\n    },\r\n    { \r\n    id: 1,\r\n    title:'Walk on The Beach',\r\n    image: '/assets/images/aboutPic.jpg',\r\n    description:'Walk on the Beach with my dog Moch on a simple mission to enjoy life and make great custom wooden furniture'                                        \r\n    },\r\n    { \r\n    id: 2,\r\n    title:'Live Edge Shelf',\r\n    image: '/assets/images/gallery1.jpg',\r\n    description:'Lacquer finish live-edge cedar shelf.'                    \r\n    },\r\n    { \r\n    id: 3,\r\n    title:'New Slab',\r\n    image: '/assets/images/gallery2.jpg',\r\n    description:'Cuttin a new slab of wood from some old growth cedar for what will soon be an awesome table!  '                    \r\n    },\r\n    { \r\n    id: 4,\r\n    title:'Precision',\r\n    image: '/assets/images/gallery3.jpg',\r\n    description:'Taking measurements for a client on a table.'                    \r\n    },\r\n    { \r\n    id: 5,\r\n    title:'Live Edge Shelf',\r\n    image: '/assets/images/gallery4.jpg',\r\n    description:'Lacquer finish live-edge cedar shelf.'\r\n    //description: 'Everyday carry affogato poke bicycle rights freegan. Mixtape coloring book leggings asymmetrical gastropub distillery trust fund single-origin coffee subway tile hot chicken dreamcatcher. Swag poutine church-key migas banh mi. Williamsburg XOXO tacos knausgaard fam pork belly wayfarers vape waistcoat heirloom raclette sriracha cornhole gochujang. Bitters pug butcher, tilde small batch vinyl raclette bicycle rights helvetica enamel pin tote bag put a bird on it portland mixtape. Art party bespoke gentrify, lo-fi keffiyeh cornhole helvetica four loko succulents blue bottle XOXO cold-pressed DIY. Gochujang banjo fashion axe direct trade stumptown, mustache craft beer taxidermy pug la croix street art kogi mixtape meggings glossier.'\r\n    },\r\n\r\n\r\n];","import React from 'react' ;\r\nimport lozad from 'lozad' ;\r\n\r\nclass Frame extends React.Component{\r\n    constructor(props){\r\n    super(props);\r\n    this.observer = lozad();\r\n        this.state ={\r\n            isClicked:false,\r\n            \r\n        }\r\n        this.handleClick = this.handleClick.bind(this)\r\n    }\r\n\r\n\r\n    handleClick(){\r\n     \r\n        this.props.handleFocus(this.props.item.id)\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.observer.observe();\r\n    }\r\n\r\n    render(){\r\n        var width  =  this.props.activeFrameIsOpen?(this.props.orientation === \"landscape\"? \"16.667vw\" : \"16.5vw\") :(this.props.orientation === \"landscape\"? \"33vw\" : \"50vw\") ;\r\n        var height = this.props.activeFrameIsOpen? (this.props.orientation === \"landscape\"? \"20vh\" : \"15.667vh\"):(this.props.orientation === \"landscape\"? \"50vh\" : \"33vh\" ) ;\r\n        var grid =  this.props.activeFrameIsOpen? (this.props.orientation === \"landscape\"? \"col-2 no-padding\" : \"col-2 no-padding\"):(this.props.orientation === \"landscape\"? \"col-4 no-padding\" : \"col-6 no-padding\");\r\n        return(\r\n            \r\n            <div  className =  {grid}>\r\n                <div  onClick = {this.handleClick} className = \" lozad hvr-sweep-to-right d-flex justify-content-center align-items-end gallery-frame\"\r\n                      data-background-image= {process.env.PUBLIC_URL + this.props.item.image} style = {{\r\n                                    width:  width,\r\n                                    height:  height, \r\n                                    backgroundColor: \"white\", \r\n                                    // backgroundImage:  `url(${this.props.item.image})`,\r\n                                }}>\r\n                          {this.props.activeFrameIsOpen? \r\n                          null  :         \r\n                        <h1  className = \" w-100  justify-content-center align-items-center \">\r\n                            {this.props.item.title}\r\n                        </h1>     \r\n                          }  \r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nclass ActiveFrame extends React.Component{\r\n\r\nrender(){\r\n    var width  =   (this.props.orientation === \"landscape\"?\"50vw\":\"100vw\");\r\n    var height  =  (this.props.orientation === \"landscape\"?\"80vh\":\"50vh \"); \r\n    var   grid  =  this.props.orientation ===\"landscape\"?\"col-6 no-padding\":\"col-12 no-padding\";\r\n    return(\r\n                <div className = {grid}>                   \r\n                    <div  className = \" hvr-sweep-to-right  d-flex justify-content-center align-items-end gallery-frame\"\r\n                        style = {{\r\n                                    width:  width,\r\n                                    height:  height, \r\n                                    backgroundColor: \"white\", \r\n                                    backgroundImage:  `url(${process.env.PUBLIC_URL + this.props.item.image})`,\r\n                                }}>\r\n                       \r\n                        <h1  className = \" w-100  justify-content-center align-items-center \">\r\n                        {this.props.item.title}\r\n                        </h1>           \r\n                    </div>\r\n                </div>        \r\n            )\r\n        }\r\n}\r\n\r\nclass ActiveFrameDesciption extends React.Component{\r\n\r\n    render(){\r\n     //   var width  =   (this.props.orientation === \"landscape\"?\"50vw\":\"100vw\");\r\n       // var height  =  (this.props.orientation === \"landscape\"?\"100vh\":\"50vh \"); \r\n        var   grid  =  this.props.orientation ===\"landscape\"?\"col-6 \":\"col-12 no-padding \";\r\n        return(\r\n            <div className  = {`${grid}`} >\r\n                <div className = \"description-card\">\r\n                    <p \r\n                    style = {{color:\"black\",\r\n                            padding:\"3px\",\r\n                            height:\"30vh\"\r\n                     }}>\r\n                        {this.props.item.description}\r\n                    </p>\r\n                    </div>\r\n                    <div className=\"brk-btn\" onClick = {this.props.returnView}>\r\n                        back\r\n                    </div> \r\n                    \r\n            </div>\r\n            \r\n        )\r\n\r\n    }\r\n\r\n}\r\nclass Slide extends React.Component { \r\n   \r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            orientation : \"\", \r\n            activeItem : [false,false,false,false,false,false]  ,\r\n                  \r\n        }\r\n        this.handleOrientation = this.handleOrientation.bind(this);\r\n        this.handleFocus = this.handleFocus.bind(this);    \r\n        this.returnView = this.returnView.bind(this);\r\n        this.checkActiveFrame = this.checkActiveFrame.bind(this);\r\n    }\r\n\r\n\r\n    returnView(){\r\n        this.setState({activeItem:[false,false,false,false,false,false]})\r\n    }\r\n\r\n    handleFocus(id){\r\n        var newArray = [] ; \r\n        for (var i = 0 ; i< this.props.content.length ; i++) {\r\n\r\n            newArray.push(i === id ? true : false)\r\n        }\r\n        this.setState({activeItem:newArray})\r\n    }\r\n\r\n    handleOrientation(){\r\n        if (window.innerWidth >= window.innerHeight) {\r\n            this.setState({orientation:\"landscape\"})  \r\n        }\r\n         else  {\r\n             this.setState({orientation:\"portrait\"})\r\n        }\r\n    }\r\n\r\n    checkActiveFrame(array){\r\n        \r\n        if (array.findIndex((arg)=>arg===true)===-1){\r\n            return false\r\n        }\r\n        else\r\n        //return index of activeFrame\r\n        \r\n        return array.findIndex((arg)=>arg===true)\r\n       \r\n    }\r\n    componentWillMount(){\r\n        this.handleOrientation()\r\n    }\r\n    componentDidMount(){\r\n        \r\n        window.addEventListener(\"resize\",this.handleOrientation)\r\n\r\n    }\r\n\r\n\r\n  \r\n\r\nrender(){\r\n  \r\n    return(\r\n        <React.Fragment>\r\n            <div id = \"gallery\" className = \"gallery-page container-fluid\">\r\n                <h1 className = {this.checkActiveFrame(this.state.activeItem)===false? \"mt-2 gallery-header\":\"d-none\"}>Gallery</h1>\r\n                <div className = \" row d-flex justify-content-center\"> \r\n                    {this.checkActiveFrame(this.state.activeItem) ===false?null: <ActiveFrame returnView = {this.returnView} orientation = {this.state.orientation} item={this.props.content[this.checkActiveFrame(this.state.activeItem)]}/>}          \r\n                    {this.checkActiveFrame(this.state.activeItem) ===false?null: \r\n                    <ActiveFrameDesciption returnView = {this.returnView} orientation = {this.state.orientation} item={this.props.content[this.checkActiveFrame(this.state.activeItem)]}></ActiveFrameDesciption>}          \r\n                    \r\n              \r\n                    {this.props.content.map((item,index)=>{\r\n                        return (\r\n                        <Frame  key ={index} item = {item} orientation = {this.state.orientation} handleFocus = {this.handleFocus} activeFrameIsOpen ={this.checkActiveFrame(this.state.activeItem)===false?false:true} isActive={this.state.activeItem[index]} />                                             \r\n                                )\r\n                    })\r\n                    }\r\n                    \r\n                 \r\n                </div>\r\n            </div>\r\n            \r\n        </React.Fragment>\r\n        \r\n    )\r\n\r\n}\r\n}\r\n\r\nexport default Slide\r\n","import React, { Component } from 'react';\r\nimport { CarouselItem} from 'reactstrap';\r\n\r\n\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport AwsSliderStyles from 'react-awesome-slider/src/styles';\r\n\r\nimport {GALLERY} from '../shared/galleryContent'\r\nimport Slide from './slideComponent'\r\n\r\nconst items = [\r\n  {\r\n    src: 'data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_15ba800aa1d%20text%20%7B%20fill%3A%23555%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_15ba800aa1d%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22285.921875%22%20y%3D%22218.3%22%3EFirst%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E',\r\n    altText: 'Slide 1',\r\n    caption: 'Slide 1'\r\n  },\r\n  {\r\n    src: 'data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_15ba800aa20%20text%20%7B%20fill%3A%23444%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_15ba800aa20%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23666%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22247.3203125%22%20y%3D%22218.3%22%3ESecond%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E',\r\n    altText: 'Slide 2',\r\n    caption: 'Slide 2'\r\n  },\r\n  {\r\n    src: 'data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_15ba800aa21%20text%20%7B%20fill%3A%23333%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_15ba800aa21%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23555%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22277%22%20y%3D%22218.3%22%3EThird%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E',\r\n    altText: 'Slide 3',\r\n    caption: 'Slide 3'\r\n  }\r\n];\r\n\r\nclass Slider extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n         content : GALLERY,\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return(\r\n      <div id = \"gallery\">\r\n        <AwesomeSlider  cssModule={AwsSliderStyles}>\r\n        <div>\r\n        <Slide content = {this.state.content}/>\r\n        </div>\r\n        <div>\r\n        <Slide content = {this.state.content}/>\r\n        </div>\r\n        <div>\r\n        <Slide content = {this.state.content}/>\r\n        </div>\r\n      </AwesomeSlider>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n  \r\n\r\nclass Gallery extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n         content : GALLERY,\r\n          \r\n    };\r\n  }\r\n\r\n\r\n  onExiting() {\r\n    this.animating = true;\r\n  }\r\n\r\n  onExited() {\r\n    this.animating = false;\r\n  }\r\n\r\n \r\n  render() {\r\n  \r\n     items.map((item,index) => {\r\n      return (\r\n        <CarouselItem\r\n          onExiting={this.onExiting}\r\n          onExited={this.onExited}\r\n          key={item.src}>\r\n            <Slide   content = {this.state.content} key = {index}/>\r\n        </CarouselItem>\r\n      );\r\n    });\r\n\r\n    return (\r\n\r\n      this.props.isUserInteractingWithBlog\r\n      ?\r\n      null\r\n      :\r\n        <React.Fragment>\r\n          <Slider/> \r\n          <div className = \"row d-flex justify-content-center\">\r\n              <div className = \"down gallery\" onClick ={(e) =>this.props.downBtnScroll(e,'store')}/>\r\n          </div>\r\n        </React.Fragment>\r\n   \r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Gallery;","import gql from 'graphql-tag';\r\nimport client from \"./ApolloClient\"\r\n\r\nconst PRODUCTS_QUERY =gql`query{\r\n    posts {\r\n        nodes {\r\n          title\r\n          content\r\n          date\r\n          featuredImage{\r\n            mediaItemUrl\r\n          }\r\n          comments {\r\n            nodes {\r\n              content\r\n              date\r\n              author {\r\n                ... on CommentAuthor {\r\n                  name\r\n                }\r\n              }\r\n              \r\n            }\r\n          }\r\n        }\r\n      }\r\n}`;\r\n\r\n\r\nconst getPosts = async () => {\r\n    const {loading,error,data} = await client.query({query:PRODUCTS_QUERY});\r\n    // {loading?console.log(\"loading...\"): console.log(\"loaded successfully\")}\r\n    // {error?console.log(\"sorry there seems to be an error\"):console.log(\"No errors retrieving data!\")}\r\n    // {data  ? console.log(data.products.nodes )  : console.log(\"there doesn't seem to be any products here\")}\r\n    return (data.posts.nodes )\r\n\r\n    };\r\n\r\n    export default getPosts\r\n","import React , {useState} from 'react';\r\nimport getPosts from '../courier/getPosts'\r\nimport renderHTML from 'react-render-html'; \r\nimport '../styles/blogComponent.scss'; \r\nimport tree from '../shared/icons/tree.png';\r\n\r\n\r\n\r\nconst BlogLandingPage = (props) =>{\r\n    return(\r\n    \r\n        <div  id = \"blog\" className = \"page blog-landing-page\">\r\n            <h1 className= \"page-title\">\r\n                Blog\r\n            </h1>\r\n\r\n            <div className= \"blog-card\" onClick = {props.toggleBlog}>\r\n\r\n                    <div className= \"row\">\r\n                    <div className = \"col-12\">\r\n                    <p>\r\n                        Come follow all the exciting updates and check out my latest projects!<br/>\r\n                    </p>\r\n                    </div>\r\n\r\n                    <div className = \"col-12 d-flex justify-content-end\">\r\n                        \r\n                    <p>TAKE ME THERE  </p>  <div className = \"right-arrow\"></div>\r\n\r\n                    </div>\r\n                    </div>\r\n\r\n            </div>\r\n\r\n            <div className= \"row d-flex justify-content-center\">\r\n            <div className = \"down blog\" onClick = {e => props.downBtnScroll(e,'store')} >\r\n            </div>\r\n            </div>\r\n\r\n        </div> \r\n    );\r\n}\r\n\r\nconst BlogHeader = (props) =>{\r\n    return(\r\n        <React.Fragment>\r\n                <div className = \"blog-header\">\r\n                <div className = \"container-fluid\">\r\n                    <div className = \"row p-3\">\r\n                    <img  className = \"cedarcreek-logo\" src = {tree} width = '48px'/>\r\n                    <h1 className = \"pl-3 \">Cedarcreek Blog</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className = \"row blog-nav d-flex justify-content-around text-center\">\r\n                    <div className = \"blog-nav-item\">\r\n                        Woodworking\r\n                    </div>\r\n                    <div className = \"blog-nav-item\">\r\n                        Latest Projects\r\n                    </div>\r\n                    <div className = \"blog-nav-item\">\r\n                        Events\r\n                    </div>\r\n                    <div className = \"blog-nav-item\">\r\n                        Life\r\n                    </div>\r\n                </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nconst BlogHomePage =(props) =>{\r\n    const posts = props.posts;\r\n    const grid = props.orientation === \"portrait\" ? \"col-6\"  : \"col-4\" ; \r\n\r\n    return(\r\n        <React.Fragment>\r\n             \r\n                <p> blog-content goes here</p>\r\n                <div onClick = {props.toggleBlog} className=\"brk-btn\">\r\n                     back\r\n                </div>  \r\n\r\n            \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nconst BlogPosts = (props)=>{\r\n\r\n    const posts = props.posts;\r\n    const grid = props.orientation === \"portrait\" ? \"col-6\"  : \"col-4\" ; \r\n    \r\n\r\n        return(\r\n            <React.Fragment>\r\n\r\n           \r\n                <div className = \"container\">\r\n                    <div className =\"row\">\r\n                        {\r\n                            posts.map( (post,index) => {\r\n\r\n                                return( \r\n\r\n                                    <div className= {`${grid} mt-4 d-flex  align-items-center post-col`} key = {index} >\r\n\r\n                                      <div className = \"featured-post\">\r\n                                      {index % 2 === 1? <h3> {post.title} </h3> :null}\r\n                                        {index % 2 ===1? <figcaption>{new Date(post.date).toLocaleDateString()}</figcaption> :null }                                        \r\n                                        <div className = \"blog-featured-img-tile\">\r\n                                            <img width = \"100%\" src = {post.featuredImage.mediaItemUrl}\r\n                                            onClick = {e => props.togglePost(e,index)}\r\n                                            />\r\n                                        </div>\r\n                                        {index % 2 === 0? <h3> {post.title} </h3> :null}\r\n                                        {index % 2 ===0? <figcaption>{new Date(post.date).toLocaleDateString()}</figcaption> :null }  \r\n\r\n                                        </div>\r\n                                    </div>   \r\n                             \r\n                                );\r\n                            })\r\n\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div onClick = {props.toggleBlog} className=\"brk-btn\">\r\n                     back\r\n                </div>   \r\n           \r\n\r\n            </React.Fragment>\r\n        )\r\n\r\n}\r\n\r\nconst ViewPost = (props) =>{\r\n    console.log(props.post)\r\n    const comments = props.post.comments.nodes\r\n    return(\r\n        <React.Fragment>\r\n\r\n            <div className = \"post-content container\">\r\n                <h1> {props.post.title} </h1>\r\n                {renderHTML(props.post.content)}\r\n\r\n                {\r\n                comments.length > 0 && comments.content !== null  \r\n                ? \r\n                <React.Fragment>\r\n                    <div className = \"\">{new Date(comments[0].date).toLocaleDateString()}</div>\r\n                    <div className = \"comment-text\"> { renderHTML(comments[0].content) } </div> \r\n\r\n                </React.Fragment>\r\n                \r\n                : \r\n                null \r\n                }\r\n\r\n               \r\n            </div>\r\n            <div onClick = {props.togglePost} className=\"brk-btn\">\r\n                back\r\n            </div> \r\n\r\n        </React.Fragment>\r\n           \r\n    )\r\n}\r\n\r\nclass BlogContent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            viewPost:false,\r\n            activePost:[]\r\n        }\r\n\r\n        this.togglePost = this.togglePost.bind(this); \r\n\r\n    }\r\n\r\n    togglePost(e,key){\r\n        if (this.state.viewPost){\r\n            this.setState({viewPost:false})\r\n            this.setState({activePost: [] })\r\n        } else {\r\n        this.setState({viewPost:true})\r\n        this.setState({activePost : this.props.posts[key]})\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div className = \"page blog-page\"\r\n                style = {this.props.viewBlog? {marginTop: '0px'} : {marginTop: '30px'}}\r\n                >\r\n                    <BlogHeader/>\r\n\r\n                \r\n                { \r\n                    this.state.viewPost\r\n                    ?\r\n                    <ViewPost\r\n                    post = {this.state.activePost}\r\n                    togglePost = {this.togglePost}\r\n                    />\r\n                    :\r\n                    <BlogPosts\r\n                    orientation = {this.props.orientation}\r\n                    posts = {this.props.posts}\r\n                    togglePost = {this.togglePost}\r\n                    toggleBlog = {this.props.toggleBlog}\r\n                    />\r\n                    \r\n                    // <BlogHomePage\r\n                    // orientation = {this.props.orientation}\r\n                    // posts = {this.props.posts}\r\n                    // togglePost = {this.togglePost}\r\n                    // toggleBlog = {this.props.toggleBlog}\r\n                    // />\r\n                }\r\n            </div>          \r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass Blog extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            posts:[],\r\n             loading: true , \r\n           \r\n\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n            getPosts()\r\n            .then( result => {\r\n                console.log(result)\r\n                this.setState({posts:result})\r\n                this.setState({ loading:false});\r\n            })\r\n    }\r\n \r\n\r\n    render(){\r\n\r\n        const viewBlog = this.props.isUserInteractingWithBlog ;\r\n        // console.log(viewBlog)\r\n\r\n        return(\r\n            <React.Fragment>\r\n                \r\n                   {\r\n                        viewBlog \r\n                        ?\r\n                        this.state.loading \r\n                        ? \r\n                        <div className = \"loading-container\">\r\n                            <div className =\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>\r\n                        </div>\r\n                        : \r\n                        <BlogContent\r\n                        viewBlog = {viewBlog}\r\n                        toggleBlog = {this.props.toggleBlog}\r\n                        orientation = {this.props.orientation}                       \r\n                        posts = {this.state.posts}\r\n                        />\r\n                        :\r\n                        <BlogLandingPage\r\n                        downBtnScroll = {this.props.downBtnScroll}\r\n                        toggleBlog = {this.props.toggleBlog}\r\n                        />\r\n                   }\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n  \r\n}\r\n\r\nexport default Blog","import React from 'react'; \r\nimport Home from './homeComponent';\r\nimport About from './aboutComponent';\r\nimport Store from './storeComponent';\r\nimport Contact from './contactComponent';\r\nimport CheckOut from './checkoutComponent';\r\nimport Gallery from './galleryComponent'\r\nimport {GALLERY} from '../shared/galleryContent';\r\nimport Blog from './blogComponent';\r\nimport '../styles/gutenberg.scss';\r\nimport '../styles/wc_gutenberg_blocks.scss'\r\n\r\n\r\nimport  '../styles/downButtons.scss'\r\n\r\nclass Main extends React.Component{     \r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isUserInteractingWithGalery: false,\r\n            isUserInteractingWithStore : false , \r\n            isUserInteractingWithBlog : false , \r\n            viewCustom: false,\r\n            viewCatalog:false ,\r\n            storeRef : Object,\r\n            windowHeight : window.innerHeight,\r\n            content : GALLERY,\r\n            currentIndex: 1,\r\n            inventory : [] , \r\n            postionOfStore : [] ,\r\n            orientation :  \"portrait\",\r\n            view:false\r\n        }\r\n        this.homePage=React.createRef(this.homePage);\r\n        this.storePage = React.createRef(this.storePage);\r\n        this.handleOrientation = this.handleOrientation.bind(this);\r\n        this.handleView = this.handleView.bind(this); \r\n        this.revertView = this.revertView.bind(this);\r\n        this.handleScrollableFocus = this.handleScrollableFocus.bind(this);\r\n        this.toggleBlog = this.toggleBlog.bind(this); \r\n        this.downBtnScroll = this.downBtnScroll.bind(this);\r\n      \r\n        }\r\n\r\n        handleOrientation(){\r\n\r\n            this.setState({windowHeight:window.innerHeight})\r\n\r\n            if (window.innerWidth >= window.innerHeight) {\r\n                this.setState({orientation:\"landscape\"}) \r\n                 \r\n            }\r\n             else  {\r\n                 this.setState({orientation:\"portrait\"})\r\n            }\r\n        }\r\n\r\n        downBtnScroll(e,param){\r\n\r\n            e.preventDefault();\r\n             \r\n            switch(param){\r\n            case 'blog':\r\n                    const blog= document.getElementById('blog');\r\n                    blog.scrollIntoView({behavior:'smooth'}) ;  \r\n            \r\n            break\r\n            case 'store':\r\n                    const store= document.getElementById('store');\r\n                    store.scrollIntoView({behavior:'smooth'}) ;\r\n            break\r\n            case 'about':\r\n                    const about = document.getElementById('about');\r\n                    about.scrollIntoView({behavior:'smooth'});\r\n            break\r\n            case 'home':\r\n                    const home = document.getElementById('home-page');\r\n                    home.scrollIntoView({behavior:'smooth'});\r\n            break\r\n            case 'checkout':\r\n                    const checkout = document.getElementById('checkout');\r\n                    checkout.scrollIntoView({behavior:'smooth'});\r\n            break\r\n            case 'gallery':\r\n                    const gallery = document.getElementById('gallery');\r\n                    gallery.scrollIntoView({behavior:'smooth'});\r\n            break\r\n            case 'contact':\r\n                    const contact = document.getElementById('contact');\r\n                    contact.scrollIntoView({behavior:'smooth'})\r\n            break \r\n            }\r\n           \r\n\r\n\r\n        }\r\n\r\n        handleScrollableFocus(){\r\n           \r\n            // window.scrollTo(0, window.innerHeight*3 + 90,)\r\n            var storePage = document.getElementById('store');\r\n\r\n             \r\n            storePage.scrollIntoView({behavior:'smooth'});\r\n           \r\n        }\r\n\r\n        handleView(e,param){\r\n\r\n            this.handleScrollableFocus();\r\n           \r\n            param === \"custom\"\r\n            ?\r\n            this.setState({viewCustom:true , viewCatalog:false , isUserInteractingWithStore: true})\r\n            :\r\n            this.setState({viewCatalog:true , viewCustom:false , isUserInteractingWithStore: true})\r\n             \r\n        }\r\n\r\n        revertView(){\r\n    \r\n            this.setState({viewCatalog:false});\r\n            this.setState({viewCustom:false});\r\n            this.setState({isUserInteractingWithStore:false})\r\n            \r\n        }\r\n\r\n         toggleBlog(){\r\n            this.setState({isUserInteractingWithBlog: !this.state.isUserInteractingWithBlog});\r\n        }\r\n \r\n    \r\n\r\n        componentDidMount(){\r\n            window.addEventListener(\"resize\",this.handleOrientation)       \r\n\r\n            \r\n            \r\n        }\r\n\r\n      \r\nrender(){\r\n\r\n    return(\r\n        <React.Fragment>\r\n \r\n        <Home \r\n        windowHeight = {this.state.windowHeight}\r\n        handleView = {this.handleView}\r\n        isUserInteractingWithStore = {this.state.isUserInteractingWithStore}\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        />\r\n    \r\n        <About\r\n        isUserInteractingWithStore = {this.state.isUserInteractingWithStore}\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        />\r\n        \r\n        <Gallery \r\n        className = \"gallery-page\"\r\n        isUserInteractingWithStore = {this.state.isUserInteractingWithStore} \r\n        isUserInteractingWithGalery = {this.state.isUserInteractingWithGalery} \r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        />\r\n\r\n        {/* <Blog\r\n        orientation = {this.state.orientation}\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        toggleBlog = {this.toggleBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        \r\n        /> */}\r\n       \r\n       <Store \r\n        ref = {this.storePage}\r\n        isUserInteractingWithStore = {this.state.isUserInteractingWithStore} \r\n\r\n        handleScrollableFocus = {this.handleScrollableFocus}\r\n\r\n        viewCatalog = {this.state.viewCatalog}\r\n        viewCustom = {this.state.viewCustom}\r\n\r\n        handleView = {this.handleView}\r\n        revertView = {this.revertView}\r\n\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        />\r\n \r\n        <Contact\r\n        isUserInteractingWithStore = {this.state.isUserInteractingWithStore}\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        downBtnScroll = {this.downBtnScroll}\r\n        />\r\n        \r\n        <CheckOut\r\n        isUserInteractingWithBlog = {this.state.isUserInteractingWithBlog}\r\n        />\r\n\r\n        </React.Fragment>\r\n    )}\r\n}\r\nexport default Main","\r\nimport React, {useContext} from 'react'\r\nimport {AppContext} from \"./context/AppContext\"\r\nimport Main from './mainComponent'\r\n\r\nconst StripeWrapperComponent = () => {\r\n  \r\n    const [cart,setCart] = useContext(AppContext) ; \r\n \r\n    return (\r\n      <Main/>\r\n    )\r\n  };\r\n\r\n  export default StripeWrapperComponent\r\n  ","import React from 'react';\n\nimport './App.css';\nimport './buttons.scss';\nimport './styles/AppBehavior.scss'\nimport {AppProvider} from './components/context/AppContext';\nimport StripeWrapperComponent from './components/stripeWrapperComponent'\nimport {StripeProvider} from 'react-stripe-elements';\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <StripeProvider apiKey=\"pk_test_7LEEquBX9joVxcuVTXsZW0RN002UkUsXj3\">\n        <AppProvider>\n            <StripeWrapperComponent/>\n        </AppProvider>\n      </StripeProvider>\n    \n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/**\r\n * Extracts and returns float value from a string.\r\n *\r\n * @param {string} string String\r\n * @return {any}\r\n */\r\nexport const getFloatVal = ( string ) => {\r\n\r\n\t// let floatValue = string.match( /[+-]?\\d+(\\.\\d+)?/g )[0];\r\n\tlet floatValue = string.match( /[+-]?\\d+(\\.\\d+)?/g ).join('');\r\n\t\r\n\treturn ( null !== floatValue ) ? parseFloat( parseFloat( floatValue ).toFixed( 2 ) ) : '';\r\n\r\n};\r\n\r\n/**\r\n * Add first product.\r\n *\r\n * @param {Object} product Product\r\n * @return {{totalProductsCount: number, totalProductsPrice: any, products: Array}}\r\n */\r\nexport const addFirstProduct = ( product ) => {\r\n\r\n\tlet productPrice = getFloatVal( product.price );\r\n\r\n\tlet stockQuantity = product.stockQuantity;\r\n\r\n\tlet newCart = {\r\n\t\tproducts: [],\r\n\t\ttotalProductsCount: 1,\r\n\t\ttotalProductsPrice: productPrice,\r\n\t\t// test \r\n\t\t// stockQuantity : product.stockQuantity \r\n\t\t// end test\r\n\t};\r\n\r\n\tconst newProduct = createNewProduct( product, productPrice, 1 , stockQuantity );\r\n\tnewCart.products.push( newProduct );\r\n\r\n\tlocalStorage.setItem( 'cedarcreekforestry-cart', JSON.stringify( newCart ) );\r\n\r\n\treturn newCart;\r\n};\r\n\r\n/**\r\n * Create a new product object.\r\n *\r\n * @param {Object} product Product\r\n * @param {Integer} productPrice Product Price\r\n * @param {Integer} qty Quantity\r\n * @param {Integer} stockQuantity available stock\r\n * @return {{image: *, productId: *, totalPrice: number, price: *, qty: *, name: *}}\r\n */\r\nexport const createNewProduct = ( product, productPrice, qty ,stockQuantity ) => {\r\n\r\n\treturn  {\r\n\t\tproductId: product.productId,\r\n\t\timage: product.image,\r\n\t\tname: product.name,\r\n\t\tprice: productPrice,\r\n\t\tqty,\r\n\t\ttotalPrice: parseFloat( ( productPrice * qty ).toFixed( 2 ) ),\r\n\t\tstockQuantity: stockQuantity\r\n\t};\r\n\r\n};\r\n\r\n/**\r\n * Updates the existing cart with new item.\r\n *\r\n * @param {Object} existingCart Existing Cart.\r\n * @param {Object} product Product.\r\n * @param {Integer} qtyToBeAdded Quantity.\r\n * @param {Integer} newQty New Qty to be updated.\r\n * @return {{totalProductsCount: *, totalProductsPrice: *, products: *}}\r\n */\r\nexport const updateCart = ( existingCart, product, qtyToBeAdded, newQty = false  ) => {\r\n\r\n\tlet updatedProducts = getUpdatedProducts( existingCart.products , product, qtyToBeAdded, newQty );\r\n\r\n\tconst addPrice = (total, item) => {\r\n\t\ttotal.totalPrice += item.totalPrice;\r\n\t\ttotal.qty += item.qty;\r\n\r\n\t\treturn total;\r\n\t};\r\n\r\n\t// Loop through the updated product array and add the totalPrice of each item to get the totalPrice\r\n\tconst total = updatedProducts.reduce( addPrice, { totalPrice: 0, qty: 0 } );\r\n\r\n\tconst updatedCart = {\r\n\t\tproducts: updatedProducts,\r\n\t\ttotalProductsCount: parseInt( total.qty ),\r\n\t\ttotalProductsPrice: parseFloat( total.totalPrice )\r\n\t};\r\n\r\n\tlocalStorage.setItem( 'cedarcreekforestry-cart', JSON.stringify( updatedCart ) );\r\n\r\n\treturn updatedCart;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Get updated products array\r\n * Update the product if it exists else,\r\n * add the new product to existing cart,\r\n *\r\n * @param {Object} existingProductsInCart Existing product in cart\r\n * @param {Object} product Product\r\n * @param {Integer} qtyToBeAdded Quantity\r\n * @param {Integer} newQty New qty of the product (optional)\r\n * @return {*[]}\r\n */\r\nexport const getUpdatedProducts = ( existingProductsInCart, product, qtyToBeAdded, newQty = false ) => {\r\n\r\n\t// Check if the product already exits in the cart.\r\n\tconst productExitsIndex = isProductInCart( existingProductsInCart, product.productId );\r\n\r\n\t// If product exits ( index of that product found in the array ), update the product quantity and totalPrice\r\n\tif ( -1 < productExitsIndex ) {\r\n\t\tlet updatedProducts = existingProductsInCart;\r\n\t\tlet updatedProduct = updatedProducts[ productExitsIndex ];\r\n\r\n\t\t// If have new qty of the product available, set that else add the qtyToBeAdded\r\n\t\tupdatedProduct.qty = ( newQty ) ? parseInt( newQty ) : parseInt( updatedProduct.qty + qtyToBeAdded );\r\n\t\tupdatedProduct.totalPrice = parseFloat( ( updatedProduct.price * updatedProduct.qty ).toFixed( 2 ) );\r\n\r\n\t\treturn  updatedProducts;\r\n\t} else {\r\n\r\n\t\t// If product not found push the new product to the existing product array.\r\n\t\tlet stockQuantity = product.stockQuantity\r\n\t\tlet productPrice = getFloatVal( product.price );\r\n\t\tconst newProduct = createNewProduct( product, productPrice, qtyToBeAdded , stockQuantity);\r\n\t\texistingProductsInCart.push( newProduct );\r\n\r\n\t\treturn existingProductsInCart;\r\n\t}\r\n};\r\n\r\n/**\r\n * Returns index of the product if it exists.\r\n *\r\n * @param {Object} existingProductsInCart Existing Products.\r\n * @param {Integer} productId Product id.\r\n * @return {number | *} Index Returns -1 if product does not exist in the array, index number otherwise\r\n */\r\nconst isProductInCart = ( existingProductsInCart, productId ) => {\r\n\r\n\tconst returnItemThatExits = ( item, index ) => {\r\n\t\tif ( productId === item.productId ) {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t};\r\n\r\n\t// This new array will only contain the product which is matched.\r\n\tconst newArray = existingProductsInCart.filter( returnItemThatExits );\r\n\r\n\treturn existingProductsInCart.indexOf( newArray[0] );\r\n};\r\n\r\n/**\r\n * Remove Item from the cart.\r\n *\r\n * @param {Integer} productId Product Id.\r\n * @return {any | string} Updated cart\r\n */\r\nexport const removeItemFromCart = (e,productId ) => {\r\n\t e.preventDefault();\r\n\r\n\tlet existingCart = localStorage.getItem( 'cedarcreekforestry-cart' );\r\n\texistingCart = JSON.parse( existingCart );\r\n\r\n\r\n\t// If there is only one item in the cart, delete the cart.\r\n\t// if ( 1 === existingCart.products.length ) {\r\n\tif ( 1 === existingCart.totalProductsCount ) {\r\n\r\n\t\tlocalStorage.removeItem( 'cedarcreekforestry-cart' );\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\t// Check if the product already exits in the cart.\r\n\tconst productExitsIndex = isProductInCart( existingCart.products, productId );\r\n\t \r\n\r\n\t// If product to be removed exists\r\n\tif ( -1 < productExitsIndex ) {\r\n\r\n\t\tconst productTobeRemoved = existingCart.products[ productExitsIndex ];\r\n\t\t// const qtyToBeRemovedFromTotal = productTobeRemoved.qty;\r\n\t\tconst qtyToBeRemovedFromTotal =  1;\r\n\t\t// const priceToBeDeductedFromTotal = productTobeRemoved.totalPrice;\r\n\t\tconst priceToBeDeductedFromTotal = productTobeRemoved.price;\r\n\r\n\t\t// Remove that product from the array and update the total price and total quantity of the cart\r\n\t\tlet updatedCart = existingCart;\r\n\t\t// updatedCart.products.splice( productExitsIndex, 1 );\r\n\t\t// console.log( existingCart.products[productExitsIndex].qty)\r\n\r\n\t\t// if there is only one product left of the specified item but there are\r\n\t\t//  still other products in the cart remove only the specified item from the cart\r\n\r\n\t\tif (existingCart.products[productExitsIndex].qty === 1){\r\n\r\n\t\t \tupdatedCart.products.splice( productExitsIndex, 1 );\r\n\t\t}\r\n\t\telse { \r\n\t\t\tupdatedCart.products[productExitsIndex].qty = existingCart.products[productExitsIndex].qty -  1;\r\n\t\t}\r\n\t\tupdatedCart.totalProductsCount = updatedCart.totalProductsCount - qtyToBeRemovedFromTotal;\r\n\t\tupdatedCart.totalProductsPrice = updatedCart.totalProductsPrice - priceToBeDeductedFromTotal;\r\n\t\tlocalStorage.setItem( 'cedarcreekforestry-cart', JSON.stringify( updatedCart ) );\r\n\t\treturn updatedCart;\r\n\r\n\t} else {\r\n\t\treturn existingCart;\r\n\t}\r\n};","\r\nimport React,{useContext,useState} from 'react';\r\nimport {Popover,Button, PopoverBody} from 'reactstrap';\r\nimport {addFirstProduct, updateCart} from './functions'\r\nimport {AppContext} from '../context/AppContext';\r\nimport cartIcon from '../../shared/icons/cart.png'\r\n\r\nconst CartSuccess = (props) => {\r\n\r\n    // console.log(props.cart)\r\n\r\n    const itemsInCartNumber = props.cart ? props.cart.totalProductsCount : 0 ;\r\n\r\n    // pass in css classes to show cart icon if user clicks add-to-cart-btn and action is allowable\r\n\r\n    const show = props.animate? 'slide-in-out' : ' ';\r\n\r\n    const shake = props.animate ? 'attention-seeker' : ' '; \r\n\r\n    return(\r\n        <div className = 'row d-flex justify-content-center'>\r\n            <div className = {`${show} cart-sucess`}> \r\n                <div className = 'col-3 mt-4 pb-2'>\r\n                <span className = {`${shake} cart-badge`} >{itemsInCartNumber}</span>\r\n                    <img src = {cartIcon} width = '100%'/>\r\n                 \r\n                </div>\r\n            </div>        \r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst ViewCartButton = ()=>{\r\n\r\n    var checkoutPage = document.getElementById('checkout'); \r\n\r\n    const scrollToView = ()=> checkoutPage.scrollIntoView({behavior: \"smooth\"});\r\n\r\n    \r\n    if (process.browser) {\r\n        let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n        if (existingCart) {\r\n\r\n            return(\r\n                <div className = \"text-center cart-action-btn view-cart-btn\" onClick={scrollToView}>\r\n                     VIEWCART\r\n                </div>\r\n           \r\n            );\r\n\r\n        }\r\n        return null\r\n    \r\n    }\r\n    return null\r\n\r\n}\r\n\r\n \r\n\r\n\r\nconst AddToCartButton = (props) => {\r\n\r\n    const { product } = props; \r\n    const [cart,setCart] = useContext(AppContext);   \r\n\r\n    const [message,setMessage] = useState(\"Sorry, item either out of stock or the requested amount exceeds inventory\") ; \r\n    const [pop,setPop] = useState(false);\r\n\r\n\r\n    const toggle = (e,onBlur) => {\r\n\r\n        // prevent pop up from shwowing on every click\r\n        e.preventDefault()\r\n        // hack to enable trigger = 'focus'\r\n        if (onBlur){\r\n            setPop(false)\r\n        }\r\n        else\r\n        setPop(!pop)\r\n         \r\n        // Determin the message (reason action can not be completed) \r\n\r\n            if (checkIfAvailable(product)[1] === 'OUT_OF_STOCK' ){\r\n    \r\n                setMessage('Sorry, item out of stock ')\r\n            }\r\n            else \r\n            setMessage(`Sorry, only ${product.stockQuantity === null ? 1: product.stockQuantity } available`)     \r\n    \r\n        \r\n    }\r\n\r\n    const [animate, setAnimate] = useState(false);\r\n\r\n    const toggleAnimate = () => {\r\n\r\n        setAnimate(false);\r\n        \r\n    }\r\n\r\n\r\n    const indexOfProductInCart = (product) => {\r\n\r\n      \r\n\r\n         if (cart){\r\n            const index = cart.products.map(product => product.productId).indexOf(product.productId)\r\n   \r\n            \r\n            return(index)\r\n\r\n         }\r\n         else return -1\r\n\r\n    }\r\n\r\n    const checkIfAvailable = (product) => {\r\n        \r\n         \r\n        \r\n\r\n        // check if item is in stock\r\n        if(product.stockStatus === 'IN_STOCK'){\r\n\r\n            let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n            existingCart = JSON.parse(existingCart);\r\n            console.log(\"existing cart\",existingCart)\r\n\r\n            // check if cart exists\r\n            if (existingCart){\r\n\r\n                // check if item already in cart\r\n                if ( indexOfProductInCart(product) > -1) {\r\n\r\n                \r\n                    // check if amount requested is available\r\n                    if (existingCart.products[indexOfProductInCart(product)].qty === product.stockQuantity || product.stockQuantity === null){\r\n                            \r\n                        // if quantity of product in cart is equal to the stock quantity \r\n                        // or if stockQuantity is null (ie Sterling forgot to add quantity)\r\n                        // disallow adding it to cart then\r\n                        \r\n                         \r\n                         return [false,'MAX']\r\n                         \r\n\r\n                    }\r\n                    // item in cart but requested amount is available\r\n                    else return [true,'allow']\r\n\r\n\r\n                }\r\n                // item not in cart but item in stock\r\n                // allow user to add item to cart\r\n                else return  [true,'allow']\r\n                \r\n\r\n            }\r\n            //  if cart does not exist but item in stock\r\n            //  allow user to add item\r\n            else return [true,'allow']\r\n\r\n\r\n        }\r\n        // item not in stock\r\n        else {\r\n\r\n            return [false,'OUT_OF_STOCK']\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    const handleFinishTypes = () => {\r\n\r\n        console.log('handleAddToCartClick was successfully rerouted to handleFinishTypes with props')\r\n\r\n        //  @TODOS \r\n        //  funtion will take dimensions of a cut as props\r\n        //  and calculate surface area of object. \r\n        //  This will be then used to calculate qtyToBeAdded \r\n        //  parameter in setCart function\r\n\r\n        \r\n\r\n        let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n\r\n        if(existingCart){\r\n\r\n\r\n            let surfaceArea = props.surfaceArea ; \r\n            existingCart = JSON.parse(existingCart);\r\n\r\n            const qtyToBeAdded = surfaceArea;\r\n                        \r\n            const updatedCart = updateCart(existingCart,product,qtyToBeAdded) ; \r\n\r\n            setAnimate(true)\r\n            setTimeout(toggleAnimate,2100);\r\n\r\n            setCart( updatedCart)\r\n\r\n        }\r\n\r\n        else console.log('there is not an item selected to apply a custom finish to')\r\n        \r\n        \r\n        \r\n        \r\n    }\r\n \r\n\r\n    const handleAddToCartClick = () => {\r\n\r\n         \r\n        \r\n        // check if process is in broweser\r\n        if (process.browser) {\r\n            \r\n            // check if item is in stock\r\n            if(product.stockStatus === 'IN_STOCK'){                \r\n\r\n                // if cart has item(s) already, then update the exisiting cart\r\n                let existingCart = localStorage.getItem('cedarcreekforestry-cart');\r\n                if (existingCart) {\r\n\r\n                    existingCart = JSON.parse(existingCart);\r\n\r\n                    console.log(existingCart)\r\n\r\n                    // check if product is a finish type\r\n                    // fuck this for right now and try to convince sterling \r\n                    // its too much a pain in the ass \r\n\r\n                    // if (product.productCategories.nodes[0].name === 'Finishes'){\r\n\r\n                    //     handleFinishTypes()\r\n\r\n                    // }\r\n\r\n\r\n                    // check if product already in cart\r\n                    if ( indexOfProductInCart(product) > -1) {\r\n\r\n                        \r\n                        \r\n                        // check if amount requested is available \r\n                        if (existingCart.products[indexOfProductInCart(product)].qty === product.stockQuantity || product.stockQuantity === null){\r\n                            \r\n                            // if quantity of product in cart is equal to the stock quantity \r\n                            // or if stockQuantity is null (ie Sterling forgot to add quantity)\r\n                            // then disallow adding it to cart\r\n                             \r\n                                   \r\n                            return null \r\n\r\n\r\n                        }\r\n                        else{\r\n\r\n                            // otherwise quantity of product in cart is less then stock quantity\r\n                            // allow adding it to cart\r\n                            \r\n                            const qtyToBeAdded = 1;\r\n                    \r\n                            const updatedCart = updateCart(existingCart,product,qtyToBeAdded) ;\r\n\r\n                            indexOfProductInCart(product)\r\n                            \r\n                            \r\n                            setAnimate(true)\r\n                            setTimeout(toggleAnimate,2100);\r\n\r\n                            setCart( updatedCart)\r\n                    \r\n                        }\r\n                        \r\n                    } \r\n                    else{\r\n\r\n                        // cart exists and item in stock but item not yet in cart\r\n                        // add item to cart\r\n                            \r\n                        const qtyToBeAdded = 1;\r\n                        \r\n                        const updatedCart = updateCart(existingCart,product,qtyToBeAdded) ; \r\n                        console.log(\"you just tried adding \",product)\r\n\r\n                        setAnimate(true)\r\n                        setTimeout(toggleAnimate,2100);\r\n\r\n                        setCart( updatedCart)\r\n\r\n                    }\r\n                    \r\n                } \r\n\r\n                // like i said before this is too much a pain in the ass\r\n\r\n                // else if (product.productCategories.nodes[0].name === 'Finishes'){\r\n                //     // this acutally shouldn't be allowed because the user needs to first \r\n                //     // select a slab from a series to apply the finish to\r\n                //     handleFinishTypes()\r\n                // }\r\n                else{\r\n\r\n                    // if no item in the cart, then create an empty array and add item. \r\n                     \r\n                    const newCart = addFirstProduct(product);\r\n\r\n                    setAnimate(true);\r\n                    setTimeout(toggleAnimate,2100);\r\n                    setCart( newCart);\r\n\r\n                }                \r\n        \r\n            } \r\n            else{\r\n                \r\n                // if item not in stock disallow adding it to cart \r\n                // then toggle popover notifying user they have reached\r\n                // they have reached the limit available to purchase\r\n                \r\n               \r\n                 \r\n                return null\r\n                    \r\n                \r\n            }\r\n            \r\n\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    \r\n    return(\r\n        <React.Fragment>\r\n\r\n             <div className = \"row d-flex justify-content-center\">\r\n             <div role = 'button' id = 'add-to-cart' className = \"text-center cart-action-btn add-to-cart-btn\" onClick={ checkIfAvailable(product)[0] ?  handleAddToCartClick : e=>toggle(e) }> ADD TO CART</div>\r\n             </div>\r\n             <div className = \"row d-flex justify-content-center\">\r\n            <ViewCartButton />\r\n             </div>\r\n\r\n             <Popover placement = \"bottom\" isOpen = {pop} trigger = 'click legacy' target = 'add-to-cart' toggle = {e=>toggle(e,'focus')}>\r\n                 <PopoverBody>\r\n                 <p> {message} </p>\r\n                 </PopoverBody>\r\n             </Popover>\r\n\r\n             <CartSuccess  animate = {animate} cart = {cart} />\r\n        \r\n        </React.Fragment>\r\n       \r\n    )\r\n}\r\n\r\nexport default AddToCartButton"],"sourceRoot":""}